webpackJsonp([0],Array(69).concat([function(module,exports,__webpack_require__){"use strict";eval("/* WEBPACK VAR INJECTION */(function(process, global) {var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;\n\nvar _typeof2 = __webpack_require__(9);\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n//这个类使用老js方法，有可能直接插入html标签内使用\n!function (factory) {\n\n    var root = typeof window !== 'undefined' ? window : (typeof process === 'undefined' ? 'undefined' : (0, _typeof3.default)(process)) === 'object' && \"function\" === 'function' && (typeof global === 'undefined' ? 'undefined' : (0, _typeof3.default)(global)) === 'object' ? global : this;\n\n    if (true) {\n\n        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [exports], __WEBPACK_AMD_DEFINE_RESULT__ = function (exports) {\n\n            module.exports = factory(root, exports);\n        }.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n    } else if (typeof exports !== 'undefined') {\n\n        module.exports = factory(root, exports);\n    } else {\n\n        factory(root);\n    }\n}(function (root, model) {\n\n    /**\n     * 事件机制类\n     * @class ds.core.EventDispatcher\n     * @classdesc 实现js下的事件派发机制，为复杂的互动交互提供事件派发功能。\n     * @example\n     *\n     * //一只猫的类，拥有事件机制\n     * //ES6继承写法\n     * import EventDispatcher from  'ds/core/EventDispatcher';\n     * export default class CatClass extends EventDispatcher\n     * {\n     *\n     * }\n     *\n     * //老版本js继承写法\n     * function CatClass(){\n     *\n     *     ds.core.EventDispatcher.extend(this);\n     *\n     * };\n     *\n     */\n    function EventDispatcher() {\n\n        /**\n         * 添加监听事件\n         * @method ds.core.EventDispatcher.prototype.addEventListener\n         * @function\n         * @param {string} type 事件标识\n         * @param {function} listener 事件执行函数\n         * @param {*} [context=this]  监听方法内的this上下文关系\n         */\n        this.addEventListener = function (type, listener, context) {\n\n            if (this._listeners === undefined) this._listeners = {};\n\n            var _listeners = this._listeners;\n\n            if (_listeners[type] === undefined) {\n\n                _listeners[type] = [];\n            }\n\n            if (_listeners[type].indexOf(listener) === -1) {\n\n                if (context !== undefined) listener._ds_context = context;\n\n                _listeners[type].push(listener);\n            }\n        };\n\n        /**\n         * 添加监听事件\n         * @method ds.core.EventDispatcher.prototype.on\n         * @function\n         * @see {@link ds.core.EventDispatcher#addEventListener}\n         */\n        this.on = this.addEventListener;\n\n        /**\n         * 添加监听事件,执行一次就销毁\n         * @method ds.core.EventDispatcher.prototype.once\n         * @param {string} type 事件标识\n         * @param {function} listener 事件执行函数\n         * @param {*} [context=this]  监听方法内的this上下文关系\n         */\n        this.once = function (type, listener, context) {\n\n            listener.once = true;\n            this.addEventListener(type, listener, context);\n        };\n\n        /**\n         * 判断是否监听指定事件\n         * @function\n         * @method ds.core.EventDispatcher.prototype.hasEventListener\n         * @param {string } type  事件标识\n         * @param {function} listener 事件执行函数\n         * @returns {boolean}\n         */\n        this.hasEventListener = function (type, listener) {\n\n            if (this._listeners === undefined) return false;\n\n            var _listeners = this._listeners;\n\n            return _listeners[type] !== undefined && _listeners[type].indexOf(listener) !== -1;\n        };\n        /**\n         * 判断是否监听指定事件\n         * @method ds.core.EventDispatcher.prototype.hs\n         * @see {@link ds.core.EventDispatcher#addEventListener}\n         */\n        this.hs = this.hasEventListener;\n\n        /**\n         * 删除监听事件\n         * @method ds.core.EventDispatcher.prototype.removeEventListener\n         * @param type 事件标识\n         * @param listener  时间执行函数\n         */\n        this.removeEventListener = function (type, listener) {\n\n            if (this._listeners === undefined) return;\n\n            var _listeners = this._listeners;\n            var _listenerArray = _listeners[type];\n\n            if (_listenerArray !== undefined) {\n\n                var _index = _listenerArray.indexOf(listener);\n\n                if (_index !== -1) {\n\n                    _listenerArray.splice(_index, 1);\n                }\n            }\n        };\n\n        /**\n         * 删除监听事件\n         * @method ds.core.EventDispatcher.prototype.off\n         * @see {@link ds.core.EventDispatcher#removeEventListener}\n         */\n        this.off = this.removeEventListener;\n\n        /**\n         * 派发事件\n         * @method ds.core.EventDispatcher.prototype.dispatchEvent\n         * @param {string | object} event 可以是事件标识名的字符串、或者带事件标识名的对象。\n         * @param {string } event.type 事件标识名\n         * @param {*} [event.*] 派发事件对象可带任意对象参数\n         */\n        this.dispatchEvent = function (event) {\n\n            if (this._listeners === undefined) return;\n\n            if (typeof event === 'string') event = { type: event };\n\n            var _listeners = this._listeners;\n            var _listenerArray = _listeners[event.type];\n\n            if (_listenerArray !== undefined) {\n\n                event.target = this;\n\n                var _array = _listenerArray.slice(0);\n\n                for (var i = 0, l = _array.length; i < l; i++) {\n\n                    // console.log('---\x3e_array[i]:',_array[i],i,_array[i].call);\n                    // console.log(_array[i]._ds_context,this);\n\n                    if (_array[i]._ds_context) _array[i].call(_array[i]._ds_context, event);else _array[i].call(this, event);\n\n                    if (_array[i].once) {\n                        this.removeEventListener(event.type, _array[i]);\n                    }\n                }\n            }\n        };\n\n        /**\n         * 派发事件\n         * @method ds.core.EventDispatcher.prototype.emit\n         * @see {@link ds.core.EventDispatcher#dispatchEvent}\n         */\n        this.emit = this.dispatchEvent;\n\n        /**\n         * 派发事件\n         * @method ds.core.EventDispatcher.prototype.trigger\n         * @see {@link ds.core.EventDispatcher#dispatchEvent}\n         */\n        this.trigger = this.dispatchEvent;\n\n        /**\n         * 派发事件\n         * @method ds.core.EventDispatcher.prototype.ds\n         * @see {@link ds.core.EventDispatcher#dispatchEvent}\n         */\n        this.ds = this.dispatchEvent;\n\n        /**\n         * 删除所有的事件监听\n         * @method ds.core.EventDispatcher.prototype.removeAllEventListeners\n         */\n        this.removeAllEventListeners = function () {\n\n            this._listeners = {};\n        };\n    }\n\n    function keys(obj) {\n\n        var keys = [];\n        for (var key in obj) {\n\n            keys.push(key);\n        }\n\n        return keys;\n    }\n\n    function extend(obj) {\n\n        var length = arguments.length;\n\n        if (length < 2 || obj === null) return obj;\n\n        for (var index = 1; index < length; index++) {\n\n            var source = arguments[index],\n                ks = keys(source),\n                l = ks.length;\n\n            for (var i = 0; i < l; i++) {\n\n                var key = ks[i];\n                obj[key] = source[key];\n            }\n        }\n\n        return obj;\n    }\n\n    /**\n     * 一个对象通过copy一个EventDispatcher对象方法成员来进行继承事件派发机制\n     * @method  ds.core.EventDispatcher.extend\n     * @function\n     * @static\n     * @param {class} source 需要继承事件派发机制的对象\n     * @example\n     *\n     * require('ds/core/EventDispatcher');\n     * //创建一个猫的类，继承事件派发机制。\n     * function CatClass(){\n     *\n     *    //这个猫继承了事件派发机制\n     *    ds.EventDispatcher.extend(this);\n     *\n     *    //猫有一个行走的方法\n     *    this.startRun=function(){\n     *\n     *        //发出行走事件 `run`\n     *        this.ds('run');\n     *\n     *    }\n     *\n     * }\n     *\n     * //创建一个类的实例\n     * var cat = new CatClass();\n     *\n     * //开始监听猫的 run 行为\n     * cat.on('run',function(){\n     *      console.log('cat run');\n     * });\n     *\n     * //执行猫开始行走，之前监听就会接受到相关事件\n     * cat.startRun();\n     *\n     */\n    EventDispatcher.extend = function (source) {\n\n        extend(source, new EventDispatcher());\n    };\n\n    var ds = root.ds = root.ds || {};\n    ds.core = ds.core || {};\n    ds.core.EventDispatcher = EventDispatcher;\n    /**\n     * 事件机制类\n     * @class ds.EventDispatcher\n     * @classdesc 实现js下的事件派发机制，为复杂的互动交互提供事件派发功能。\n     * @see ds.EventDispatcher 实际等同于 {@link ds.core.EventDispatcher}\n     */\n    ds.EventDispatcher = EventDispatcher;\n\n    return ds.core.EventDispatcher;\n});\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(15), __webpack_require__(8)))\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/ds/core/EventDispatcher.js\n// module id = 69\n// module chunks = 0 1 2\n\n//# sourceURL=webpack:///./src/ds/core/EventDispatcher.js?")},function(module,exports,__webpack_require__){"use strict";eval('\n\nexports.__esModule = true;\n\nexports.default = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError("Cannot call a class as a function");\n  }\n};\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/_babel-runtime@6.26.0@babel-runtime/helpers/classCallCheck.js\n// module id = 70\n// module chunks = 0 1\n\n//# sourceURL=webpack:///../node_modules/_babel-runtime@6.26.0@babel-runtime/helpers/classCallCheck.js?')},function(module,exports,__webpack_require__){"use strict";eval('\n\nexports.__esModule = true;\n\nvar _defineProperty = __webpack_require__(80);\n\nvar _defineProperty2 = _interopRequireDefault(_defineProperty);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if ("value" in descriptor) descriptor.writable = true;\n      (0, _defineProperty2.default)(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/_babel-runtime@6.26.0@babel-runtime/helpers/createClass.js\n// module id = 71\n// module chunks = 0 1\n\n//# sourceURL=webpack:///../node_modules/_babel-runtime@6.26.0@babel-runtime/helpers/createClass.js?')},function(module,exports,__webpack_require__){eval('module.exports = { "default": __webpack_require__(77), __esModule: true };\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/_babel-runtime@6.26.0@babel-runtime/core-js/object/get-prototype-of.js\n// module id = 72\n// module chunks = 0 1\n\n//# sourceURL=webpack:///../node_modules/_babel-runtime@6.26.0@babel-runtime/core-js/object/get-prototype-of.js?')},function(module,exports,__webpack_require__){"use strict";eval('\n\nexports.__esModule = true;\n\nvar _typeof2 = __webpack_require__(9);\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (self, call) {\n  if (!self) {\n    throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");\n  }\n\n  return call && ((typeof call === "undefined" ? "undefined" : (0, _typeof3.default)(call)) === "object" || typeof call === "function") ? call : self;\n};\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/_babel-runtime@6.26.0@babel-runtime/helpers/possibleConstructorReturn.js\n// module id = 73\n// module chunks = 0 1\n\n//# sourceURL=webpack:///../node_modules/_babel-runtime@6.26.0@babel-runtime/helpers/possibleConstructorReturn.js?')},function(module,exports,__webpack_require__){"use strict";eval('\n\nexports.__esModule = true;\n\nvar _setPrototypeOf = __webpack_require__(83);\n\nvar _setPrototypeOf2 = _interopRequireDefault(_setPrototypeOf);\n\nvar _create = __webpack_require__(75);\n\nvar _create2 = _interopRequireDefault(_create);\n\nvar _typeof2 = __webpack_require__(9);\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (subClass, superClass) {\n  if (typeof superClass !== "function" && superClass !== null) {\n    throw new TypeError("Super expression must either be null or a function, not " + (typeof superClass === "undefined" ? "undefined" : (0, _typeof3.default)(superClass)));\n  }\n\n  subClass.prototype = (0, _create2.default)(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf2.default ? (0, _setPrototypeOf2.default)(subClass, superClass) : subClass.__proto__ = superClass;\n};\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/_babel-runtime@6.26.0@babel-runtime/helpers/inherits.js\n// module id = 74\n// module chunks = 0 1\n\n//# sourceURL=webpack:///../node_modules/_babel-runtime@6.26.0@babel-runtime/helpers/inherits.js?')},function(module,exports,__webpack_require__){eval('module.exports = { "default": __webpack_require__(87), __esModule: true };\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/_babel-runtime@6.26.0@babel-runtime/core-js/object/create.js\n// module id = 75\n// module chunks = 0 1\n\n//# sourceURL=webpack:///../node_modules/_babel-runtime@6.26.0@babel-runtime/core-js/object/create.js?')},function(module,exports){eval("/* WEBPACK VAR INJECTION */(function(__webpack_amd_options__) {/* globals __webpack_amd_options__ */\r\nmodule.exports = __webpack_amd_options__;\r\n\n/* WEBPACK VAR INJECTION */}.call(exports, {}))\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/amd-options.js\n// module id = 76\n// module chunks = 0 1\n\n//# sourceURL=webpack:///(webpack)/buildin/amd-options.js?")},function(module,exports,__webpack_require__){eval("__webpack_require__(78);\nmodule.exports = __webpack_require__(7).Object.getPrototypeOf;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/_core-js@2.5.1@core-js/library/fn/object/get-prototype-of.js\n// module id = 77\n// module chunks = 0 1\n\n//# sourceURL=webpack:///../node_modules/_core-js@2.5.1@core-js/library/fn/object/get-prototype-of.js?")},function(module,exports,__webpack_require__){eval("// 19.1.2.9 Object.getPrototypeOf(O)\nvar toObject = __webpack_require__(39);\nvar $getPrototypeOf = __webpack_require__(41);\n\n__webpack_require__(79)('getPrototypeOf', function () {\n  return function getPrototypeOf(it) {\n    return $getPrototypeOf(toObject(it));\n  };\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/_core-js@2.5.1@core-js/library/modules/es6.object.get-prototype-of.js\n// module id = 78\n// module chunks = 0 1\n\n//# sourceURL=webpack:///../node_modules/_core-js@2.5.1@core-js/library/modules/es6.object.get-prototype-of.js?")},function(module,exports,__webpack_require__){eval("// most Object methods by ES6 should accept primitives\nvar $export = __webpack_require__(16);\nvar core = __webpack_require__(7);\nvar fails = __webpack_require__(10);\nmodule.exports = function (KEY, exec) {\n  var fn = (core.Object || {})[KEY] || Object[KEY];\n  var exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function () { fn(1); }), 'Object', exp);\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/_core-js@2.5.1@core-js/library/modules/_object-sap.js\n// module id = 79\n// module chunks = 0 1\n\n//# sourceURL=webpack:///../node_modules/_core-js@2.5.1@core-js/library/modules/_object-sap.js?")},function(module,exports,__webpack_require__){eval('module.exports = { "default": __webpack_require__(81), __esModule: true };\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/_babel-runtime@6.26.0@babel-runtime/core-js/object/define-property.js\n// module id = 80\n// module chunks = 0 1\n\n//# sourceURL=webpack:///../node_modules/_babel-runtime@6.26.0@babel-runtime/core-js/object/define-property.js?')},function(module,exports,__webpack_require__){eval("__webpack_require__(82);\nvar $Object = __webpack_require__(7).Object;\nmodule.exports = function defineProperty(it, key, desc) {\n  return $Object.defineProperty(it, key, desc);\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/_core-js@2.5.1@core-js/library/fn/object/define-property.js\n// module id = 81\n// module chunks = 0 1\n\n//# sourceURL=webpack:///../node_modules/_core-js@2.5.1@core-js/library/fn/object/define-property.js?")},function(module,exports,__webpack_require__){eval("var $export = __webpack_require__(16);\n// 19.1.2.4 / 15.2.3.6 Object.defineProperty(O, P, Attributes)\n$export($export.S + $export.F * !__webpack_require__(2), 'Object', { defineProperty: __webpack_require__(3).f });\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/_core-js@2.5.1@core-js/library/modules/es6.object.define-property.js\n// module id = 82\n// module chunks = 0 1\n\n//# sourceURL=webpack:///../node_modules/_core-js@2.5.1@core-js/library/modules/es6.object.define-property.js?")},function(module,exports,__webpack_require__){eval('module.exports = { "default": __webpack_require__(84), __esModule: true };\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/_babel-runtime@6.26.0@babel-runtime/core-js/object/set-prototype-of.js\n// module id = 83\n// module chunks = 0 1\n\n//# sourceURL=webpack:///../node_modules/_babel-runtime@6.26.0@babel-runtime/core-js/object/set-prototype-of.js?')},function(module,exports,__webpack_require__){eval("__webpack_require__(85);\nmodule.exports = __webpack_require__(7).Object.setPrototypeOf;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/_core-js@2.5.1@core-js/library/fn/object/set-prototype-of.js\n// module id = 84\n// module chunks = 0 1\n\n//# sourceURL=webpack:///../node_modules/_core-js@2.5.1@core-js/library/fn/object/set-prototype-of.js?")},function(module,exports,__webpack_require__){eval("// 19.1.3.19 Object.setPrototypeOf(O, proto)\nvar $export = __webpack_require__(16);\n$export($export.S, 'Object', { setPrototypeOf: __webpack_require__(86).set });\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/_core-js@2.5.1@core-js/library/modules/es6.object.set-prototype-of.js\n// module id = 85\n// module chunks = 0 1\n\n//# sourceURL=webpack:///../node_modules/_core-js@2.5.1@core-js/library/modules/es6.object.set-prototype-of.js?")},function(module,exports,__webpack_require__){eval("// Works with __proto__ only. Old v8 can't work with null proto objects.\n/* eslint-disable no-proto */\nvar isObject = __webpack_require__(12);\nvar anObject = __webpack_require__(11);\nvar check = function (O, proto) {\n  anObject(O);\n  if (!isObject(proto) && proto !== null) throw TypeError(proto + \": can't set as prototype!\");\n};\nmodule.exports = {\n  set: Object.setPrototypeOf || ('__proto__' in {} ? // eslint-disable-line\n    function (test, buggy, set) {\n      try {\n        set = __webpack_require__(40)(Function.call, __webpack_require__(42).f(Object.prototype, '__proto__').set, 2);\n        set(test, []);\n        buggy = !(test instanceof Array);\n      } catch (e) { buggy = true; }\n      return function setPrototypeOf(O, proto) {\n        check(O, proto);\n        if (buggy) O.__proto__ = proto;\n        else set(O, proto);\n        return O;\n      };\n    }({}, false) : undefined),\n  check: check\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/_core-js@2.5.1@core-js/library/modules/_set-proto.js\n// module id = 86\n// module chunks = 0 1\n\n//# sourceURL=webpack:///../node_modules/_core-js@2.5.1@core-js/library/modules/_set-proto.js?")},function(module,exports,__webpack_require__){eval("__webpack_require__(88);\nvar $Object = __webpack_require__(7).Object;\nmodule.exports = function create(P, D) {\n  return $Object.create(P, D);\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/_core-js@2.5.1@core-js/library/fn/object/create.js\n// module id = 87\n// module chunks = 0 1\n\n//# sourceURL=webpack:///../node_modules/_core-js@2.5.1@core-js/library/fn/object/create.js?")},function(module,exports,__webpack_require__){eval("var $export = __webpack_require__(16);\n// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\n$export($export.S, 'Object', { create: __webpack_require__(30) });\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/_core-js@2.5.1@core-js/library/modules/es6.object.create.js\n// module id = 88\n// module chunks = 0 1\n\n//# sourceURL=webpack:///../node_modules/_core-js@2.5.1@core-js/library/modules/es6.object.create.js?")},function(module,exports,__webpack_require__){"use strict";eval("\n\n//一般会需要touchjs\n__webpack_require__(107);\n//一般会需要jstween,当然还能使用tweenlite或 tweenmax\n__webpack_require__(108); //15k\n// require('jstimeline');//11 KB\n// require('tweenlite');//28k\n// require('timelinelite');//13 KB\n__webpack_require__(109); //113 KB\n//需要threejs相关扩展模块\n__webpack_require__(110);\n//=================项目需要支持模块=======\n//通用的提示浮动层，alert代替解决方案模块\n__webpack_require__(112);\n//加载队列模块\n__webpack_require__(113);\n//数据监测模块\n__webpack_require__(117);\n\n//构建完成 SiteModel 所需要剩余模块\nSiteModel.apier = __webpack_require__(118);\n//页面跳转管理器类\n__webpack_require__(122);\nvar _pager = new ds.gemo.SitePageManager();\nSiteModel.pager = _pager;\n//分享管理类\n__webpack_require__(123);\nSiteModel.shareModel = new ds.net.CagoeWechatShareModel('分享标题', '分享内容', '/index.html', '/index.html?WorkID=');\n\n/**\n * 网站单页面应用\n **/\nfunction AppMain() {\n\n    var _self = this;\n\n    var gotoPage = SiteModel.gotoPage;\n    this.gotoPage = gotoPage;\n\n    /**\n     * 初始化\n     */\n    this.init = function () {\n\n        console.log('AppMain init()');\n        //设置分享\n        SiteModel.shareModel.defaultWeiShare();\n        //在加载模块需要的资源前需要siteModel创建需要的模块吗？\n        SiteModel.beforeSinglePageApplicationLoadAssets(loadMainAssets);\n    };\n\n    /**\n     * 开始加载资源\n     */\n    function loadMainAssets() {\n\n        console.log('loadMainAssets');\n\n        SiteModel.loadModel.loadCJS('main.js', initModels, [20, 100], { basePath: './assets/flash/' });\n    }\n\n    /**\n     * 开始初始化模块\n     */\n    function initModels() {\n\n        console.log('initModels');\n\n        SiteModel.hitLoadPanel();\n\n        _pager.add(__webpack_require__(124));\n\n        //debug模式页面控制\n        if (SiteModel.debug) {\n\n            gotoPage('HomePage');\n            // gotoPage('HtmlPage');\n            // gotoPage('SelectImages');\n            // gotoPage('CreatejsInput');\n            // gotoPage('CreatejsDomMovie');\n            // gotoPage('WebGL2Stage');\n            // gotoPage('ThreejsPage');\n            // gotoPage('DomAutoScreen');\n            // gotoPage('CreatejsScrollPanel');\n            // gotoPage('DynamicFont');\n            // gotoPage('CreatejsGalley');\n\n        }\n        //非debug模式页面控制\n        else {\n\n                gotoPage('HomePage');\n            }\n\n        SiteModel.resize();\n    }\n}\n\n//单页面实例创建\nSiteModel.appMain = new AppMain();\nSiteModel.appMain.init();\nmodule.exports = SiteModel.appMain;\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/AppMain.js\n// module id = 89\n// module chunks = 0\n\n//# sourceURL=webpack:///./src/app/AppMain.js?")},,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){eval('module.exports = { "default": __webpack_require__(114), __esModule: true };\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/_babel-runtime@6.26.0@babel-runtime/core-js/object/assign.js\n// module id = 105\n// module chunks = 0\n\n//# sourceURL=webpack:///../node_modules/_babel-runtime@6.26.0@babel-runtime/core-js/object/assign.js?')},function(module,exports,__webpack_require__){"use strict";eval("/* WEBPACK VAR INJECTION */(function(process, global) {\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _typeof2 = __webpack_require__(9);\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar root = typeof window !== 'undefined' ? window : (typeof process === 'undefined' ? 'undefined' : (0, _typeof3.default)(process)) === 'object' && \"function\" === 'function' && (typeof global === 'undefined' ? 'undefined' : (0, _typeof3.default)(global)) === 'object' ? global : undefined;\n\nvar ds = root.ds = root.ds || {};\n\nds.threejs = ds.threejs || {};\n\n/**\n * threejs 简化加载处理工作\n * @module ds/threejs/LoadManager\n */\nvar LoadManager = {\n\n    /**\n     * 加载editor编辑导出的场景对象，快速读取灯光与场景\n     * @alias module:ds/threejs/LoadManager~loadSceneJSON\n     * @param {string} url 加载场景json地址\n     * @param {function} complete 加载完成function\n     * @param {function} progress 加载过程function(progress)\n     * @param {function} error 加载错误function\n     * @example\n     * ds.threejs.LoadManager.loadSceneJSON('./a.json',function(scene){\n     *\n     *         //获取场景上设置灯光\n     *         var _lightGroup=scene.getObjectByName('LightGroup');\n     *\n     * });\n     */\n    loadSceneJSON: function loadSceneJSON(url, complete, progress, error) {\n\n        var _loader = new THREE.ObjectLoader();\n\n        _loader.load(url,\n        //完成\n        function (scene) {\n            //_LightGroup=scene.getObjectByName('LightGroup');\n            if (complete) complete(scene);\n        },\n        //进度\n        function (e) {\n            var _progress = e.loaded / e.total;\n            if (progress) progress(_progress);\n        },\n        //错误\n        function () {\n            // console.log('错误');\n            if (error) error();\n        });\n\n        return _loader;\n    },\n    /**\n     * obj格式模型加载队列\n     * @alias module:ds/threejs/LoadManager~loadObjectModels\n     * @param {array} list  加载对象列表\n     * ```js\n     * [\n     *  {src:'./assets/obj/Car/j-car1.obj',id:'Car1'},\n     *  {src:'./assets/obj/Car/car2.obj',id:'Car2'},\n     *  //只是字符会自动转换成object对象类型\n     *  './assets/obj/Car/car3.obj'\n     * ]\n     * ```\n     * @param {function} complete 加载完成function\n     * @param {function} progress 加载进度function(progress)\n     * @return {object} objectDc 返回一个object加载获取3d对象的字典\n     * @requires  require('threejs/loaders/OBJLoader.js');\n     * @example\n     * var dc = ds.threejs.LoadManager.loadObjectModels([\n     *         {src:'./assets/obj/Car/j-car1.obj',id:'Car1'},\n     *         {src:'./assets/obj/Car/car2.obj',id:'Car2'}\n     *      ],function(){\n     *\n     *          //这获取到模型加载后3d对象\n     *          var car1=dc.Car1;\n     *\n     *      });\n     */\n    loadObjectModels: function loadObjectModels(list, complete, progress) {\n\n        var _objectDc = {};\n        var _manager = new THREE.LoadingManager();\n        _manager.onProgress = function (item, loaded, total) {\n\n            if (loaded == total) {\n\n                if (complete) complete();\n            } else {\n\n                var _progress = loaded / total;\n                if (progress) progress(_progress);\n            }\n        };\n\n        var _objList = [];\n        for (var i = 0; i < list.length; i++) {\n\n            var _obj = list[i];\n            if (typeof _obj === 'string') {\n                _obj = { src: _obj, id: _obj };\n                list[i] = _obj;\n            }\n\n            if (_obj.id !== undefined) _objectDc[_obj.id] = _obj;\n\n            var _loader = new THREE.OBJLoader(_manager);\n\n            // _obj.loader=_loader;\n            //加载完成后进行的附加值使用\n            _loader._load_objData = _obj;\n\n            _objList.push(_loader);\n\n            //开始加载\n            _loader.load(_obj.src,\n            //加载完成\n            function (object, self) {\n                // console.log(itself,object,itself._load_objData)\n                //改造OBJLoader内的onLoad传参数，多添加一个\n                if (self) self._load_objData.object = object;\n            },\n            //加载进度\n            function (xhr) {\n\n                if (xhr.lengthComputable) {\n\n                    var _progress = xhr.loaded / xhr.total * 100;\n                }\n            },\n            //加载错误\n            function () {\n\n                console.log('Object Load Error');\n            });\n        }\n\n        return _objectDc;\n    },\n\n    /**\n     * 加载SEA3D模型\n     * 需要SEA3D loader支持，并且加载顺序有要求\n     * @alias module:ds/threejs/LoadManager~loadSEA3DModel\n     * @param {string} url 加载模型json地址\n     * @param {function} complete 加载完成function\n     * @param {function} progress 加载过程function(progress)\n     * @return {object} loader 加载对象\n     * @requires  require('threejs/loaders/sea3d/SEA3D.js');\n     * @requires  require('threejs/loaders/sea3d/SEA3DLZMA.js');\n     * @requires  require('threejs/loaders/sea3d/SEA3DLoader.js');\n     * @requires  require('threejs/loaders/sea3d/SEA3DLegacy.js');\n     * @example\n     * ds.threejs.LoadManager.loadSEA3DModel('./assets/sea3d/cumo5.sea',function(loader){\n     *\n     *      //获取到模型内摄像机Camera001\n     *      loader.getCamera( \"Camera001\" );\n     *\n     * });\n     *\n     */\n    loadSEA3DModel: function loadSEA3DModel(url, complete, progress) {\n\n        if (!THREE.SEA3D) {\n\n            console.warn('no has SEA3D Loader!');\n            return;\n        }\n        var _loader = new THREE.SEA3D({\n\n            autoPlay: true // Auto play animations\n            //container: _ControlElementGroup // Container to add models\n\n        });\n\n        _loader.onComplete = function (e) {\n\n            if (complete) complete(_loader);\n        };\n\n        _loader.onProgress = function (e) {\n\n            // console.log( \"Progress:\", e.type, \"Total:\", e.loaded / e.total * 100 );\n            var _progress = e.loaded / e.total;\n            if (progress) progress(_progress);\n        };\n\n        //_loader.load('./assets/sea3d/cumo5.sea');\n        _loader.load(url);\n        return _loader;\n    },\n    /**\n     * 加载Texture队列\n     * @alias module:ds/threejs/LoadManager~loadTextures\n     * @param {array} list\n     *\n     * ```js\n     * [\n     *   {src:'./assets/model/tree1.png',id:'tree1'},\n     *   {src:'./assets/model/tree2.png',id:'tree2'},\n     * ]\n     * ```\n     * @param {function} complete 加载完成 function()\n     * @param {function} progress 加载进度 function(progress)\n     * @param {function} fileEnd 单个文件加载完成 function(obj)\n     * @return {object} textureDc 返回一个加载对象检索字典\n     * @example\n     *\n     * var textureDc = ds.threejs.LoadManager.loadTextures([\n     *  {src:'./assets/model/tree1.png',id:'tree1'},\n     *  {src:'./assets/model/tree2.png',id:'tree2'},\n     * ],function(){\n     *      //获取到相关材质对象\n     *      textureDc.tree1.texture\n     * });\n     *\n     */\n    loadTextures: function loadTextures(list, complete, progress, fileEnd) {\n\n        //纹理图片字典\n        var _textureDc = {};\n        //加载对象列表\n        var _loadList = [];\n        var i = void 0,\n            _obj = void 0,\n            _loader = void 0;\n        for (i = 0; i < list.length; i++) {\n\n            _obj = list[i];\n\n            if (typeof _obj === 'string') {\n\n                _obj = { src: _obj, id: _obj };\n                list[i] = _obj;\n            }\n\n            if (_obj.id !== undefined) _textureDc[_obj.id] = _obj;\n\n            _loader = new THREE.TextureLoader();\n            _loadList.push(_loader);\n        }\n\n        var _index = -1;\n        fileLoad();\n\n        //文件加载\n        function fileLoad() {\n\n            _index += 1;\n            progresses();\n\n            if (_index >= _loadList.length) {\n\n                fileLoadAllEnd();\n                return;\n            }\n\n            _obj = list[_index];\n            _loader = _loadList[_index];\n\n            _loader.load(\n            // 加载图片路径\n            _obj.src,\n            // 图片加载完成\n            function (texture) {\n\n                _obj.texture = texture;\n\n                //单个文件加载完成\n                if (fileEnd) fileEnd(_obj);\n\n                fileLoad();\n            },\n            // 加载进度\n            function (xhr) {},\n            // 加载错误\n            function (xhr) {\n                fileLoad();\n            });\n        }\n\n        //加载完成\n        function fileLoadAllEnd() {\n\n            if (complete) complete();\n        }\n\n        function progresses() {\n\n            var _progress = _index / _loadList.length;\n            if (progress) progress(_progress);\n        }\n\n        return _textureDc;\n    }\n\n};\n\n/**\n * 加载器对象\n * @member ds.threejs.LoadManager\n * @type module:ds/threejs/LoadManager\n */\nds.threejs.LoadManager = LoadManager;\n\nexports.default = ds.threejs.LoadManager;\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(15), __webpack_require__(8)))\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/ds/threejs/LoadManager.js\n// module id = 106\n// module chunks = 0\n\n//# sourceURL=webpack:///./src/ds/threejs/LoadManager.js?")},function(module,exports){eval('/*\ntouch-0.2.10-min.js  要不是需要放大缩小 也不需要这个库\nhttp://cloudajs.org/docs/step4_API_Documentation#h2_7\npinchstart缩放手势起点 pinchend缩放手势终点 pinch缩放手势 pinchin收缩 pinchout放大\nrotateleft向左旋转 rotateright向右旋转 rotate旋转\nswipestart滑动手势起点 swiping滑动中 swipeend滑动手势终点 swipeleft向左滑动 swiperight向右滑动\nswipeup向上滑动 swipedown向下滑动 swipe滑动\n拖动开始\tdragstart 拖动\tdrag 拖动结束\tdragend 长按\thold \ntap\t单击屏幕 doubletap\t双击屏幕\n*/\n!(function(){\n\nvar touch=touch||{};(function(doc,exports){var os=(function(){var navigator=window.navigator,userAgent=navigator.userAgent,android=userAgent.match(/(Android)[\\s\\/]+([\\d\\.]+)/),ios=userAgent.match(/(iPad|iPhone|iPod)\\s+OS\\s([\\d_\\.]+)/),wp=userAgent.match(/(Windows\\s+Phone)\\s([\\d\\.]+)/),isWebkit=/WebKit\\/[\\d.]+/i.test(userAgent),isSafari=ios?(navigator.standalone?isWebkit:(/Safari/i.test(userAgent)&&!/CriOS/i.test(userAgent)&&!/MQQBrowser/i.test(userAgent))):false,os={};if(android){os.android=true;os.version=android[2]}if(ios){os.ios=true;os.version=ios[2].replace(/_/g,".");os.ios7=/^7/.test(os.version);if(ios[1]==="iPad"){os.ipad=true}else{if(ios[1]==="iPhone"){os.iphone=true;os.iphone5=screen.height==568}else{if(ios[1]==="iPod"){os.ipod=true}}}}if(wp){os.wp=true;os.version=wp[2];os.wp8=/^8/.test(os.version)}if(isWebkit){os.webkit=true}if(isSafari){os.safari=true}return os})();var PCevts={"touchstart":"mousedown","touchmove":"mousemove","touchend":"mouseup","touchcancel":"mouseout"};var utils={getType:function(obj){return Object.prototype.toString.call(obj).match(/\\s([a-z|A-Z]+)/)[1].toLowerCase()},getSelector:function(el){if(el.id){return"#"+el.id}if(el.className){var cns=el.className.split(/\\s+/);return"."+cns.join(".")}else{return el.tagName.toLowerCase()}},matchSelector:function(target,selector){return target.webkitMatchesSelector(selector)},getEventListeners:function(el){return el.listeners},getPCevts:function(evt){return PCevts[evt]||evt},forceReflow:function(){var domTreeOpDiv=document.getElementById("domTreeOp");if(!domTreeOpDiv){domTreeOpDiv=document.createElement("div");domTreeOpDiv.id="domTreeOp";document.body.appendChild(domTreeOpDiv)}var parentNode=domTreeOpDiv.parentNode;var nextSibling=domTreeOpDiv.nextSibling;parentNode.removeChild(domTreeOpDiv);parentNode.insertBefore(domTreeOpDiv,nextSibling)},simpleClone:function(obj){var temp;try{temp=JSON.parse(JSON.stringify(obj))}catch(error){temp=""}return temp}};var proxyid=0;var proxies=[];var _trigger=function(el,evt,detail){detail=detail||{};var e,opt={bubbles:true,cancelable:true,detail:detail};if(typeof CustomEvent!=="undefined"){e=new CustomEvent(evt,opt);if(el){el.dispatchEvent(e)}}else{e=document.createEvent("CustomEvent");e.initCustomEvent(evt,true,true,detail);if(el){el.dispatchEvent(e)}}};var _bind=function(el,evt,handler){el.listeners=el.listeners||{};if(!el.listeners[evt]){el.listeners[evt]=[handler]}else{el.listeners[evt].push(handler)}var proxy=function(e){if(os.ios7){utils.forceReflow()}e.originEvent=e;e.startRotate=function(){__rotation_single_finger=true};for(var p in e.detail){if(p!=="type"){e[p]=e.detail[p]}}handler.call(e.target,e)};handler.proxy=handler.proxy||{};if(!handler.proxy[evt]){handler.proxy[evt]=[proxyid++]}else{handler.proxy[evt].push(proxyid++)}proxies.push(proxy);if(el.addEventListener){el.addEventListener(evt,proxy,false)}};var _unbind=function(el,evt,handler){if(!handler){var handlers=el.listeners[evt];if(handlers&&handlers.length){handlers.forEach(function(handler){el.removeEventListener(evt,handler,false)})}}else{var proxyids=handler.proxy[evt];if(proxyids&&proxyids.length){proxyids.forEach(function(proxyid){if(el.removeEventListener){el.removeEventListener(evt,proxies[proxyid],false)}})}}};var _delegate=function(el,evt,sel,handler){var proxy=function(e){var target;e.originEvent=e;e.startRotate=function(){__rotation_single_finger=true};for(var p in e.detail){if(p!=="type"){e[p]=e.detail[p]}}var integrateSelector=utils.getSelector(el)+" "+sel;var match=utils.matchSelector(e.target,integrateSelector);var ischild=utils.matchSelector(e.target,integrateSelector+" "+e.target.nodeName);if(!match&&ischild){if(os.ios7){utils.forceReflow()}target=e.target;while(!utils.matchSelector(target,integrateSelector)){target=target.parentNode}handler.call(target,e)}else{if(os.ios7){utils.forceReflow()}if(match||ischild){handler.call(e.target,e)}}};handler.proxy=handler.proxy||{};if(!handler.proxy[evt]){handler.proxy[evt]=[proxyid++]}else{handler.proxy[evt].push(proxyid++)}proxies.push(proxy);el.listeners=el.listeners||{};if(!el.listeners[evt]){el.listeners[evt]=[proxy]}else{el.listeners[evt].push(proxy)}if(el.addEventListener){el.addEventListener(evt,proxy,false)}};var _undelegate=function(el,evt,sel,handler){if(!handler){var listeners=el.listeners[evt];listeners.forEach(function(proxy){el.removeEventListener(evt,proxy,false)})}else{var proxyids=handler.proxy[evt];if(proxyids.length){proxyids.forEach(function(proxyid){if(el.removeEventListener){el.removeEventListener(evt,proxies[proxyid],false)}})}}};var config={tap:true,doubleTap:true,tapMaxDistance:10,hold:true,holdTime:650,maxDoubleTapInterval:300,swipe:true,swipeTime:300,swipeMinDistance:18,swipeFactor:5,drag:true,pinch:true,minScaleRate:0,minRotationAngle:0};var _hasTouch=("ontouchstart" in window);var smrEventList={TOUCH_START:"touchstart",TOUCH_MOVE:"touchmove",TOUCH_END:"touchend",TOUCH_CANCEL:"touchcancel",MOUSE_DOWN:"mousedown",MOUSE_MOVE:"mousemove",MOUSE_UP:"mouseup",CLICK:"click",PINCH_START:"pinchstart",PINCH_END:"pinchend",PINCH:"pinch",PINCH_IN:"pinchin",PINCH_OUT:"pinchout",ROTATION_LEFT:"rotateleft",ROTATION_RIGHT:"rotateright",ROTATION:"rotate",SWIPE_START:"swipestart",SWIPING:"swiping",SWIPE_END:"swipeend",SWIPE_LEFT:"swipeleft",SWIPE_RIGHT:"swiperight",SWIPE_UP:"swipeup",SWIPE_DOWN:"swipedown",SWIPE:"swipe",DRAG:"drag",DRAGSTART:"dragstart",DRAGEND:"dragend",HOLD:"hold",TAP:"tap",DOUBLE_TAP:"doubletap"};\nfunction getPosOfEvent(ev){if(_hasTouch){var posi=[];var src=null;for(var t=0,len=ev.touches.length;t<len;t++){src=ev.touches[t];posi.push({x:src.pageX,y:src.pageY})}return posi}else{return[{x:ev.pageX,y:ev.pageY}]}}function getDistance(pos1,pos2){var x=pos2.x-pos1.x,y=pos2.y-pos1.y;return Math.sqrt((x*x)+(y*y))}function getFingers(ev){return ev.touches?ev.touches.length:1}function calScale(pstart,pmove){if(pstart.length>=2&&pmove.length>=2){var disStart=getDistance(pstart[1],pstart[0]);var disEnd=getDistance(pmove[1],pmove[0]);return disEnd/disStart}return 1}function getAngle(p1,p2){return Math.atan2(p2.y-p1.y,p2.x-p1.x)*180/Math.PI}function _getAngle180(p1,p2){var agl=Math.atan((p2.y-p1.y)*-1/(p2.x-p1.x))*(180/Math.PI);return(agl<0?(agl+180):agl)}function getDirectionFromAngle(agl){var directions={up:agl<-45&&agl>-135,down:agl>=45&&agl<135,left:agl>=135||agl<=-135,right:agl>=-45&&agl<=45};for(var key in directions){if(directions[key]){return key}}return null}function preventDefault(ev){ev.preventDefault();ev.stopPropagation()}function getXYByElement(el){var left=0,top=0;while(el.offsetParent){left+=el.offsetLeft;top+=el.offsetTop;el=el.offsetParent}return{left:left,top:top}}function reset(){startEvent=moveEvent=endEvent=null;__tapped=__touchStart=startSwiping=startPinch=false;startDrag=false;pos={};__rotation_single_finger=false}function isTouchStart(ev){return(ev.type==="touchstart"||ev.type==="mousedown")}function isTouchMove(ev){return(ev.type==="touchmove"||ev.type==="mousemove")}function isTouchEnd(ev){return(ev.type==="touchend"||ev.type==="mouseup"||ev.type==="touchcancel")}var pos={start:null,move:null,end:null};var startTime=0;var fingers=0;var startEvent=null;var moveEvent=null;var endEvent=null;var startSwiping=false;var startPinch=false;var startDrag=false;var __offset={};var __touchStart=false;var __holdTimer=null;var __tapped=false;var __lastTapEndTime=null;var __tapTimer=null;var __scale_last_rate=1;var __rotation_single_finger=false;var __rotation_single_start=[];var __initial_angle=0;var __rotation=0;var __prev_tapped_end_time=0;var __prev_tapped_pos=null;var gestures={_getAngleDiff:function(currentPos){var diff=parseInt(__initial_angle-_getAngle180(currentPos[0],currentPos[1]),10);var count=0;while(Math.abs(diff-__rotation)>90&&count++<50){if(__rotation<0){diff-=180}else{diff+=180}}__rotation=parseInt(diff,10);return __rotation},pinch:function(ev){var el=ev.target;if(config.pinch){if(!__touchStart){return}if(getFingers(ev)<2){if(!isTouchEnd(ev)){return}}var scale=calScale(pos.start,pos.move);var rotation=this._getAngleDiff(pos.move);var eventObj={type:"",originEvent:ev,scale:scale,rotation:rotation,direction:(rotation>0?"right":"left"),fingersCount:getFingers(ev)};if(!startPinch){startPinch=true;eventObj.fingerStatus="start";_trigger(el,smrEventList.PINCH_START,eventObj)}else{if(isTouchMove(ev)){eventObj.fingerStatus="move";_trigger(el,smrEventList.PINCH,eventObj)}else{if(isTouchEnd(ev)){eventObj.fingerStatus="end";_trigger(el,smrEventList.PINCH_END,eventObj);reset()}}}if(Math.abs(1-scale)>config.minScaleRate){var scaleEv=utils.simpleClone(eventObj);var scale_diff=1e-11;if(scale>__scale_last_rate){__scale_last_rate=scale-scale_diff;_trigger(el,smrEventList.PINCH_OUT,scaleEv,false)}else{if(scale<__scale_last_rate){__scale_last_rate=scale+scale_diff;_trigger(el,smrEventList.PINCH_IN,scaleEv,false)}}if(isTouchEnd(ev)){__scale_last_rate=1}}if(Math.abs(rotation)>config.minRotationAngle){var rotationEv=utils.simpleClone(eventObj),eventType;eventType=rotation>0?smrEventList.ROTATION_RIGHT:smrEventList.ROTATION_LEFT;_trigger(el,eventType,rotationEv,false);_trigger(el,smrEventList.ROTATION,eventObj)}}},rotateSingleFinger:function(ev){var el=ev.target;if(__rotation_single_finger&&getFingers(ev)<2){if(!pos.move){return}if(__rotation_single_start.length<2){var docOff=getXYByElement(el);__rotation_single_start=[{x:docOff.left+el.offsetWidth/2,y:docOff.top+el.offsetHeight/2},pos.move[0]];__initial_angle=parseInt(_getAngle180(__rotation_single_start[0],__rotation_single_start[1]),10)}var move=[__rotation_single_start[0],pos.move[0]];var rotation=this._getAngleDiff(move);var eventObj={type:"",originEvent:ev,rotation:rotation,direction:(rotation>0?"right":"left"),fingersCount:getFingers(ev)};if(isTouchMove(ev)){eventObj.fingerStatus="move"}else{if(isTouchEnd(ev)||ev.type==="mouseout"){eventObj.fingerStatus="end";_trigger(el,smrEventList.PINCH_END,eventObj);reset()}}var eventType=rotation>0?smrEventList.ROTATION_RIGHT:smrEventList.ROTATION_LEFT;_trigger(el,eventType,eventObj);_trigger(el,smrEventList.ROTATION,eventObj)}},swipe:function(ev){var el=ev.target;if(!__touchStart||!pos.move||getFingers(ev)>1){return}var now=Date.now();var touchTime=now-startTime;var distance=getDistance(pos.start[0],pos.move[0]);var position={x:pos.move[0].x-__offset.left,y:pos.move[0].y-__offset.top};var angle=getAngle(pos.start[0],pos.move[0]);var direction=getDirectionFromAngle(angle);var touchSecond=touchTime/1000;var factor=((10-config.swipeFactor)*10*touchSecond*touchSecond);\nvar eventObj={type:smrEventList.SWIPE,originEvent:ev,position:position,direction:direction,distance:distance,distanceX:pos.move[0].x-pos.start[0].x,distanceY:pos.move[0].y-pos.start[0].y,x:pos.move[0].x-pos.start[0].x,y:pos.move[0].y-pos.start[0].y,angle:angle,duration:touchTime,fingersCount:getFingers(ev),factor:factor};if(config.swipe){var swipeTo=function(){var elt=smrEventList;switch(direction){case"up":_trigger(el,elt.SWIPE_UP,eventObj);break;case"down":_trigger(el,elt.SWIPE_DOWN,eventObj);break;case"left":_trigger(el,elt.SWIPE_LEFT,eventObj);break;case"right":_trigger(el,elt.SWIPE_RIGHT,eventObj);break}};if(!startSwiping){eventObj.fingerStatus=eventObj.swipe="start";startSwiping=true;_trigger(el,smrEventList.SWIPE_START,eventObj)}else{if(isTouchMove(ev)){eventObj.fingerStatus=eventObj.swipe="move";_trigger(el,smrEventList.SWIPING,eventObj);if(touchTime>config.swipeTime&&touchTime<config.swipeTime+50&&distance>config.swipeMinDistance){swipeTo();_trigger(el,smrEventList.SWIPE,eventObj,false)}}else{if(isTouchEnd(ev)||ev.type==="mouseout"){eventObj.fingerStatus=eventObj.swipe="end";_trigger(el,smrEventList.SWIPE_END,eventObj);if(config.swipeTime>touchTime&&distance>config.swipeMinDistance){swipeTo();_trigger(el,smrEventList.SWIPE,eventObj,false)}}}}}if(config.drag){if(!startDrag){eventObj.fingerStatus=eventObj.swipe="start";startDrag=true;_trigger(el,smrEventList.DRAGSTART,eventObj)}else{if(isTouchMove(ev)){eventObj.fingerStatus=eventObj.swipe="move";_trigger(el,smrEventList.DRAG,eventObj)}else{if(isTouchEnd(ev)){eventObj.fingerStatus=eventObj.swipe="end";_trigger(el,smrEventList.DRAGEND,eventObj)}}}}},tap:function(ev){var el=ev.target;if(config.tap){var now=Date.now();var touchTime=now-startTime;var distance=getDistance(pos.start[0],pos.move?pos.move[0]:pos.start[0]);clearTimeout(__holdTimer);var isDoubleTap=(function(){if(__prev_tapped_pos&&config.doubleTap&&(startTime-__prev_tapped_end_time)<config.maxDoubleTapInterval){var doubleDis=getDistance(__prev_tapped_pos,pos.start[0]);if(doubleDis<16){return true}}return false})();if(isDoubleTap){clearTimeout(__tapTimer);_trigger(el,smrEventList.DOUBLE_TAP,{type:smrEventList.DOUBLE_TAP,originEvent:ev,position:pos.start[0]});return}if(config.tapMaxDistance<distance){return}if(config.holdTime>touchTime&&getFingers(ev)<=1){__tapped=true;__prev_tapped_end_time=now;__prev_tapped_pos=pos.start[0];__tapTimer=setTimeout(function(){_trigger(el,smrEventList.TAP,{type:smrEventList.TAP,originEvent:ev,fingersCount:getFingers(ev),position:__prev_tapped_pos})},220)}}},hold:function(ev){var el=ev.target;if(config.hold){clearTimeout(__holdTimer);__holdTimer=setTimeout(function(){if(!pos.start){return}var distance=getDistance(pos.start[0],pos.move?pos.move[0]:pos.start[0]);if(config.tapMaxDistance<distance){return}if(!__tapped){_trigger(el,"hold",{type:"hold",originEvent:ev,fingersCount:getFingers(ev),position:pos.start[0]})}},config.holdTime)}}};var handlerOriginEvent=function(ev){var el=ev.target;switch(ev.type){case"touchstart":case"mousedown":__rotation_single_start=[];__touchStart=true;if(!pos.start||pos.start.length<2){pos.start=getPosOfEvent(ev)}if(getFingers(ev)>=2){__initial_angle=parseInt(_getAngle180(pos.start[0],pos.start[1]),10)}startTime=Date.now();startEvent=ev;__offset={};var box=el.getBoundingClientRect();var docEl=document.documentElement;__offset={top:box.top+(window.pageYOffset||docEl.scrollTop)-(docEl.clientTop||0),left:box.left+(window.pageXOffset||docEl.scrollLeft)-(docEl.clientLeft||0)};gestures.hold(ev);break;case"touchmove":case"mousemove":if(!__touchStart||!pos.start){return}pos.move=getPosOfEvent(ev);if(getFingers(ev)>=2){gestures.pinch(ev)}else{if(__rotation_single_finger){gestures.rotateSingleFinger(ev)}else{gestures.swipe(ev)}}break;case"touchend":case"touchcancel":case"mouseup":case"mouseout":if(!__touchStart){return}endEvent=ev;if(startPinch){gestures.pinch(ev)}else{if(__rotation_single_finger){gestures.rotateSingleFinger(ev)}else{if(startSwiping){gestures.swipe(ev)}else{gestures.tap(ev)}}}reset();__initial_angle=0;__rotation=0;if(ev.touches&&ev.touches.length===1){__touchStart=true;__rotation_single_finger=true}break}};var _on=function(){var evts,handler,evtMap,sel,args=arguments;if(args.length<2||args>4){return console.error("unexpected arguments!")}var els=utils.getType(args[0])==="string"?doc.querySelectorAll(args[0]):args[0];els=els.length?Array.prototype.slice.call(els):[els];if(args.length===3&&utils.getType(args[1])==="string"){evts=args[1].split(" ");handler=args[2];evts.forEach(function(evt){if(!_hasTouch){evt=utils.getPCevts(evt)}els.forEach(function(el){_bind(el,evt,handler)})});return}function evtMapDelegate(evt){if(!_hasTouch){evt=utils.getPCevts(evt)}els.forEach(function(el){_delegate(el,evt,sel,evtMap[evt])})}if(args.length===3&&utils.getType(args[1])==="object"){evtMap=args[1];sel=args[2];for(var evt1 in evtMap){evtMapDelegate(evt1)}return}function evtMapBind(evt){if(!_hasTouch){evt=utils.getPCevts(evt)}els.forEach(function(el){_bind(el,evt,evtMap[evt])\n})}if(args.length===2&&utils.getType(args[1])==="object"){evtMap=args[1];for(var evt2 in evtMap){evtMapBind(evt2)}return}if(args.length===4&&utils.getType(args[2])==="object"){evts=args[1].split(" ");handler=args[3];evts.forEach(function(evt){if(!_hasTouch){evt=utils.getPCevts(evt)}els.forEach(function(el){_bind(el,evt,handler)})});return}if(args.length===4){var el=els[0];evts=args[1].split(" ");sel=args[2];handler=args[3];evts.forEach(function(evt){if(!_hasTouch){evt=utils.getPCevts(evt)}_delegate(el,evt,sel,handler)});return}};var _off=function(){var evts,handler;var args=arguments;if(args.length<1||args.length>4){return console.error("unexpected arguments!")}var els=utils.getType(args[0])==="string"?doc.querySelectorAll(args[0]):args[0];els=els.length?Array.prototype.slice.call(els):[els];if(args.length===1||args.length===2){els.forEach(function(el){evts=args[1]?args[1].split(" "):Object.keys(el.listeners);if(evts.length){evts.forEach(function(evt){if(!_hasTouch){evt=utils.getPCevts(evt)}_unbind(el,evt);_undelegate(el,evt)})}});return}if(args.length===3&&utils.getType(args[2])==="function"){handler=args[2];els.forEach(function(el){evts=args[1].split(" ");evts.forEach(function(evt){if(!_hasTouch){evt=utils.getPCevts(evt)}_unbind(el,evt,handler)})});return}if(args.length===3&&utils.getType(args[2])==="string"){var sel=args[2];els.forEach(function(el){evts=args[1].split(" ");evts.forEach(function(evt){if(!_hasTouch){evt=utils.getPCevts(evt)}_undelegate(el,evt,sel)})});return}if(args.length===4){handler=args[3];els.forEach(function(el){evts=args[1].split(" ");evts.forEach(function(evt){if(!_hasTouch){evt=utils.getPCevts(evt)}_undelegate(el,evt,sel,handler)})});return}};var _dispatch=function(el,evt,detail){var args=arguments;if(!_hasTouch){evt=utils.getPCevts(evt)}var els=utils.getType(args[0])==="string"?doc.querySelectorAll(args[0]):args[0];els=els.length?Array.prototype.call(els):[els];els.forEach(function(el){_trigger(el,evt,detail)})};function init(){var eventNames=_hasTouch?"touchstart touchmove touchend touchcancel":"mouseup mousedown mousemove mouseout";_on(doc,eventNames,handlerOriginEvent)}init();exports.on=_on;exports.off=_off;exports.bind=_on;exports.unbind=_off;exports.live=_on;exports.die=_off;exports.config=config;exports.trigger=_dispatch})(document,touch);\n\nwindow.touch=touch;\nreturn touch;\n\n})();\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/libs/touch/touch.min.js\n// module id = 107\n// module chunks = 0\n\n//# sourceURL=webpack:///./src/libs/touch/touch.min.js?')},function(module,exports,__webpack_require__){eval('/* WEBPACK VAR INJECTION */(function(global) {var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!\n * VERSION: 0.7.0\n * DATE: 2016-8-17\n * GIT:https://github.com/shrekshrek/jstween\n *\n * @author: Shrek.wang, shrekshrek@gmail.com\n **/\n\n!function(t){var n="object"==typeof self&&self.self==self&&self||"object"==typeof global&&global.global==global&&global; true?!(__WEBPACK_AMD_DEFINE_ARRAY__ = [exports], __WEBPACK_AMD_DEFINE_RESULT__ = function(e){n.JT=t(n,e)}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__)):"undefined"!=typeof exports?t(n,exports):n.JT=t(n,{})}(function(t,n){function e(t,n){for(var e in n)t[e]=n[e]}function i(t,n){if("function"==typeof t)n.call(t,0,t);else if(void 0===t.length)n.call(t,0,t);else for(var e=0;e<t.length;e++)n.call(t[e],e,t[e])}function r(t){return t.replace(/([A-Z])/g,"-$1").toLowerCase()}function a(t){return t.replace(/\\b(\\w)|\\s(\\w)/g,function(t){return t.toUpperCase()})}function o(t){return Math.round(1e3*t)/1e3}function s(t){return t?D+a(t):D}function u(t){if(!t)throw"target is undefined, can\'t tween!!!";return"string"==typeof t?"undefined"==typeof document?t:document.querySelectorAll?document.querySelectorAll(t):document.getElementById("#"===t.charAt(0)?t.substr(1):t):t}function c(t,n){return"rotation"==n||"scale"==n?n:void 0!==t._jt_obj[n]?n:void 0!==t.style[n]?n:(n=s(n),void 0!==t.style[n]?n:void 0)}function l(t,n,e,i){var r={};if(n instanceof Array){r.num=[];for(var a in n){var o=h(t,n[a]);r.num[a]=o.num,r.unit=o.unit}void 0!=e&&(i?r.num.push(e.num):r.num.unshift(e.num))}else r=h(t,n);return r}function h(t,n){var e=p(n);"rem"==t.unit&&"rem"!=e.unit?(w(),t.num=o(t.num*V),t.unit="px"):"rem"!=t.unit&&"rem"==e.unit&&(w(),t.num=o(t.num/V),t.unit="rem");var i;switch(e.ext){case"+=":i=t.num+e.num;break;case"-=":i=t.num-e.num;break;default:i=e.num}return{num:i,unit:e.unit||t.unit}}function f(t){void 0==t._jt_obj&&(t._jt_obj={perspective:0,x:0,y:0,z:0,rotationX:0,rotationY:0,rotationZ:0,scaleX:1,scaleY:1,scaleZ:1,skewX:0,skewY:0})}function p(t){var n=/(\\+=|-=|)(-|)(\\d+\\.\\d+|\\d+)(e[+-]?[0-9]{0,2}|)(rem|px|%|)/i,e=n.exec(t);return e?{num:o(e[2]+e[3]+e[4]),unit:e[5],ext:e[1]}:{num:0,unit:"px",ext:""}}function d(t){return/\\S\\s+\\S/g.test(t)||!/\\d/g.test(t)}function v(t,n){switch(n){case"perspective":case"x":case"y":case"z":case"rotationX":case"rotationY":case"rotationZ":case"scaleX":case"scaleY":case"scaleZ":case"skewX":case"skewY":return t._jt_obj[n];case"rotation":return t._jt_obj.rotationZ;case"scale":return t._jt_obj.scaleX;default:return m(t,n)}}function m(t,n){if(t.style[n])return t.style[n];if(document.defaultView&&document.defaultView.getComputedStyle){var e=r(n),i=document.defaultView.getComputedStyle(t,"");return i&&i.getPropertyValue(e)}return t.currentStyle?t.currentStyle[n]:null}function _(t,n,e){switch(n){case"perspective":case"x":case"y":case"z":case"rotationX":case"rotationY":case"rotationZ":case"scaleX":case"scaleY":case"scaleZ":case"skewX":case"skewY":return t._jt_obj[n]=e,!0;case"rotation":return t._jt_obj.rotationZ=e,!0;case"scale":return t._jt_obj.scaleX=e,t._jt_obj.scaleY=e,!0;default:return y(t,n,e),!1}}function y(t,n,e){t.style[n]=e}function g(t){return"object"==typeof t&&1===t.nodeType}function j(t){var n="";t._jt_obj.perspective&&(n+="perspective("+t._jt_obj.perspective+") "),(t._jt_obj.x||t._jt_obj.y||t._jt_obj.z)&&(n+="translate3d("+b(t._jt_obj.x)+","+b(t._jt_obj.y)+","+b(t._jt_obj.z)+") "),t._jt_obj.rotationX&&(n+="rotateX("+t._jt_obj.rotationX%360+"deg) "),t._jt_obj.rotationY&&(n+="rotateY("+t._jt_obj.rotationY%360+"deg) "),t._jt_obj.rotationZ&&(n+="rotateZ("+t._jt_obj.rotationZ%360+"deg) "),(1!=t._jt_obj.scaleX||1!=t._jt_obj.scaleY||1!=t._jt_obj.scaleZ)&&(n+="scale3d("+t._jt_obj.scaleX+", "+t._jt_obj.scaleY+", "+t._jt_obj.scaleZ+") "),(t._jt_obj.skewX||t._jt_obj.skewY)&&(n+="skew("+t._jt_obj.skewX+"deg,"+t._jt_obj.skewY+"deg) "),t.style[s("transform")]=n}function b(t){return t+("number"==typeof t?"px":"")}function w(){C||(C=document.createElement("div"),C.style.cssText="border:0 solid; position:absolute; line-height:0px;"),z||(z=document.getElementsByTagName("body")[0]),z.appendChild(C),C.style.borderLeftWidth="1rem",V=parseFloat(C.offsetWidth),z.removeChild(C)}function M(){B=!0;var t=q.length,n=L.length;if(0===t&&0===n)return void(B=!1);var e=Y(),i=e-F;F=e;for(var r=0;t>r;r++){var a=q[r];a&&!a._update(i)&&(a.isActive&&(a.isActive=!1,q.splice(r,1),a.onEnd&&a.onEnd.apply(a,a.onEndParams)),r--,t--)}for(var o=0;n>o;o++){var s=L[o];s&&!s._update(i)&&(L.splice(o,1),s.onEnd&&s.onEnd.apply(s,s.onEndParams),o--,n--)}Z(M)}function P(){this.initialize.apply(this,arguments)}function T(t,n){var e=u(t),r=q.length;i(e,function(t,e){for(var i=r-1;i>=0;i--){var a=q[i];a.target===e&&a[n]()}})}function E(t){for(var n=q.length,e=n-1;e>=0;e--){var i=q[e];i[t]()}}function I(){this.initialize.apply(this,arguments)}function S(t,n){var e=t,r=L.length;i(e,function(t,e){for(var i=r-1;i>=0;i--){var a=L[i];a.onEnd===e&&a[n]()}})}function k(t){for(var n=L.length,e=n-1;e>=0;e--){var i=L[e];i[t]()}}function x(t){t.bezier&&(A(t,t.bezier),t.interpolation=R,delete t.bezier),t.through&&(A(t,t.through),t.interpolation=X,delete t.through),t.linear&&(A(t,t.linear),t.interpolation=O,delete t.linear)}function A(t,n){for(var e in n)for(var i in n[e])0==e?t[i]=[n[e][i]]:t[i].push(n[e][i])}function O(t,n){var e=t.length-1,i=e*n,r=Math.floor(i),a=N.Linear;return 0>n?a(t[0],t[1],i):n>1?a(t[e],t[e-1],e-i):a(t[r],t[r+1>e?e:r+1],i-r)}function R(t,n){var e,i=0,r=t.length-1,a=Math.pow,o=N.Bernstein;for(e=0;r>=e;e++)i+=a(1-n,r-e)*a(n,e)*t[e]*o(r,e);return i}function X(t,n){var e=t.length-1,i=e*n,r=Math.floor(i),a=N.Through;return t[0]===t[e]?(0>n&&(r=Math.floor(i=e*(1+n))),a(t[(r-1+e)%e],t[r],t[(r+1)%e],t[(r+2)%e],i-r)):0>n?t[0]-(a(t[0],t[0],t[1],t[1],-i)-t[0]):n>1?t[e]-(a(t[e],t[e],t[e-1],t[e-1],i-e)-t[e]):a(t[r?r-1:0],t[r],t[r+1>e?e:r+1],t[r+2>e?e:r+2],i-r)}Date.now=Date.now||function(){return(new Date).getTime()};var U=Date.now(),Y=function(){return Date.now()-U},D="";!function(){var t=document.createElement("div"),n=["Webkit","Moz","Ms","O"];for(var e in n)if(n[e]+"Transform"in t.style){D=n[e];break}}();var z,C,V,Z=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)},q=[],B=!1,F=0;e(P.prototype,{initialize:function(t,e,i,r,a){this.fromVars=i,this.curVars={},this.toVars=r,this.target=t,this.duration=1e3*Math.max(e,0),this.ease=r.ease||n.Linear.None,this.delay=1e3*Math.max(r.delay||0,0),this.yoyo=r.yoyo||!1,this.repeat=this.curRepeat=Math.floor(r.repeat||0),this.repeatDelay=1e3*Math.max(r.repeatDelay||0,0),this.onStart=r.onStart||null,this.onStartParams=r.onStartParams||[],this.onRepeat=r.onRepeat||null,this.onRepeatParams=r.onRepeatParams||[],this.onEnd=r.onEnd||null,this.onEndParams=r.onEndParams||[],this.onUpdate=r.onUpdate||null,this.onUpdateParams=r.onUpdateParams||[],this.isPlaying=r.isPlaying||!0,this.interpolation=r.interpolation||null,this.isActive=r.isActive||!0,this.isReverse=!1,this.isDom=a,this.curTime=0,this.isStart=!1,this.startTime=this.delay,this.endTime=this.startTime+this.repeatDelay+this.duration,0!=this.delay&&(this._updateProp(),this.onUpdate&&this.onUpdate.apply(this,this.onUpdateParams)),this.isActive&&this._addSelf()},_update:function(t){if(!this.isPlaying)return!0;if(this.curTime+=t,this.curTime<this.startTime)return!0;if(this.isStart||(this.curTime+=this.repeatDelay),this.curTime<this.startTime+this.repeatDelay)return!0;if(this.curTime<this.endTime)this._updateProp(),this.onUpdate&&this.onUpdate.apply(this,this.onUpdateParams);else{if(0==this.curRepeat)return this._updateProp(),this.onUpdate&&this.onUpdate.apply(this,this.onUpdateParams),this._checkStart(),!1;this.yoyo&&(this.isReverse=!this.isReverse);var n=(this.curTime-this.endTime)%(this.duration+this.repeatDelay);0==this.repeatDelay?(this.curTime=this.startTime+n,this._updateProp()):(this._updateProp(),this.curTime=this.startTime+n),this.onUpdate&&this.onUpdate.apply(this,this.onUpdateParams),this.onRepeat&&this.onRepeat.apply(this,this.onRepeatParams),this.curRepeat>0&&this.curRepeat--}return this._checkStart(),!0},_checkStart:function(){this.isStart||(this.isStart=!0,this.onStart&&this.onStart.apply(this,this.onStartParams))},_updateProp:function(){var t=0==this.duration?1:(this.curTime-this.startTime-this.repeatDelay)/this.duration;t=Math.max(0,Math.min(1,t)),this.isReverse&&(t=1-t);var n=this.ease(t),e=!1;for(var i in this.fromVars){var r,a=this.fromVars[i],s=this.toVars[i];r=s.num instanceof Array?this.interpolation(s.num,n):a.num+(s.num-a.num)*n,r=o(r),this.curVars[i]={num:r,unit:s.unit},this.isDom?(Math.abs(s.num-a.num)>20&&(r=Math.round(r)),_(this.target,i,r+(s.unit||0))&&(e=!0)):this.target[i]=r+(s.unit||0)}e&&j(this.target)},_toEnd:function(){var t=!1;for(var n in this.fromVars){var e=this.toVars[n],i=o(e.num);this.curVars[n]={num:i,unit:e.unit},this.isDom?_(this.target,n,i+(e.unit||0))&&(t=!0):this.target[n]=i+(e.unit||0)}t&&j(this.target)},_addSelf:function(){this.isActive=!0,q.push(this),B||(F=n.now(),M())},_removeSelf:function(){this.isActive=!1;var t=q.indexOf(this);-1!==t&&q.splice(t,1)},active:function(){this._addSelf()},play:function(){this.isPlaying=!0},pause:function(){this.isPlaying=!1},kill:function(t){this._removeSelf(),t&&(this._toEnd(),this.onEnd&&this.onEnd.apply(this,this.onEndParams))}}),e(n,{get:function(t,n){var e=u(t);if(void 0!==e.length&&(e=e[0]),g(e)){f(e);var i=c(e,n);return i?v(e,i):null}return e[n]},set:function(t,n){var e=u(t);i(e,function(t,e){if(g(e)){f(e);var i=!1;for(var r in n){var a=c(e,r);if(a)if(d(n[r]))_(e,a,n[r]);else{var o=l(p(v(e,a)),n[r]);_(e,a,o.num+(o.unit||0))&&(i=!0)}}i&&j(e)}else for(var s in n){var o=l(p(e[s]),n[s]);e[s]=o.num+(o.unit||0)}})},fromTo:function(t,n,e,r){x(r);var a=u(t),o=[];return i(a,function(t,i){var a={},s={},u=g(i);if(u){f(i);for(var h in r){var d=c(i,h);if(d){var m=p(v(i,d));a[d]=l(m,e[h]),s[d]=l(m,r[h],a[d],!1)}else s[h]=r[h]}}else for(var h in r)if(void 0!==i[h]){var m=p(i[h]);a[h]=l(m,e[h]),s[h]=l(m,r[h],a[h],!1)}else s[h]=r[h];var _=new P(i,n,a,s,u);o.push(_)}),1==o.length?o[0]:o},from:function(t,n,e){x(e);var r=u(t),a=[];return i(r,function(t,i){var r={},o={},s=g(i);if(s){f(i);for(var u in e){var h=c(i,u);if(h){var d=p(v(i,h));r[h]=l(d,e[u],d,!0),o[h]=d}else o[u]=e[u]}}else for(var u in e)if(void 0!==i[u]){var d=p(i[u]);r[u]=l(d,e[u],d,!0),o[u]=d}else o[u]=e[u];var m=new P(i,n,r,o,s);a.push(m)}),1==a.length?a[0]:a},to:function(t,n,e){x(e);var r=u(t),a=[];return i(r,function(t,i){var r={},o={},s=g(i);if(s){f(i);for(var u in e){var h=c(i,u);if(h){var d=p(v(i,h));r[h]=d,o[h]=l(d,e[u],d,!1)}else o[u]=e[u]}}else for(var u in e)if(void 0!==i[u]){var d=p(i[u]);r[u]=d,o[u]=l(d,e[u],d,!1)}else o[u]=e[u];var m=new P(i,n,r,o,s);a.push(m)}),1==a.length?a[0]:a},kill:function(t,n){var e=u(t);i(e,function(t,e){for(var i=q.length,r=i-1;r>=0;r--){var a=q[r];a.target===e&&a.kill(n)}})},killAll:function(t){for(var n=q.length,e=n-1;e>=0;e--){var i=q[e];i.kill(t)}},play:function(t){T(t,"play")},playAll:function(){E("play")},pause:function(t){T(t,"pause")},pauseAll:function(){E("pause")},isTweening:function(t){var n=u(t);n=n[0]||n;for(var e=q.length,i=e-1;i>=0;i--){var r=q[i];if(r.target===n)return!0}return!1}});var L=[];e(I.prototype,{initialize:function(t,n,e,i){this.delay=1e3*t,this.onEnd=n||null,this.onEndParams=e||[],this.curTime=0,this.endTime=this.delay,this.isPlaying=i||!0,0!=this.delay?this._addSelf():this.onEnd&&this.onEnd.apply(this,this.onEndParams)},_update:function(t){return this.isPlaying?(this.curTime+=t,this.curTime<this.endTime?!0:!1):!0},_addSelf:function(){L.push(this),B||(F=n.now(),M())},_removeSelf:function(){var t=L.indexOf(this);-1!==t&&L.splice(t,1)},play:function(){this.isPlaying=!0},pause:function(){this.isPlaying=!1},kill:function(t){this._removeSelf(),t&&(this._toEnd(),this.onEnd&&this.onEnd.apply(this,this.onEndParams))}}),e(n,{call:function(t,n,e,i){return new I(t,n,e,i)},killCall:function(t,n){var e=t,r=L.length;i(e,function(t,e){for(var i=r-1;i>=0;i--){var a=L[i];a.onEnd===e&&a.kill(n)}})},killAllCalls:function(t){for(var n=L.length,e=n-1;e>=0;e--){var i=L[e];i.kill(t)}},playCall:function(t){S(t,"play")},playAllCalls:function(){k("play")},pauseCall:function(t){S(t,"pause")},pauseAllCalls:function(){k("pause")}}),e(n,{path:function(t){x(t);for(var e,i=t.ease||n.Linear.None,r=t.step||1,a=[],o=0;r>=o;o++){e=i(o/r);var s={};for(var u in t)t[u]instanceof Array&&(s[u]=t.interpolation(t[u],e));a.push(s)}return a}});var N={Linear:function(t,n,e){return(n-t)*e+t},Bernstein:function(t,n){var e=N.Factorial;return e(t)/e(n)/e(t-n)},Factorial:function(){var t=[1];return function(n){var e,i=1;if(t[n])return t[n];for(e=n;e>1;e--)i*=e;return t[n]=i}}(),Through:function(t,n,e,i,r){var a=.5*(e-t),o=.5*(i-n),s=r*r,u=r*s;return(2*n-2*e+a+o)*u+(-3*n+3*e-2*a-o)*s+a*r+n}};return e(n,{Linear:{None:function(t){return t}},Quad:{In:function(t){return t*t},Out:function(t){return t*(2-t)},InOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)}},Cubic:{In:function(t){return t*t*t},Out:function(t){return--t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}},Quart:{In:function(t){return t*t*t*t},Out:function(t){return 1- --t*t*t*t},InOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}},Quint:{In:function(t){return t*t*t*t*t},Out:function(t){return--t*t*t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}},Sine:{In:function(t){return 1-Math.cos(t*Math.PI/2)},Out:function(t){return Math.sin(t*Math.PI/2)},InOut:function(t){return.5*(1-Math.cos(Math.PI*t))}},Expo:{In:function(t){return 0===t?0:Math.pow(1024,t-1)},Out:function(t){return 1===t?1:1-Math.pow(2,-10*t)},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(-Math.pow(2,-10*(t-1))+2)}},Circ:{In:function(t){return 1-Math.sqrt(1-t*t)},Out:function(t){return Math.sqrt(1- --t*t)},InOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}},Elastic:{In:function(t){var n,e=.1,i=.4;return 0===t?0:1===t?1:(!e||1>e?(e=1,n=i/4):n=i*Math.asin(1/e)/(2*Math.PI),-(e*Math.pow(2,10*(t-=1))*Math.sin(2*(t-n)*Math.PI/i)))},Out:function(t){var n,e=.1,i=.4;return 0===t?0:1===t?1:(!e||1>e?(e=1,n=i/4):n=i*Math.asin(1/e)/(2*Math.PI),e*Math.pow(2,-10*t)*Math.sin(2*(t-n)*Math.PI/i)+1)},InOut:function(t){var n,e=.1,i=.4;return 0===t?0:1===t?1:(!e||1>e?(e=1,n=i/4):n=i*Math.asin(1/e)/(2*Math.PI),(t*=2)<1?-.5*e*Math.pow(2,10*(t-=1))*Math.sin(2*(t-n)*Math.PI/i):e*Math.pow(2,-10*(t-=1))*Math.sin(2*(t-n)*Math.PI/i)*.5+1)}},Back:{In:function(t){var n=1.70158;return t*t*((n+1)*t-n)},Out:function(t){var n=1.70158;return--t*t*((n+1)*t+n)+1},InOut:function(t){var n=2.5949095;return(t*=2)<1?.5*t*t*((n+1)*t-n):.5*((t-=2)*t*((n+1)*t+n)+2)}},Bounce:{In:function(t){return 1-n.Bounce.Out(1-t)},Out:function(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},InOut:function(t){return.5>t?.5*n.Bounce.In(2*t):.5*n.Bounce.Out(2*t-1)+.5}}}),n.now=Y,n});\n\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(8)))\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/libs/shrek/jstween.min.js\n// module id = 108\n// module chunks = 0\n\n//# sourceURL=webpack:///./src/libs/shrek/jstween.min.js?')},function(module,exports,__webpack_require__){eval('/* WEBPACK VAR INJECTION */(function(global) {var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!\n * VERSION: 1.19.1\n * DATE: 2017-01-17\n * UPDATES AND DOCS AT: http://greensock.com\n * \n * Includes all of the following: TweenLite, TweenMax, TimelineLite, TimelineMax, EasePack, CSSPlugin, RoundPropsPlugin, BezierPlugin, AttrPlugin, DirectionalRotationPlugin\n *\n * @license Copyright (c) 2008-2017, GreenSock. All rights reserved.\n * This work is subject to the terms at http://greensock.com/standard-license or for\n * Club GreenSock members, the software agreement that was issued with your membership.\n * \n * @author: Jack Doyle, jack@greensock.com\n **/\nvar _gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window;(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){"use strict";_gsScope._gsDefine("TweenMax",["core.Animation","core.SimpleTimeline","TweenLite"],function(a,b,c){var d=function(a){var b,c=[],d=a.length;for(b=0;b!==d;c.push(a[b++]));return c},e=function(a,b,c){var d,e,f=a.cycle;for(d in f)e=f[d],a[d]="function"==typeof e?e(c,b[c]):e[c%e.length];delete a.cycle},f=function(a,b,d){c.call(this,a,b,d),this._cycle=0,this._yoyo=this.vars.yoyo===!0,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._dirty=!0,this.render=f.prototype.render},g=1e-10,h=c._internals,i=h.isSelector,j=h.isArray,k=f.prototype=c.to({},.1,{}),l=[];f.version="1.19.1",k.constructor=f,k.kill()._gc=!1,f.killTweensOf=f.killDelayedCallsTo=c.killTweensOf,f.getTweensOf=c.getTweensOf,f.lagSmoothing=c.lagSmoothing,f.ticker=c.ticker,f.render=c.render,k.invalidate=function(){return this._yoyo=this.vars.yoyo===!0,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),c.prototype.invalidate.call(this)},k.updateTo=function(a,b){var d,e=this.ratio,f=this.vars.immediateRender||a.immediateRender;b&&this._startTime<this._timeline._time&&(this._startTime=this._timeline._time,this._uncache(!1),this._gc?this._enabled(!0,!1):this._timeline.insert(this,this._startTime-this._delay));for(d in a)this.vars[d]=a[d];if(this._initted||f)if(b)this._initted=!1,f&&this.render(0,!0,!0);else if(this._gc&&this._enabled(!0,!1),this._notifyPluginsOfEnabled&&this._firstPT&&c._onPluginEvent("_onDisable",this),this._time/this._duration>.998){var g=this._totalTime;this.render(0,!0,!1),this._initted=!1,this.render(g,!0,!1)}else if(this._initted=!1,this._init(),this._time>0||f)for(var h,i=1/(1-e),j=this._firstPT;j;)h=j.s+j.c,j.c*=i,j.s=h-j.c,j=j._next;return this},k.render=function(a,b,c){this._initted||0===this._duration&&this.vars.repeat&&this.invalidate();var d,e,f,i,j,k,l,m,n=this._dirty?this.totalDuration():this._totalDuration,o=this._time,p=this._totalTime,q=this._cycle,r=this._duration,s=this._rawPrevTime;if(a>=n-1e-7&&a>=0?(this._totalTime=n,this._cycle=this._repeat,this._yoyo&&0!==(1&this._cycle)?(this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0):(this._time=r,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1),this._reversed||(d=!0,e="onComplete",c=c||this._timeline.autoRemoveChildren),0===r&&(this._initted||!this.vars.lazy||c)&&(this._startTime===this._timeline._duration&&(a=0),(0>s||0>=a&&a>=-1e-7||s===g&&"isPause"!==this.data)&&s!==a&&(c=!0,s>g&&(e="onReverseComplete")),this._rawPrevTime=m=!b||a||s===a?a:g)):1e-7>a?(this._totalTime=this._time=this._cycle=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==p||0===r&&s>0)&&(e="onReverseComplete",d=this._reversed),0>a&&(this._active=!1,0===r&&(this._initted||!this.vars.lazy||c)&&(s>=0&&(c=!0),this._rawPrevTime=m=!b||a||s===a?a:g)),this._initted||(c=!0)):(this._totalTime=this._time=a,0!==this._repeat&&(i=r+this._repeatDelay,this._cycle=this._totalTime/i>>0,0!==this._cycle&&this._cycle===this._totalTime/i&&a>=p&&this._cycle--,this._time=this._totalTime-this._cycle*i,this._yoyo&&0!==(1&this._cycle)&&(this._time=r-this._time),this._time>r?this._time=r:this._time<0&&(this._time=0)),this._easeType?(j=this._time/r,k=this._easeType,l=this._easePower,(1===k||3===k&&j>=.5)&&(j=1-j),3===k&&(j*=2),1===l?j*=j:2===l?j*=j*j:3===l?j*=j*j*j:4===l&&(j*=j*j*j*j),1===k?this.ratio=1-j:2===k?this.ratio=j:this._time/r<.5?this.ratio=j/2:this.ratio=1-j/2):this.ratio=this._ease.getRatio(this._time/r)),o===this._time&&!c&&q===this._cycle)return void(p!==this._totalTime&&this._onUpdate&&(b||this._callback("onUpdate")));if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!c&&this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration))return this._time=o,this._totalTime=p,this._rawPrevTime=s,this._cycle=q,h.lazyTweens.push(this),void(this._lazy=[a,b]);this._time&&!d?this.ratio=this._ease.getRatio(this._time/r):d&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(this._lazy!==!1&&(this._lazy=!1),this._active||!this._paused&&this._time!==o&&a>=0&&(this._active=!0),0===p&&(2===this._initted&&a>0&&this._init(),this._startAt&&(a>=0?this._startAt.render(a,b,c):e||(e="_dummyGS")),this.vars.onStart&&(0!==this._totalTime||0===r)&&(b||this._callback("onStart"))),f=this._firstPT;f;)f.f?f.t[f.p](f.c*this.ratio+f.s):f.t[f.p]=f.c*this.ratio+f.s,f=f._next;this._onUpdate&&(0>a&&this._startAt&&this._startTime&&this._startAt.render(a,b,c),b||(this._totalTime!==p||e)&&this._callback("onUpdate")),this._cycle!==q&&(b||this._gc||this.vars.onRepeat&&this._callback("onRepeat")),e&&(!this._gc||c)&&(0>a&&this._startAt&&!this._onUpdate&&this._startTime&&this._startAt.render(a,b,c),d&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!b&&this.vars[e]&&this._callback(e),0===r&&this._rawPrevTime===g&&m!==g&&(this._rawPrevTime=0))},f.to=function(a,b,c){return new f(a,b,c)},f.from=function(a,b,c){return c.runBackwards=!0,c.immediateRender=0!=c.immediateRender,new f(a,b,c)},f.fromTo=function(a,b,c,d){return d.startAt=c,d.immediateRender=0!=d.immediateRender&&0!=c.immediateRender,new f(a,b,d)},f.staggerTo=f.allTo=function(a,b,g,h,k,m,n){h=h||0;var o,p,q,r,s=0,t=[],u=function(){g.onComplete&&g.onComplete.apply(g.onCompleteScope||this,arguments),k.apply(n||g.callbackScope||this,m||l)},v=g.cycle,w=g.startAt&&g.startAt.cycle;for(j(a)||("string"==typeof a&&(a=c.selector(a)||a),i(a)&&(a=d(a))),a=a||[],0>h&&(a=d(a),a.reverse(),h*=-1),o=a.length-1,q=0;o>=q;q++){p={};for(r in g)p[r]=g[r];if(v&&(e(p,a,q),null!=p.duration&&(b=p.duration,delete p.duration)),w){w=p.startAt={};for(r in g.startAt)w[r]=g.startAt[r];e(p.startAt,a,q)}p.delay=s+(p.delay||0),q===o&&k&&(p.onComplete=u),t[q]=new f(a[q],b,p),s+=h}return t},f.staggerFrom=f.allFrom=function(a,b,c,d,e,g,h){return c.runBackwards=!0,c.immediateRender=0!=c.immediateRender,f.staggerTo(a,b,c,d,e,g,h)},f.staggerFromTo=f.allFromTo=function(a,b,c,d,e,g,h,i){return d.startAt=c,d.immediateRender=0!=d.immediateRender&&0!=c.immediateRender,f.staggerTo(a,b,d,e,g,h,i)},f.delayedCall=function(a,b,c,d,e){return new f(b,0,{delay:a,onComplete:b,onCompleteParams:c,callbackScope:d,onReverseComplete:b,onReverseCompleteParams:c,immediateRender:!1,useFrames:e,overwrite:0})},f.set=function(a,b){return new f(a,0,b)},f.isTweening=function(a){return c.getTweensOf(a,!0).length>0};var m=function(a,b){for(var d=[],e=0,f=a._first;f;)f instanceof c?d[e++]=f:(b&&(d[e++]=f),d=d.concat(m(f,b)),e=d.length),f=f._next;return d},n=f.getAllTweens=function(b){return m(a._rootTimeline,b).concat(m(a._rootFramesTimeline,b))};f.killAll=function(a,c,d,e){null==c&&(c=!0),null==d&&(d=!0);var f,g,h,i=n(0!=e),j=i.length,k=c&&d&&e;for(h=0;j>h;h++)g=i[h],(k||g instanceof b||(f=g.target===g.vars.onComplete)&&d||c&&!f)&&(a?g.totalTime(g._reversed?0:g.totalDuration()):g._enabled(!1,!1))},f.killChildTweensOf=function(a,b){if(null!=a){var e,g,k,l,m,n=h.tweenLookup;if("string"==typeof a&&(a=c.selector(a)||a),i(a)&&(a=d(a)),j(a))for(l=a.length;--l>-1;)f.killChildTweensOf(a[l],b);else{e=[];for(k in n)for(g=n[k].target.parentNode;g;)g===a&&(e=e.concat(n[k].tweens)),g=g.parentNode;for(m=e.length,l=0;m>l;l++)b&&e[l].totalTime(e[l].totalDuration()),e[l]._enabled(!1,!1)}}};var o=function(a,c,d,e){c=c!==!1,d=d!==!1,e=e!==!1;for(var f,g,h=n(e),i=c&&d&&e,j=h.length;--j>-1;)g=h[j],(i||g instanceof b||(f=g.target===g.vars.onComplete)&&d||c&&!f)&&g.paused(a)};return f.pauseAll=function(a,b,c){o(!0,a,b,c)},f.resumeAll=function(a,b,c){o(!1,a,b,c)},f.globalTimeScale=function(b){var d=a._rootTimeline,e=c.ticker.time;return arguments.length?(b=b||g,d._startTime=e-(e-d._startTime)*d._timeScale/b,d=a._rootFramesTimeline,e=c.ticker.frame,d._startTime=e-(e-d._startTime)*d._timeScale/b,d._timeScale=a._rootTimeline._timeScale=b,b):d._timeScale},k.progress=function(a,b){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!==(1&this._cycle)?1-a:a)+this._cycle*(this._duration+this._repeatDelay),b):this._time/this.duration()},k.totalProgress=function(a,b){return arguments.length?this.totalTime(this.totalDuration()*a,b):this._totalTime/this.totalDuration()},k.time=function(a,b){return arguments.length?(this._dirty&&this.totalDuration(),a>this._duration&&(a=this._duration),this._yoyo&&0!==(1&this._cycle)?a=this._duration-a+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(a+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(a,b)):this._time},k.duration=function(b){return arguments.length?a.prototype.duration.call(this,b):this._duration},k.totalDuration=function(a){return arguments.length?-1===this._repeat?this:this.duration((a-this._repeat*this._repeatDelay)/(this._repeat+1)):(this._dirty&&(this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat,this._dirty=!1),this._totalDuration)},k.repeat=function(a){return arguments.length?(this._repeat=a,this._uncache(!0)):this._repeat},k.repeatDelay=function(a){return arguments.length?(this._repeatDelay=a,this._uncache(!0)):this._repeatDelay},k.yoyo=function(a){return arguments.length?(this._yoyo=a,this):this._yoyo},f},!0),_gsScope._gsDefine("TimelineLite",["core.Animation","core.SimpleTimeline","TweenLite"],function(a,b,c){var d=function(a){b.call(this,a),this._labels={},this.autoRemoveChildren=this.vars.autoRemoveChildren===!0,this.smoothChildTiming=this.vars.smoothChildTiming===!0,this._sortChildren=!0,this._onUpdate=this.vars.onUpdate;var c,d,e=this.vars;for(d in e)c=e[d],i(c)&&-1!==c.join("").indexOf("{self}")&&(e[d]=this._swapSelfInParams(c));i(e.tweens)&&this.add(e.tweens,0,e.align,e.stagger)},e=1e-10,f=c._internals,g=d._internals={},h=f.isSelector,i=f.isArray,j=f.lazyTweens,k=f.lazyRender,l=_gsScope._gsDefine.globals,m=function(a){var b,c={};for(b in a)c[b]=a[b];return c},n=function(a,b,c){var d,e,f=a.cycle;for(d in f)e=f[d],a[d]="function"==typeof e?e(c,b[c]):e[c%e.length];delete a.cycle},o=g.pauseCallback=function(){},p=function(a){var b,c=[],d=a.length;for(b=0;b!==d;c.push(a[b++]));return c},q=d.prototype=new b;return d.version="1.19.1",q.constructor=d,q.kill()._gc=q._forcingPlayhead=q._hasPause=!1,q.to=function(a,b,d,e){var f=d.repeat&&l.TweenMax||c;return b?this.add(new f(a,b,d),e):this.set(a,d,e)},q.from=function(a,b,d,e){return this.add((d.repeat&&l.TweenMax||c).from(a,b,d),e)},q.fromTo=function(a,b,d,e,f){var g=e.repeat&&l.TweenMax||c;return b?this.add(g.fromTo(a,b,d,e),f):this.set(a,e,f)},q.staggerTo=function(a,b,e,f,g,i,j,k){var l,o,q=new d({onComplete:i,onCompleteParams:j,callbackScope:k,smoothChildTiming:this.smoothChildTiming}),r=e.cycle;for("string"==typeof a&&(a=c.selector(a)||a),a=a||[],h(a)&&(a=p(a)),f=f||0,0>f&&(a=p(a),a.reverse(),f*=-1),o=0;o<a.length;o++)l=m(e),l.startAt&&(l.startAt=m(l.startAt),l.startAt.cycle&&n(l.startAt,a,o)),r&&(n(l,a,o),null!=l.duration&&(b=l.duration,delete l.duration)),q.to(a[o],b,l,o*f);return this.add(q,g)},q.staggerFrom=function(a,b,c,d,e,f,g,h){return c.immediateRender=0!=c.immediateRender,c.runBackwards=!0,this.staggerTo(a,b,c,d,e,f,g,h)},q.staggerFromTo=function(a,b,c,d,e,f,g,h,i){return d.startAt=c,d.immediateRender=0!=d.immediateRender&&0!=c.immediateRender,this.staggerTo(a,b,d,e,f,g,h,i)},q.call=function(a,b,d,e){return this.add(c.delayedCall(0,a,b,d),e)},q.set=function(a,b,d){return d=this._parseTimeOrLabel(d,0,!0),null==b.immediateRender&&(b.immediateRender=d===this._time&&!this._paused),this.add(new c(a,0,b),d)},d.exportRoot=function(a,b){a=a||{},null==a.smoothChildTiming&&(a.smoothChildTiming=!0);var e,f,g=new d(a),h=g._timeline;for(null==b&&(b=!0),h._remove(g,!0),g._startTime=0,g._rawPrevTime=g._time=g._totalTime=h._time,e=h._first;e;)f=e._next,b&&e instanceof c&&e.target===e.vars.onComplete||g.add(e,e._startTime-e._delay),e=f;return h.add(g,0),g},q.add=function(e,f,g,h){var j,k,l,m,n,o;if("number"!=typeof f&&(f=this._parseTimeOrLabel(f,0,!0,e)),!(e instanceof a)){if(e instanceof Array||e&&e.push&&i(e)){for(g=g||"normal",h=h||0,j=f,k=e.length,l=0;k>l;l++)i(m=e[l])&&(m=new d({tweens:m})),this.add(m,j),"string"!=typeof m&&"function"!=typeof m&&("sequence"===g?j=m._startTime+m.totalDuration()/m._timeScale:"start"===g&&(m._startTime-=m.delay())),j+=h;return this._uncache(!0)}if("string"==typeof e)return this.addLabel(e,f);if("function"!=typeof e)throw"Cannot add "+e+" into the timeline; it is not a tween, timeline, function, or string.";e=c.delayedCall(0,e)}if(b.prototype.add.call(this,e,f),(this._gc||this._time===this._duration)&&!this._paused&&this._duration<this.duration())for(n=this,o=n.rawTime()>e._startTime;n._timeline;)o&&n._timeline.smoothChildTiming?n.totalTime(n._totalTime,!0):n._gc&&n._enabled(!0,!1),n=n._timeline;return this},q.remove=function(b){if(b instanceof a){this._remove(b,!1);var c=b._timeline=b.vars.useFrames?a._rootFramesTimeline:a._rootTimeline;return b._startTime=(b._paused?b._pauseTime:c._time)-(b._reversed?b.totalDuration()-b._totalTime:b._totalTime)/b._timeScale,this}if(b instanceof Array||b&&b.push&&i(b)){for(var d=b.length;--d>-1;)this.remove(b[d]);return this}return"string"==typeof b?this.removeLabel(b):this.kill(null,b)},q._remove=function(a,c){b.prototype._remove.call(this,a,c);var d=this._last;return d?this._time>this.duration()&&(this._time=this._duration,this._totalTime=this._totalDuration):this._time=this._totalTime=this._duration=this._totalDuration=0,this},q.append=function(a,b){return this.add(a,this._parseTimeOrLabel(null,b,!0,a))},q.insert=q.insertMultiple=function(a,b,c,d){return this.add(a,b||0,c,d)},q.appendMultiple=function(a,b,c,d){return this.add(a,this._parseTimeOrLabel(null,b,!0,a),c,d)},q.addLabel=function(a,b){return this._labels[a]=this._parseTimeOrLabel(b),this},q.addPause=function(a,b,d,e){var f=c.delayedCall(0,o,d,e||this);return f.vars.onComplete=f.vars.onReverseComplete=b,f.data="isPause",this._hasPause=!0,this.add(f,a)},q.removeLabel=function(a){return delete this._labels[a],this},q.getLabelTime=function(a){return null!=this._labels[a]?this._labels[a]:-1},q._parseTimeOrLabel=function(b,c,d,e){var f;if(e instanceof a&&e.timeline===this)this.remove(e);else if(e&&(e instanceof Array||e.push&&i(e)))for(f=e.length;--f>-1;)e[f]instanceof a&&e[f].timeline===this&&this.remove(e[f]);if("string"==typeof c)return this._parseTimeOrLabel(c,d&&"number"==typeof b&&null==this._labels[c]?b-this.duration():0,d);if(c=c||0,"string"!=typeof b||!isNaN(b)&&null==this._labels[b])null==b&&(b=this.duration());else{if(f=b.indexOf("="),-1===f)return null==this._labels[b]?d?this._labels[b]=this.duration()+c:c:this._labels[b]+c;c=parseInt(b.charAt(f-1)+"1",10)*Number(b.substr(f+1)),b=f>1?this._parseTimeOrLabel(b.substr(0,f-1),0,d):this.duration()}return Number(b)+c},q.seek=function(a,b){return this.totalTime("number"==typeof a?a:this._parseTimeOrLabel(a),b!==!1)},q.stop=function(){return this.paused(!0)},q.gotoAndPlay=function(a,b){return this.play(a,b)},q.gotoAndStop=function(a,b){return this.pause(a,b)},q.render=function(a,b,c){this._gc&&this._enabled(!0,!1);var d,f,g,h,i,l,m,n=this._dirty?this.totalDuration():this._totalDuration,o=this._time,p=this._startTime,q=this._timeScale,r=this._paused;if(a>=n-1e-7&&a>=0)this._totalTime=this._time=n,this._reversed||this._hasPausedChild()||(f=!0,h="onComplete",i=!!this._timeline.autoRemoveChildren,0===this._duration&&(0>=a&&a>=-1e-7||this._rawPrevTime<0||this._rawPrevTime===e)&&this._rawPrevTime!==a&&this._first&&(i=!0,this._rawPrevTime>e&&(h="onReverseComplete"))),this._rawPrevTime=this._duration||!b||a||this._rawPrevTime===a?a:e,a=n+1e-4;else if(1e-7>a)if(this._totalTime=this._time=0,(0!==o||0===this._duration&&this._rawPrevTime!==e&&(this._rawPrevTime>0||0>a&&this._rawPrevTime>=0))&&(h="onReverseComplete",f=this._reversed),0>a)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(i=f=!0,h="onReverseComplete"):this._rawPrevTime>=0&&this._first&&(i=!0),this._rawPrevTime=a;else{if(this._rawPrevTime=this._duration||!b||a||this._rawPrevTime===a?a:e,0===a&&f)for(d=this._first;d&&0===d._startTime;)d._duration||(f=!1),d=d._next;a=0,this._initted||(i=!0)}else{if(this._hasPause&&!this._forcingPlayhead&&!b){if(a>=o)for(d=this._first;d&&d._startTime<=a&&!l;)d._duration||"isPause"!==d.data||d.ratio||0===d._startTime&&0===this._rawPrevTime||(l=d),d=d._next;else for(d=this._last;d&&d._startTime>=a&&!l;)d._duration||"isPause"===d.data&&d._rawPrevTime>0&&(l=d),d=d._prev;l&&(this._time=a=l._startTime,this._totalTime=a+this._cycle*(this._totalDuration+this._repeatDelay))}this._totalTime=this._time=this._rawPrevTime=a}if(this._time!==o&&this._first||c||i||l){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._time!==o&&a>0&&(this._active=!0),0===o&&this.vars.onStart&&(0===this._time&&this._duration||b||this._callback("onStart")),m=this._time,m>=o)for(d=this._first;d&&(g=d._next,m===this._time&&(!this._paused||r));)(d._active||d._startTime<=m&&!d._paused&&!d._gc)&&(l===d&&this.pause(),d._reversed?d.render((d._dirty?d.totalDuration():d._totalDuration)-(a-d._startTime)*d._timeScale,b,c):d.render((a-d._startTime)*d._timeScale,b,c)),d=g;else for(d=this._last;d&&(g=d._prev,m===this._time&&(!this._paused||r));){if(d._active||d._startTime<=o&&!d._paused&&!d._gc){if(l===d){for(l=d._prev;l&&l.endTime()>this._time;)l.render(l._reversed?l.totalDuration()-(a-l._startTime)*l._timeScale:(a-l._startTime)*l._timeScale,b,c),l=l._prev;l=null,this.pause()}d._reversed?d.render((d._dirty?d.totalDuration():d._totalDuration)-(a-d._startTime)*d._timeScale,b,c):d.render((a-d._startTime)*d._timeScale,b,c)}d=g}this._onUpdate&&(b||(j.length&&k(),this._callback("onUpdate"))),h&&(this._gc||(p===this._startTime||q!==this._timeScale)&&(0===this._time||n>=this.totalDuration())&&(f&&(j.length&&k(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!b&&this.vars[h]&&this._callback(h)))}},q._hasPausedChild=function(){for(var a=this._first;a;){if(a._paused||a instanceof d&&a._hasPausedChild())return!0;a=a._next}return!1},q.getChildren=function(a,b,d,e){e=e||-9999999999;for(var f=[],g=this._first,h=0;g;)g._startTime<e||(g instanceof c?b!==!1&&(f[h++]=g):(d!==!1&&(f[h++]=g),a!==!1&&(f=f.concat(g.getChildren(!0,b,d)),h=f.length))),g=g._next;return f},q.getTweensOf=function(a,b){var d,e,f=this._gc,g=[],h=0;for(f&&this._enabled(!0,!0),d=c.getTweensOf(a),e=d.length;--e>-1;)(d[e].timeline===this||b&&this._contains(d[e]))&&(g[h++]=d[e]);return f&&this._enabled(!1,!0),g},q.recent=function(){return this._recent},q._contains=function(a){for(var b=a.timeline;b;){if(b===this)return!0;b=b.timeline}return!1},q.shiftChildren=function(a,b,c){c=c||0;for(var d,e=this._first,f=this._labels;e;)e._startTime>=c&&(e._startTime+=a),e=e._next;if(b)for(d in f)f[d]>=c&&(f[d]+=a);return this._uncache(!0)},q._kill=function(a,b){if(!a&&!b)return this._enabled(!1,!1);for(var c=b?this.getTweensOf(b):this.getChildren(!0,!0,!1),d=c.length,e=!1;--d>-1;)c[d]._kill(a,b)&&(e=!0);return e},q.clear=function(a){var b=this.getChildren(!1,!0,!0),c=b.length;for(this._time=this._totalTime=0;--c>-1;)b[c]._enabled(!1,!1);return a!==!1&&(this._labels={}),this._uncache(!0)},q.invalidate=function(){for(var b=this._first;b;)b.invalidate(),b=b._next;return a.prototype.invalidate.call(this)},q._enabled=function(a,c){if(a===this._gc)for(var d=this._first;d;)d._enabled(a,!0),d=d._next;return b.prototype._enabled.call(this,a,c)},q.totalTime=function(b,c,d){this._forcingPlayhead=!0;var e=a.prototype.totalTime.apply(this,arguments);return this._forcingPlayhead=!1,e},q.duration=function(a){return arguments.length?(0!==this.duration()&&0!==a&&this.timeScale(this._duration/a),this):(this._dirty&&this.totalDuration(),this._duration)},q.totalDuration=function(a){if(!arguments.length){if(this._dirty){for(var b,c,d=0,e=this._last,f=999999999999;e;)b=e._prev,e._dirty&&e.totalDuration(),e._startTime>f&&this._sortChildren&&!e._paused?this.add(e,e._startTime-e._delay):f=e._startTime,e._startTime<0&&!e._paused&&(d-=e._startTime,this._timeline.smoothChildTiming&&(this._startTime+=e._startTime/this._timeScale),this.shiftChildren(-e._startTime,!1,-9999999999),f=0),c=e._startTime+e._totalDuration/e._timeScale,c>d&&(d=c),e=b;this._duration=this._totalDuration=d,this._dirty=!1}return this._totalDuration}return a&&this.totalDuration()?this.timeScale(this._totalDuration/a):this},q.paused=function(b){if(!b)for(var c=this._first,d=this._time;c;)c._startTime===d&&"isPause"===c.data&&(c._rawPrevTime=0),c=c._next;return a.prototype.paused.apply(this,arguments)},q.usesFrames=function(){for(var b=this._timeline;b._timeline;)b=b._timeline;return b===a._rootFramesTimeline},q.rawTime=function(a){return a&&(this._paused||this._repeat&&this.time()>0&&this.totalProgress()<1)?this._totalTime%(this._duration+this._repeatDelay):this._paused?this._totalTime:(this._timeline.rawTime(a)-this._startTime)*this._timeScale},d},!0),_gsScope._gsDefine("TimelineMax",["TimelineLite","TweenLite","easing.Ease"],function(a,b,c){var d=function(b){a.call(this,b),this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._cycle=0,this._yoyo=this.vars.yoyo===!0,this._dirty=!0},e=1e-10,f=b._internals,g=f.lazyTweens,h=f.lazyRender,i=_gsScope._gsDefine.globals,j=new c(null,null,1,0),k=d.prototype=new a;return k.constructor=d,k.kill()._gc=!1,d.version="1.19.1",k.invalidate=function(){return this._yoyo=this.vars.yoyo===!0,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),a.prototype.invalidate.call(this)},k.addCallback=function(a,c,d,e){return this.add(b.delayedCall(0,a,d,e),c)},k.removeCallback=function(a,b){if(a)if(null==b)this._kill(null,a);else for(var c=this.getTweensOf(a,!1),d=c.length,e=this._parseTimeOrLabel(b);--d>-1;)c[d]._startTime===e&&c[d]._enabled(!1,!1);return this},k.removePause=function(b){return this.removeCallback(a._internals.pauseCallback,b)},k.tweenTo=function(a,c){c=c||{};var d,e,f,g={ease:j,useFrames:this.usesFrames(),immediateRender:!1},h=c.repeat&&i.TweenMax||b;for(e in c)g[e]=c[e];return g.time=this._parseTimeOrLabel(a),d=Math.abs(Number(g.time)-this._time)/this._timeScale||.001,f=new h(this,d,g),g.onStart=function(){f.target.paused(!0),f.vars.time!==f.target.time()&&d===f.duration()&&f.duration(Math.abs(f.vars.time-f.target.time())/f.target._timeScale),c.onStart&&c.onStart.apply(c.onStartScope||c.callbackScope||f,c.onStartParams||[])},f},k.tweenFromTo=function(a,b,c){c=c||{},a=this._parseTimeOrLabel(a),c.startAt={onComplete:this.seek,onCompleteParams:[a],callbackScope:this},c.immediateRender=c.immediateRender!==!1;var d=this.tweenTo(b,c);return d.duration(Math.abs(d.vars.time-a)/this._timeScale||.001)},k.render=function(a,b,c){this._gc&&this._enabled(!0,!1);var d,f,i,j,k,l,m,n,o=this._dirty?this.totalDuration():this._totalDuration,p=this._duration,q=this._time,r=this._totalTime,s=this._startTime,t=this._timeScale,u=this._rawPrevTime,v=this._paused,w=this._cycle;if(a>=o-1e-7&&a>=0)this._locked||(this._totalTime=o,this._cycle=this._repeat),this._reversed||this._hasPausedChild()||(f=!0,j="onComplete",k=!!this._timeline.autoRemoveChildren,0===this._duration&&(0>=a&&a>=-1e-7||0>u||u===e)&&u!==a&&this._first&&(k=!0,u>e&&(j="onReverseComplete"))),this._rawPrevTime=this._duration||!b||a||this._rawPrevTime===a?a:e,this._yoyo&&0!==(1&this._cycle)?this._time=a=0:(this._time=p,a=p+1e-4);else if(1e-7>a)if(this._locked||(this._totalTime=this._cycle=0),this._time=0,(0!==q||0===p&&u!==e&&(u>0||0>a&&u>=0)&&!this._locked)&&(j="onReverseComplete",f=this._reversed),0>a)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(k=f=!0,j="onReverseComplete"):u>=0&&this._first&&(k=!0),this._rawPrevTime=a;else{if(this._rawPrevTime=p||!b||a||this._rawPrevTime===a?a:e,0===a&&f)for(d=this._first;d&&0===d._startTime;)d._duration||(f=!1),d=d._next;a=0,this._initted||(k=!0)}else if(0===p&&0>u&&(k=!0),this._time=this._rawPrevTime=a,this._locked||(this._totalTime=a,0!==this._repeat&&(l=p+this._repeatDelay,this._cycle=this._totalTime/l>>0,0!==this._cycle&&this._cycle===this._totalTime/l&&a>=r&&this._cycle--,this._time=this._totalTime-this._cycle*l,this._yoyo&&0!==(1&this._cycle)&&(this._time=p-this._time),this._time>p?(this._time=p,a=p+1e-4):this._time<0?this._time=a=0:a=this._time)),this._hasPause&&!this._forcingPlayhead&&!b&&p>a){if(a=this._time,a>=q||this._repeat&&w!==this._cycle)for(d=this._first;d&&d._startTime<=a&&!m;)d._duration||"isPause"!==d.data||d.ratio||0===d._startTime&&0===this._rawPrevTime||(m=d),d=d._next;else for(d=this._last;d&&d._startTime>=a&&!m;)d._duration||"isPause"===d.data&&d._rawPrevTime>0&&(m=d),d=d._prev;m&&(this._time=a=m._startTime,this._totalTime=a+this._cycle*(this._totalDuration+this._repeatDelay))}if(this._cycle!==w&&!this._locked){var x=this._yoyo&&0!==(1&w),y=x===(this._yoyo&&0!==(1&this._cycle)),z=this._totalTime,A=this._cycle,B=this._rawPrevTime,C=this._time;if(this._totalTime=w*p,this._cycle<w?x=!x:this._totalTime+=p,this._time=q,this._rawPrevTime=0===p?u-1e-4:u,this._cycle=w,this._locked=!0,q=x?0:p,this.render(q,b,0===p),b||this._gc||this.vars.onRepeat&&(this._cycle=A,this._locked=!1,this._callback("onRepeat")),q!==this._time)return;if(y&&(this._cycle=w,this._locked=!0,q=x?p+1e-4:-1e-4,this.render(q,!0,!1)),this._locked=!1,this._paused&&!v)return;this._time=C,this._totalTime=z,this._cycle=A,this._rawPrevTime=B}if(!(this._time!==q&&this._first||c||k||m))return void(r!==this._totalTime&&this._onUpdate&&(b||this._callback("onUpdate")));if(this._initted||(this._initted=!0),this._active||!this._paused&&this._totalTime!==r&&a>0&&(this._active=!0),0===r&&this.vars.onStart&&(0===this._totalTime&&this._totalDuration||b||this._callback("onStart")),n=this._time,n>=q)for(d=this._first;d&&(i=d._next,n===this._time&&(!this._paused||v));)(d._active||d._startTime<=this._time&&!d._paused&&!d._gc)&&(m===d&&this.pause(),d._reversed?d.render((d._dirty?d.totalDuration():d._totalDuration)-(a-d._startTime)*d._timeScale,b,c):d.render((a-d._startTime)*d._timeScale,b,c)),d=i;else for(d=this._last;d&&(i=d._prev,n===this._time&&(!this._paused||v));){if(d._active||d._startTime<=q&&!d._paused&&!d._gc){if(m===d){for(m=d._prev;m&&m.endTime()>this._time;)m.render(m._reversed?m.totalDuration()-(a-m._startTime)*m._timeScale:(a-m._startTime)*m._timeScale,b,c),m=m._prev;m=null,this.pause()}d._reversed?d.render((d._dirty?d.totalDuration():d._totalDuration)-(a-d._startTime)*d._timeScale,b,c):d.render((a-d._startTime)*d._timeScale,b,c)}d=i}this._onUpdate&&(b||(g.length&&h(),this._callback("onUpdate"))),j&&(this._locked||this._gc||(s===this._startTime||t!==this._timeScale)&&(0===this._time||o>=this.totalDuration())&&(f&&(g.length&&h(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!b&&this.vars[j]&&this._callback(j)))},k.getActive=function(a,b,c){null==a&&(a=!0),null==b&&(b=!0),null==c&&(c=!1);var d,e,f=[],g=this.getChildren(a,b,c),h=0,i=g.length;for(d=0;i>d;d++)e=g[d],e.isActive()&&(f[h++]=e);return f},k.getLabelAfter=function(a){a||0!==a&&(a=this._time);var b,c=this.getLabelsArray(),d=c.length;for(b=0;d>b;b++)if(c[b].time>a)return c[b].name;return null},k.getLabelBefore=function(a){null==a&&(a=this._time);for(var b=this.getLabelsArray(),c=b.length;--c>-1;)if(b[c].time<a)return b[c].name;return null},k.getLabelsArray=function(){var a,b=[],c=0;for(a in this._labels)b[c++]={time:this._labels[a],name:a};return b.sort(function(a,b){return a.time-b.time}),b},k.invalidate=function(){return this._locked=!1,a.prototype.invalidate.call(this)},k.progress=function(a,b){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!==(1&this._cycle)?1-a:a)+this._cycle*(this._duration+this._repeatDelay),b):this._time/this.duration()},k.totalProgress=function(a,b){return arguments.length?this.totalTime(this.totalDuration()*a,b):this._totalTime/this.totalDuration()},k.totalDuration=function(b){return arguments.length?-1!==this._repeat&&b?this.timeScale(this.totalDuration()/b):this:(this._dirty&&(a.prototype.totalDuration.call(this),this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat),this._totalDuration)},k.time=function(a,b){return arguments.length?(this._dirty&&this.totalDuration(),a>this._duration&&(a=this._duration),this._yoyo&&0!==(1&this._cycle)?a=this._duration-a+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(a+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(a,b)):this._time},k.repeat=function(a){return arguments.length?(this._repeat=a,this._uncache(!0)):this._repeat},k.repeatDelay=function(a){return arguments.length?(this._repeatDelay=a,this._uncache(!0)):this._repeatDelay},k.yoyo=function(a){return arguments.length?(this._yoyo=a,this):this._yoyo},k.currentLabel=function(a){return arguments.length?this.seek(a,!0):this.getLabelBefore(this._time+1e-8)},d},!0),function(){var a=180/Math.PI,b=[],c=[],d=[],e={},f=_gsScope._gsDefine.globals,g=function(a,b,c,d){c===d&&(c=d-(d-b)/1e6),a===b&&(b=a+(c-a)/1e6),this.a=a,this.b=b,this.c=c,this.d=d,this.da=d-a,this.ca=c-a,this.ba=b-a},h=",x,y,z,left,top,right,bottom,marginTop,marginLeft,marginRight,marginBottom,paddingLeft,paddingTop,paddingRight,paddingBottom,backgroundPosition,backgroundPosition_y,",i=function(a,b,c,d){var e={a:a},f={},g={},h={c:d},i=(a+b)/2,j=(b+c)/2,k=(c+d)/2,l=(i+j)/2,m=(j+k)/2,n=(m-l)/8;return e.b=i+(a-i)/4,f.b=l+n,e.c=f.a=(e.b+f.b)/2,f.c=g.a=(l+m)/2,g.b=m-n,h.b=k+(d-k)/4,g.c=h.a=(g.b+h.b)/2,[e,f,g,h]},j=function(a,e,f,g,h){var j,k,l,m,n,o,p,q,r,s,t,u,v,w=a.length-1,x=0,y=a[0].a;for(j=0;w>j;j++)n=a[x],k=n.a,l=n.d,m=a[x+1].d,h?(t=b[j],u=c[j],v=(u+t)*e*.25/(g?.5:d[j]||.5),o=l-(l-k)*(g?.5*e:0!==t?v/t:0),p=l+(m-l)*(g?.5*e:0!==u?v/u:0),q=l-(o+((p-o)*(3*t/(t+u)+.5)/4||0))):(o=l-(l-k)*e*.5,p=l+(m-l)*e*.5,q=l-(o+p)/2),o+=q,p+=q,n.c=r=o,0!==j?n.b=y:n.b=y=n.a+.6*(n.c-n.a),n.da=l-k,n.ca=r-k,n.ba=y-k,f?(s=i(k,y,r,l),a.splice(x,1,s[0],s[1],s[2],s[3]),x+=4):x++,y=p;n=a[x],n.b=y,n.c=y+.4*(n.d-y),n.da=n.d-n.a,n.ca=n.c-n.a,n.ba=y-n.a,f&&(s=i(n.a,y,n.c,n.d),a.splice(x,1,s[0],s[1],s[2],s[3]))},k=function(a,d,e,f){var h,i,j,k,l,m,n=[];if(f)for(a=[f].concat(a),i=a.length;--i>-1;)"string"==typeof(m=a[i][d])&&"="===m.charAt(1)&&(a[i][d]=f[d]+Number(m.charAt(0)+m.substr(2)));if(h=a.length-2,0>h)return n[0]=new g(a[0][d],0,0,a[-1>h?0:1][d]),n;for(i=0;h>i;i++)j=a[i][d],k=a[i+1][d],n[i]=new g(j,0,0,k),e&&(l=a[i+2][d],b[i]=(b[i]||0)+(k-j)*(k-j),c[i]=(c[i]||0)+(l-k)*(l-k));return n[i]=new g(a[i][d],0,0,a[i+1][d]),n},l=function(a,f,g,i,l,m){var n,o,p,q,r,s,t,u,v={},w=[],x=m||a[0];l="string"==typeof l?","+l+",":h,null==f&&(f=1);for(o in a[0])w.push(o);if(a.length>1){for(u=a[a.length-1],t=!0,n=w.length;--n>-1;)if(o=w[n],Math.abs(x[o]-u[o])>.05){t=!1;break}t&&(a=a.concat(),m&&a.unshift(m),a.push(a[1]),m=a[a.length-3])}for(b.length=c.length=d.length=0,n=w.length;--n>-1;)o=w[n],e[o]=-1!==l.indexOf(","+o+","),v[o]=k(a,o,e[o],m);for(n=b.length;--n>-1;)b[n]=Math.sqrt(b[n]),c[n]=Math.sqrt(c[n]);if(!i){for(n=w.length;--n>-1;)if(e[o])for(p=v[w[n]],s=p.length-1,q=0;s>q;q++)r=p[q+1].da/c[q]+p[q].da/b[q]||0,d[q]=(d[q]||0)+r*r;for(n=d.length;--n>-1;)d[n]=Math.sqrt(d[n])}for(n=w.length,q=g?4:1;--n>-1;)o=w[n],p=v[o],j(p,f,g,i,e[o]),t&&(p.splice(0,q),p.splice(p.length-q,q));return v},m=function(a,b,c){b=b||"soft";var d,e,f,h,i,j,k,l,m,n,o,p={},q="cubic"===b?3:2,r="soft"===b,s=[];if(r&&c&&(a=[c].concat(a)),null==a||a.length<q+1)throw"invalid Bezier data";for(m in a[0])s.push(m);for(j=s.length;--j>-1;){for(m=s[j],p[m]=i=[],n=0,l=a.length,k=0;l>k;k++)d=null==c?a[k][m]:"string"==typeof(o=a[k][m])&&"="===o.charAt(1)?c[m]+Number(o.charAt(0)+o.substr(2)):Number(o),r&&k>1&&l-1>k&&(i[n++]=(d+i[n-2])/2),i[n++]=d;for(l=n-q+1,n=0,k=0;l>k;k+=q)d=i[k],e=i[k+1],f=i[k+2],h=2===q?0:i[k+3],i[n++]=o=3===q?new g(d,e,f,h):new g(d,(2*e+d)/3,(2*e+f)/3,f);i.length=n}return p},n=function(a,b,c){for(var d,e,f,g,h,i,j,k,l,m,n,o=1/c,p=a.length;--p>-1;)for(m=a[p],f=m.a,g=m.d-f,\nh=m.c-f,i=m.b-f,d=e=0,k=1;c>=k;k++)j=o*k,l=1-j,d=e-(e=(j*j*g+3*l*(j*h+l*i))*j),n=p*c+k-1,b[n]=(b[n]||0)+d*d},o=function(a,b){b=b>>0||6;var c,d,e,f,g=[],h=[],i=0,j=0,k=b-1,l=[],m=[];for(c in a)n(a[c],g,b);for(e=g.length,d=0;e>d;d++)i+=Math.sqrt(g[d]),f=d%b,m[f]=i,f===k&&(j+=i,f=d/b>>0,l[f]=m,h[f]=j,i=0,m=[]);return{length:j,lengths:h,segments:l}},p=_gsScope._gsDefine.plugin({propName:"bezier",priority:-1,version:"1.3.7",API:2,global:!0,init:function(a,b,c){this._target=a,b instanceof Array&&(b={values:b}),this._func={},this._mod={},this._props=[],this._timeRes=null==b.timeResolution?6:parseInt(b.timeResolution,10);var d,e,f,g,h,i=b.values||[],j={},k=i[0],n=b.autoRotate||c.vars.orientToBezier;this._autoRotate=n?n instanceof Array?n:[["x","y","rotation",n===!0?0:Number(n)||0]]:null;for(d in k)this._props.push(d);for(f=this._props.length;--f>-1;)d=this._props[f],this._overwriteProps.push(d),e=this._func[d]="function"==typeof a[d],j[d]=e?a[d.indexOf("set")||"function"!=typeof a["get"+d.substr(3)]?d:"get"+d.substr(3)]():parseFloat(a[d]),h||j[d]!==i[0][d]&&(h=j);if(this._beziers="cubic"!==b.type&&"quadratic"!==b.type&&"soft"!==b.type?l(i,isNaN(b.curviness)?1:b.curviness,!1,"thruBasic"===b.type,b.correlate,h):m(i,b.type,j),this._segCount=this._beziers[d].length,this._timeRes){var p=o(this._beziers,this._timeRes);this._length=p.length,this._lengths=p.lengths,this._segments=p.segments,this._l1=this._li=this._s1=this._si=0,this._l2=this._lengths[0],this._curSeg=this._segments[0],this._s2=this._curSeg[0],this._prec=1/this._curSeg.length}if(n=this._autoRotate)for(this._initialRotations=[],n[0]instanceof Array||(this._autoRotate=n=[n]),f=n.length;--f>-1;){for(g=0;3>g;g++)d=n[f][g],this._func[d]="function"==typeof a[d]?a[d.indexOf("set")||"function"!=typeof a["get"+d.substr(3)]?d:"get"+d.substr(3)]:!1;d=n[f][2],this._initialRotations[f]=(this._func[d]?this._func[d].call(this._target):this._target[d])||0,this._overwriteProps.push(d)}return this._startRatio=c.vars.runBackwards?1:0,!0},set:function(b){var c,d,e,f,g,h,i,j,k,l,m=this._segCount,n=this._func,o=this._target,p=b!==this._startRatio;if(this._timeRes){if(k=this._lengths,l=this._curSeg,b*=this._length,e=this._li,b>this._l2&&m-1>e){for(j=m-1;j>e&&(this._l2=k[++e])<=b;);this._l1=k[e-1],this._li=e,this._curSeg=l=this._segments[e],this._s2=l[this._s1=this._si=0]}else if(b<this._l1&&e>0){for(;e>0&&(this._l1=k[--e])>=b;);0===e&&b<this._l1?this._l1=0:e++,this._l2=k[e],this._li=e,this._curSeg=l=this._segments[e],this._s1=l[(this._si=l.length-1)-1]||0,this._s2=l[this._si]}if(c=e,b-=this._l1,e=this._si,b>this._s2&&e<l.length-1){for(j=l.length-1;j>e&&(this._s2=l[++e])<=b;);this._s1=l[e-1],this._si=e}else if(b<this._s1&&e>0){for(;e>0&&(this._s1=l[--e])>=b;);0===e&&b<this._s1?this._s1=0:e++,this._s2=l[e],this._si=e}h=(e+(b-this._s1)/(this._s2-this._s1))*this._prec||0}else c=0>b?0:b>=1?m-1:m*b>>0,h=(b-c*(1/m))*m;for(d=1-h,e=this._props.length;--e>-1;)f=this._props[e],g=this._beziers[f][c],i=(h*h*g.da+3*d*(h*g.ca+d*g.ba))*h+g.a,this._mod[f]&&(i=this._mod[f](i,o)),n[f]?o[f](i):o[f]=i;if(this._autoRotate){var q,r,s,t,u,v,w,x=this._autoRotate;for(e=x.length;--e>-1;)f=x[e][2],v=x[e][3]||0,w=x[e][4]===!0?1:a,g=this._beziers[x[e][0]],q=this._beziers[x[e][1]],g&&q&&(g=g[c],q=q[c],r=g.a+(g.b-g.a)*h,t=g.b+(g.c-g.b)*h,r+=(t-r)*h,t+=(g.c+(g.d-g.c)*h-t)*h,s=q.a+(q.b-q.a)*h,u=q.b+(q.c-q.b)*h,s+=(u-s)*h,u+=(q.c+(q.d-q.c)*h-u)*h,i=p?Math.atan2(u-s,t-r)*w+v:this._initialRotations[e],this._mod[f]&&(i=this._mod[f](i,o)),n[f]?o[f](i):o[f]=i)}}}),q=p.prototype;p.bezierThrough=l,p.cubicToQuadratic=i,p._autoCSS=!0,p.quadraticToCubic=function(a,b,c){return new g(a,(2*b+a)/3,(2*b+c)/3,c)},p._cssRegister=function(){var a=f.CSSPlugin;if(a){var b=a._internals,c=b._parseToProxy,d=b._setPluginRatio,e=b.CSSPropTween;b._registerComplexSpecialProp("bezier",{parser:function(a,b,f,g,h,i){b instanceof Array&&(b={values:b}),i=new p;var j,k,l,m=b.values,n=m.length-1,o=[],q={};if(0>n)return h;for(j=0;n>=j;j++)l=c(a,m[j],g,h,i,n!==j),o[j]=l.end;for(k in b)q[k]=b[k];return q.values=o,h=new e(a,"bezier",0,0,l.pt,2),h.data=l,h.plugin=i,h.setRatio=d,0===q.autoRotate&&(q.autoRotate=!0),!q.autoRotate||q.autoRotate instanceof Array||(j=q.autoRotate===!0?0:Number(q.autoRotate),q.autoRotate=null!=l.end.left?[["left","top","rotation",j,!1]]:null!=l.end.x?[["x","y","rotation",j,!1]]:!1),q.autoRotate&&(g._transform||g._enableTransforms(!1),l.autoRotate=g._target._gsTransform,l.proxy.rotation=l.autoRotate.rotation||0,g._overwriteProps.push("rotation")),i._onInitTween(l.proxy,q,g._tween),h}})}},q._mod=function(a){for(var b,c=this._overwriteProps,d=c.length;--d>-1;)b=a[c[d]],b&&"function"==typeof b&&(this._mod[c[d]]=b)},q._kill=function(a){var b,c,d=this._props;for(b in this._beziers)if(b in a)for(delete this._beziers[b],delete this._func[b],c=d.length;--c>-1;)d[c]===b&&d.splice(c,1);if(d=this._autoRotate)for(c=d.length;--c>-1;)a[d[c][2]]&&d.splice(c,1);return this._super._kill.call(this,a)}}(),_gsScope._gsDefine("plugins.CSSPlugin",["plugins.TweenPlugin","TweenLite"],function(a,b){var c,d,e,f,g=function(){a.call(this,"css"),this._overwriteProps.length=0,this.setRatio=g.prototype.setRatio},h=_gsScope._gsDefine.globals,i={},j=g.prototype=new a("css");j.constructor=g,g.version="1.19.1",g.API=2,g.defaultTransformPerspective=0,g.defaultSkewType="compensated",g.defaultSmoothOrigin=!0,j="px",g.suffixMap={top:j,right:j,bottom:j,left:j,width:j,height:j,fontSize:j,padding:j,margin:j,perspective:j,lineHeight:""};var k,l,m,n,o,p,q,r,s=/(?:\\-|\\.|\\b)(\\d|\\.|e\\-)+/g,t=/(?:\\d|\\-\\d|\\.\\d|\\-\\.\\d|\\+=\\d|\\-=\\d|\\+=.\\d|\\-=\\.\\d)+/g,u=/(?:\\+=|\\-=|\\-|\\b)[\\d\\-\\.]+[a-zA-Z0-9]*(?:%|\\b)/gi,v=/(?![+-]?\\d*\\.?\\d+|[+-]|e[+-]\\d+)[^0-9]/g,w=/(?:\\d|\\-|\\+|=|#|\\.)*/g,x=/opacity *= *([^)]*)/i,y=/opacity:([^;]*)/i,z=/alpha\\(opacity *=.+?\\)/i,A=/^(rgb|hsl)/,B=/([A-Z])/g,C=/-([a-z])/gi,D=/(^(?:url\\(\\"|url\\())|(?:(\\"\\))$|\\)$)/gi,E=function(a,b){return b.toUpperCase()},F=/(?:Left|Right|Width)/i,G=/(M11|M12|M21|M22)=[\\d\\-\\.e]+/gi,H=/progid\\:DXImageTransform\\.Microsoft\\.Matrix\\(.+?\\)/i,I=/,(?=[^\\)]*(?:\\(|$))/gi,J=/[\\s,\\(]/i,K=Math.PI/180,L=180/Math.PI,M={},N={style:{}},O=_gsScope.document||{createElement:function(){return N}},P=function(a,b){return O.createElementNS?O.createElementNS(b||"http://www.w3.org/1999/xhtml",a):O.createElement(a)},Q=P("div"),R=P("img"),S=g._internals={_specialProps:i},T=(_gsScope.navigator||{}).userAgent||"",U=function(){var a=T.indexOf("Android"),b=P("a");return m=-1!==T.indexOf("Safari")&&-1===T.indexOf("Chrome")&&(-1===a||parseFloat(T.substr(a+8,2))>3),o=m&&parseFloat(T.substr(T.indexOf("Version/")+8,2))<6,n=-1!==T.indexOf("Firefox"),(/MSIE ([0-9]{1,}[\\.0-9]{0,})/.exec(T)||/Trident\\/.*rv:([0-9]{1,}[\\.0-9]{0,})/.exec(T))&&(p=parseFloat(RegExp.$1)),b?(b.style.cssText="top:1px;opacity:.55;",/^0.55/.test(b.style.opacity)):!1}(),V=function(a){return x.test("string"==typeof a?a:(a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?parseFloat(RegExp.$1)/100:1},W=function(a){_gsScope.console&&console.log(a)},X="",Y="",Z=function(a,b){b=b||Q;var c,d,e=b.style;if(void 0!==e[a])return a;for(a=a.charAt(0).toUpperCase()+a.substr(1),c=["O","Moz","ms","Ms","Webkit"],d=5;--d>-1&&void 0===e[c[d]+a];);return d>=0?(Y=3===d?"ms":c[d],X="-"+Y.toLowerCase()+"-",Y+a):null},$=O.defaultView?O.defaultView.getComputedStyle:function(){},_=g.getStyle=function(a,b,c,d,e){var f;return U||"opacity"!==b?(!d&&a.style[b]?f=a.style[b]:(c=c||$(a))?f=c[b]||c.getPropertyValue(b)||c.getPropertyValue(b.replace(B,"-$1").toLowerCase()):a.currentStyle&&(f=a.currentStyle[b]),null==e||f&&"none"!==f&&"auto"!==f&&"auto auto"!==f?f:e):V(a)},aa=S.convertToPixels=function(a,c,d,e,f){if("px"===e||!e)return d;if("auto"===e||!d)return 0;var h,i,j,k=F.test(c),l=a,m=Q.style,n=0>d,o=1===d;if(n&&(d=-d),o&&(d*=100),"%"===e&&-1!==c.indexOf("border"))h=d/100*(k?a.clientWidth:a.clientHeight);else{if(m.cssText="border:0 solid red;position:"+_(a,"position")+";line-height:0;","%"!==e&&l.appendChild&&"v"!==e.charAt(0)&&"rem"!==e)m[k?"borderLeftWidth":"borderTopWidth"]=d+e;else{if(l=a.parentNode||O.body,i=l._gsCache,j=b.ticker.frame,i&&k&&i.time===j)return i.width*d/100;m[k?"width":"height"]=d+e}l.appendChild(Q),h=parseFloat(Q[k?"offsetWidth":"offsetHeight"]),l.removeChild(Q),k&&"%"===e&&g.cacheWidths!==!1&&(i=l._gsCache=l._gsCache||{},i.time=j,i.width=h/d*100),0!==h||f||(h=aa(a,c,d,e,!0))}return o&&(h/=100),n?-h:h},ba=S.calculateOffset=function(a,b,c){if("absolute"!==_(a,"position",c))return 0;var d="left"===b?"Left":"Top",e=_(a,"margin"+d,c);return a["offset"+d]-(aa(a,b,parseFloat(e),e.replace(w,""))||0)},ca=function(a,b){var c,d,e,f={};if(b=b||$(a,null))if(c=b.length)for(;--c>-1;)e=b[c],(-1===e.indexOf("-transform")||Da===e)&&(f[e.replace(C,E)]=b.getPropertyValue(e));else for(c in b)(-1===c.indexOf("Transform")||Ca===c)&&(f[c]=b[c]);else if(b=a.currentStyle||a.style)for(c in b)"string"==typeof c&&void 0===f[c]&&(f[c.replace(C,E)]=b[c]);return U||(f.opacity=V(a)),d=Ra(a,b,!1),f.rotation=d.rotation,f.skewX=d.skewX,f.scaleX=d.scaleX,f.scaleY=d.scaleY,f.x=d.x,f.y=d.y,Fa&&(f.z=d.z,f.rotationX=d.rotationX,f.rotationY=d.rotationY,f.scaleZ=d.scaleZ),f.filters&&delete f.filters,f},da=function(a,b,c,d,e){var f,g,h,i={},j=a.style;for(g in c)"cssText"!==g&&"length"!==g&&isNaN(g)&&(b[g]!==(f=c[g])||e&&e[g])&&-1===g.indexOf("Origin")&&("number"==typeof f||"string"==typeof f)&&(i[g]="auto"!==f||"left"!==g&&"top"!==g?""!==f&&"auto"!==f&&"none"!==f||"string"!=typeof b[g]||""===b[g].replace(v,"")?f:0:ba(a,g),void 0!==j[g]&&(h=new sa(j,g,j[g],h)));if(d)for(g in d)"className"!==g&&(i[g]=d[g]);return{difs:i,firstMPT:h}},ea={width:["Left","Right"],height:["Top","Bottom"]},fa=["marginLeft","marginRight","marginTop","marginBottom"],ga=function(a,b,c){if("svg"===(a.nodeName+"").toLowerCase())return(c||$(a))[b]||0;if(a.getCTM&&Oa(a))return a.getBBox()[b]||0;var d=parseFloat("width"===b?a.offsetWidth:a.offsetHeight),e=ea[b],f=e.length;for(c=c||$(a,null);--f>-1;)d-=parseFloat(_(a,"padding"+e[f],c,!0))||0,d-=parseFloat(_(a,"border"+e[f]+"Width",c,!0))||0;return d},ha=function(a,b){if("contain"===a||"auto"===a||"auto auto"===a)return a+" ";(null==a||""===a)&&(a="0 0");var c,d=a.split(" "),e=-1!==a.indexOf("left")?"0%":-1!==a.indexOf("right")?"100%":d[0],f=-1!==a.indexOf("top")?"0%":-1!==a.indexOf("bottom")?"100%":d[1];if(d.length>3&&!b){for(d=a.split(", ").join(",").split(","),a=[],c=0;c<d.length;c++)a.push(ha(d[c]));return a.join(",")}return null==f?f="center"===e?"50%":"0":"center"===f&&(f="50%"),("center"===e||isNaN(parseFloat(e))&&-1===(e+"").indexOf("="))&&(e="50%"),a=e+" "+f+(d.length>2?" "+d[2]:""),b&&(b.oxp=-1!==e.indexOf("%"),b.oyp=-1!==f.indexOf("%"),b.oxr="="===e.charAt(1),b.oyr="="===f.charAt(1),b.ox=parseFloat(e.replace(v,"")),b.oy=parseFloat(f.replace(v,"")),b.v=a),b||a},ia=function(a,b){return"function"==typeof a&&(a=a(r,q)),"string"==typeof a&&"="===a.charAt(1)?parseInt(a.charAt(0)+"1",10)*parseFloat(a.substr(2)):parseFloat(a)-parseFloat(b)||0},ja=function(a,b){return"function"==typeof a&&(a=a(r,q)),null==a?b:"string"==typeof a&&"="===a.charAt(1)?parseInt(a.charAt(0)+"1",10)*parseFloat(a.substr(2))+b:parseFloat(a)||0},ka=function(a,b,c,d){var e,f,g,h,i,j=1e-6;return"function"==typeof a&&(a=a(r,q)),null==a?h=b:"number"==typeof a?h=a:(e=360,f=a.split("_"),i="="===a.charAt(1),g=(i?parseInt(a.charAt(0)+"1",10)*parseFloat(f[0].substr(2)):parseFloat(f[0]))*(-1===a.indexOf("rad")?1:L)-(i?0:b),f.length&&(d&&(d[c]=b+g),-1!==a.indexOf("short")&&(g%=e,g!==g%(e/2)&&(g=0>g?g+e:g-e)),-1!==a.indexOf("_cw")&&0>g?g=(g+9999999999*e)%e-(g/e|0)*e:-1!==a.indexOf("ccw")&&g>0&&(g=(g-9999999999*e)%e-(g/e|0)*e)),h=b+g),j>h&&h>-j&&(h=0),h},la={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},ma=function(a,b,c){return a=0>a?a+1:a>1?a-1:a,255*(1>6*a?b+(c-b)*a*6:.5>a?c:2>3*a?b+(c-b)*(2/3-a)*6:b)+.5|0},na=g.parseColor=function(a,b){var c,d,e,f,g,h,i,j,k,l,m;if(a)if("number"==typeof a)c=[a>>16,a>>8&255,255&a];else{if(","===a.charAt(a.length-1)&&(a=a.substr(0,a.length-1)),la[a])c=la[a];else if("#"===a.charAt(0))4===a.length&&(d=a.charAt(1),e=a.charAt(2),f=a.charAt(3),a="#"+d+d+e+e+f+f),a=parseInt(a.substr(1),16),c=[a>>16,a>>8&255,255&a];else if("hsl"===a.substr(0,3))if(c=m=a.match(s),b){if(-1!==a.indexOf("="))return a.match(t)}else g=Number(c[0])%360/360,h=Number(c[1])/100,i=Number(c[2])/100,e=.5>=i?i*(h+1):i+h-i*h,d=2*i-e,c.length>3&&(c[3]=Number(a[3])),c[0]=ma(g+1/3,d,e),c[1]=ma(g,d,e),c[2]=ma(g-1/3,d,e);else c=a.match(s)||la.transparent;c[0]=Number(c[0]),c[1]=Number(c[1]),c[2]=Number(c[2]),c.length>3&&(c[3]=Number(c[3]))}else c=la.black;return b&&!m&&(d=c[0]/255,e=c[1]/255,f=c[2]/255,j=Math.max(d,e,f),k=Math.min(d,e,f),i=(j+k)/2,j===k?g=h=0:(l=j-k,h=i>.5?l/(2-j-k):l/(j+k),g=j===d?(e-f)/l+(f>e?6:0):j===e?(f-d)/l+2:(d-e)/l+4,g*=60),c[0]=g+.5|0,c[1]=100*h+.5|0,c[2]=100*i+.5|0),c},oa=function(a,b){var c,d,e,f=a.match(pa)||[],g=0,h=f.length?"":a;for(c=0;c<f.length;c++)d=f[c],e=a.substr(g,a.indexOf(d,g)-g),g+=e.length+d.length,d=na(d,b),3===d.length&&d.push(1),h+=e+(b?"hsla("+d[0]+","+d[1]+"%,"+d[2]+"%,"+d[3]:"rgba("+d.join(","))+")";return h+a.substr(g)},pa="(?:\\\\b(?:(?:rgb|rgba|hsl|hsla)\\\\(.+?\\\\))|\\\\B#(?:[0-9a-f]{3}){1,2}\\\\b";for(j in la)pa+="|"+j+"\\\\b";pa=new RegExp(pa+")","gi"),g.colorStringFilter=function(a){var b,c=a[0]+a[1];pa.test(c)&&(b=-1!==c.indexOf("hsl(")||-1!==c.indexOf("hsla("),a[0]=oa(a[0],b),a[1]=oa(a[1],b)),pa.lastIndex=0},b.defaultStringFilter||(b.defaultStringFilter=g.colorStringFilter);var qa=function(a,b,c,d){if(null==a)return function(a){return a};var e,f=b?(a.match(pa)||[""])[0]:"",g=a.split(f).join("").match(u)||[],h=a.substr(0,a.indexOf(g[0])),i=")"===a.charAt(a.length-1)?")":"",j=-1!==a.indexOf(" ")?" ":",",k=g.length,l=k>0?g[0].replace(s,""):"";return k?e=b?function(a){var b,m,n,o;if("number"==typeof a)a+=l;else if(d&&I.test(a)){for(o=a.replace(I,"|").split("|"),n=0;n<o.length;n++)o[n]=e(o[n]);return o.join(",")}if(b=(a.match(pa)||[f])[0],m=a.split(b).join("").match(u)||[],n=m.length,k>n--)for(;++n<k;)m[n]=c?m[(n-1)/2|0]:g[n];return h+m.join(j)+j+b+i+(-1!==a.indexOf("inset")?" inset":"")}:function(a){var b,f,m;if("number"==typeof a)a+=l;else if(d&&I.test(a)){for(f=a.replace(I,"|").split("|"),m=0;m<f.length;m++)f[m]=e(f[m]);return f.join(",")}if(b=a.match(u)||[],m=b.length,k>m--)for(;++m<k;)b[m]=c?b[(m-1)/2|0]:g[m];return h+b.join(j)+i}:function(a){return a}},ra=function(a){return a=a.split(","),function(b,c,d,e,f,g,h){var i,j=(c+"").split(" ");for(h={},i=0;4>i;i++)h[a[i]]=j[i]=j[i]||j[(i-1)/2>>0];return e.parse(b,h,f,g)}},sa=(S._setPluginRatio=function(a){this.plugin.setRatio(a);for(var b,c,d,e,f,g=this.data,h=g.proxy,i=g.firstMPT,j=1e-6;i;)b=h[i.v],i.r?b=Math.round(b):j>b&&b>-j&&(b=0),i.t[i.p]=b,i=i._next;if(g.autoRotate&&(g.autoRotate.rotation=g.mod?g.mod(h.rotation,this.t):h.rotation),1===a||0===a)for(i=g.firstMPT,f=1===a?"e":"b";i;){if(c=i.t,c.type){if(1===c.type){for(e=c.xs0+c.s+c.xs1,d=1;d<c.l;d++)e+=c["xn"+d]+c["xs"+(d+1)];c[f]=e}}else c[f]=c.s+c.xs0;i=i._next}},function(a,b,c,d,e){this.t=a,this.p=b,this.v=c,this.r=e,d&&(d._prev=this,this._next=d)}),ta=(S._parseToProxy=function(a,b,c,d,e,f){var g,h,i,j,k,l=d,m={},n={},o=c._transform,p=M;for(c._transform=null,M=b,d=k=c.parse(a,b,d,e),M=p,f&&(c._transform=o,l&&(l._prev=null,l._prev&&(l._prev._next=null)));d&&d!==l;){if(d.type<=1&&(h=d.p,n[h]=d.s+d.c,m[h]=d.s,f||(j=new sa(d,"s",h,j,d.r),d.c=0),1===d.type))for(g=d.l;--g>0;)i="xn"+g,h=d.p+"_"+i,n[h]=d.data[i],m[h]=d[i],f||(j=new sa(d,i,h,j,d.rxp[i]));d=d._next}return{proxy:m,end:n,firstMPT:j,pt:k}},S.CSSPropTween=function(a,b,d,e,g,h,i,j,k,l,m){this.t=a,this.p=b,this.s=d,this.c=e,this.n=i||b,a instanceof ta||f.push(this.n),this.r=j,this.type=h||0,k&&(this.pr=k,c=!0),this.b=void 0===l?d:l,this.e=void 0===m?d+e:m,g&&(this._next=g,g._prev=this)}),ua=function(a,b,c,d,e,f){var g=new ta(a,b,c,d-c,e,-1,f);return g.b=c,g.e=g.xs0=d,g},va=g.parseComplex=function(a,b,c,d,e,f,h,i,j,l){c=c||f||"","function"==typeof d&&(d=d(r,q)),h=new ta(a,b,0,0,h,l?2:1,null,!1,i,c,d),d+="",e&&pa.test(d+c)&&(d=[c,d],g.colorStringFilter(d),c=d[0],d=d[1]);var m,n,o,p,u,v,w,x,y,z,A,B,C,D=c.split(", ").join(",").split(" "),E=d.split(", ").join(",").split(" "),F=D.length,G=k!==!1;for((-1!==d.indexOf(",")||-1!==c.indexOf(","))&&(D=D.join(" ").replace(I,", ").split(" "),E=E.join(" ").replace(I,", ").split(" "),F=D.length),F!==E.length&&(D=(f||"").split(" "),F=D.length),h.plugin=j,h.setRatio=l,pa.lastIndex=0,m=0;F>m;m++)if(p=D[m],u=E[m],x=parseFloat(p),x||0===x)h.appendXtra("",x,ia(u,x),u.replace(t,""),G&&-1!==u.indexOf("px"),!0);else if(e&&pa.test(p))B=u.indexOf(")")+1,B=")"+(B?u.substr(B):""),C=-1!==u.indexOf("hsl")&&U,p=na(p,C),u=na(u,C),y=p.length+u.length>6,y&&!U&&0===u[3]?(h["xs"+h.l]+=h.l?" transparent":"transparent",h.e=h.e.split(E[m]).join("transparent")):(U||(y=!1),C?h.appendXtra(y?"hsla(":"hsl(",p[0],ia(u[0],p[0]),",",!1,!0).appendXtra("",p[1],ia(u[1],p[1]),"%,",!1).appendXtra("",p[2],ia(u[2],p[2]),y?"%,":"%"+B,!1):h.appendXtra(y?"rgba(":"rgb(",p[0],u[0]-p[0],",",!0,!0).appendXtra("",p[1],u[1]-p[1],",",!0).appendXtra("",p[2],u[2]-p[2],y?",":B,!0),y&&(p=p.length<4?1:p[3],h.appendXtra("",p,(u.length<4?1:u[3])-p,B,!1))),pa.lastIndex=0;else if(v=p.match(s)){if(w=u.match(t),!w||w.length!==v.length)return h;for(o=0,n=0;n<v.length;n++)A=v[n],z=p.indexOf(A,o),h.appendXtra(p.substr(o,z-o),Number(A),ia(w[n],A),"",G&&"px"===p.substr(z+A.length,2),0===n),o=z+A.length;h["xs"+h.l]+=p.substr(o)}else h["xs"+h.l]+=h.l||h["xs"+h.l]?" "+u:u;if(-1!==d.indexOf("=")&&h.data){for(B=h.xs0+h.data.s,m=1;m<h.l;m++)B+=h["xs"+m]+h.data["xn"+m];h.e=B+h["xs"+m]}return h.l||(h.type=-1,h.xs0=h.e),h.xfirst||h},wa=9;for(j=ta.prototype,j.l=j.pr=0;--wa>0;)j["xn"+wa]=0,j["xs"+wa]="";j.xs0="",j._next=j._prev=j.xfirst=j.data=j.plugin=j.setRatio=j.rxp=null,j.appendXtra=function(a,b,c,d,e,f){var g=this,h=g.l;return g["xs"+h]+=f&&(h||g["xs"+h])?" "+a:a||"",c||0===h||g.plugin?(g.l++,g.type=g.setRatio?2:1,g["xs"+g.l]=d||"",h>0?(g.data["xn"+h]=b+c,g.rxp["xn"+h]=e,g["xn"+h]=b,g.plugin||(g.xfirst=new ta(g,"xn"+h,b,c,g.xfirst||g,0,g.n,e,g.pr),g.xfirst.xs0=0),g):(g.data={s:b+c},g.rxp={},g.s=b,g.c=c,g.r=e,g)):(g["xs"+h]+=b+(d||""),g)};var xa=function(a,b){b=b||{},this.p=b.prefix?Z(a)||a:a,i[a]=i[this.p]=this,this.format=b.formatter||qa(b.defaultValue,b.color,b.collapsible,b.multi),b.parser&&(this.parse=b.parser),this.clrs=b.color,this.multi=b.multi,this.keyword=b.keyword,this.dflt=b.defaultValue,this.pr=b.priority||0},ya=S._registerComplexSpecialProp=function(a,b,c){"object"!=typeof b&&(b={parser:c});var d,e,f=a.split(","),g=b.defaultValue;for(c=c||[g],d=0;d<f.length;d++)b.prefix=0===d&&b.prefix,b.defaultValue=c[d]||g,e=new xa(f[d],b)},za=S._registerPluginProp=function(a){if(!i[a]){var b=a.charAt(0).toUpperCase()+a.substr(1)+"Plugin";ya(a,{parser:function(a,c,d,e,f,g,j){var k=h.com.greensock.plugins[b];return k?(k._cssRegister(),i[d].parse(a,c,d,e,f,g,j)):(W("Error: "+b+" js file not loaded."),f)}})}};j=xa.prototype,j.parseComplex=function(a,b,c,d,e,f){var g,h,i,j,k,l,m=this.keyword;if(this.multi&&(I.test(c)||I.test(b)?(h=b.replace(I,"|").split("|"),i=c.replace(I,"|").split("|")):m&&(h=[b],i=[c])),i){for(j=i.length>h.length?i.length:h.length,g=0;j>g;g++)b=h[g]=h[g]||this.dflt,c=i[g]=i[g]||this.dflt,m&&(k=b.indexOf(m),l=c.indexOf(m),k!==l&&(-1===l?h[g]=h[g].split(m).join(""):-1===k&&(h[g]+=" "+m)));b=h.join(", "),c=i.join(", ")}return va(a,this.p,b,c,this.clrs,this.dflt,d,this.pr,e,f)},j.parse=function(a,b,c,d,f,g,h){return this.parseComplex(a.style,this.format(_(a,this.p,e,!1,this.dflt)),this.format(b),f,g)},g.registerSpecialProp=function(a,b,c){ya(a,{parser:function(a,d,e,f,g,h,i){var j=new ta(a,e,0,0,g,2,e,!1,c);return j.plugin=h,j.setRatio=b(a,d,f._tween,e),j},priority:c})},g.useSVGTransformAttr=!0;var Aa,Ba="scaleX,scaleY,scaleZ,x,y,z,skewX,skewY,rotation,rotationX,rotationY,perspective,xPercent,yPercent".split(","),Ca=Z("transform"),Da=X+"transform",Ea=Z("transformOrigin"),Fa=null!==Z("perspective"),Ga=S.Transform=function(){this.perspective=parseFloat(g.defaultTransformPerspective)||0,this.force3D=g.defaultForce3D!==!1&&Fa?g.defaultForce3D||"auto":!1},Ha=_gsScope.SVGElement,Ia=function(a,b,c){var d,e=O.createElementNS("http://www.w3.org/2000/svg",a),f=/([a-z])([A-Z])/g;for(d in c)e.setAttributeNS(null,d.replace(f,"$1-$2").toLowerCase(),c[d]);return b.appendChild(e),e},Ja=O.documentElement||{},Ka=function(){var a,b,c,d=p||/Android/i.test(T)&&!_gsScope.chrome;return O.createElementNS&&!d&&(a=Ia("svg",Ja),b=Ia("rect",a,{width:100,height:50,x:100}),c=b.getBoundingClientRect().width,b.style[Ea]="50% 50%",b.style[Ca]="scaleX(0.5)",d=c===b.getBoundingClientRect().width&&!(n&&Fa),Ja.removeChild(a)),d}(),La=function(a,b,c,d,e,f){var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v=a._gsTransform,w=Qa(a,!0);v&&(t=v.xOrigin,u=v.yOrigin),(!d||(h=d.split(" ")).length<2)&&(n=a.getBBox(),0===n.x&&0===n.y&&n.width+n.height===0&&(n={x:parseFloat(a.hasAttribute("x")?a.getAttribute("x"):a.hasAttribute("cx")?a.getAttribute("cx"):0)||0,y:parseFloat(a.hasAttribute("y")?a.getAttribute("y"):a.hasAttribute("cy")?a.getAttribute("cy"):0)||0,width:0,height:0}),b=ha(b).split(" "),h=[(-1!==b[0].indexOf("%")?parseFloat(b[0])/100*n.width:parseFloat(b[0]))+n.x,(-1!==b[1].indexOf("%")?parseFloat(b[1])/100*n.height:parseFloat(b[1]))+n.y]),c.xOrigin=k=parseFloat(h[0]),c.yOrigin=l=parseFloat(h[1]),d&&w!==Pa&&(m=w[0],n=w[1],o=w[2],p=w[3],q=w[4],r=w[5],s=m*p-n*o,s&&(i=k*(p/s)+l*(-o/s)+(o*r-p*q)/s,j=k*(-n/s)+l*(m/s)-(m*r-n*q)/s,k=c.xOrigin=h[0]=i,l=c.yOrigin=h[1]=j)),v&&(f&&(c.xOffset=v.xOffset,c.yOffset=v.yOffset,v=c),e||e!==!1&&g.defaultSmoothOrigin!==!1?(i=k-t,j=l-u,v.xOffset+=i*w[0]+j*w[2]-i,v.yOffset+=i*w[1]+j*w[3]-j):v.xOffset=v.yOffset=0),f||a.setAttribute("data-svg-origin",h.join(" "))},Ma=function(a){var b,c=P("svg",this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),d=this.parentNode,e=this.nextSibling,f=this.style.cssText;if(Ja.appendChild(c),c.appendChild(this),this.style.display="block",a)try{b=this.getBBox(),this._originalGetBBox=this.getBBox,this.getBBox=Ma}catch(g){}else this._originalGetBBox&&(b=this._originalGetBBox());return e?d.insertBefore(this,e):d.appendChild(this),Ja.removeChild(c),this.style.cssText=f,b},Na=function(a){try{return a.getBBox()}catch(b){return Ma.call(a,!0)}},Oa=function(a){return!(!(Ha&&a.getCTM&&Na(a))||a.parentNode&&!a.ownerSVGElement)},Pa=[1,0,0,1,0,0],Qa=function(a,b){var c,d,e,f,g,h,i=a._gsTransform||new Ga,j=1e5,k=a.style;if(Ca?d=_(a,Da,null,!0):a.currentStyle&&(d=a.currentStyle.filter.match(G),d=d&&4===d.length?[d[0].substr(4),Number(d[2].substr(4)),Number(d[1].substr(4)),d[3].substr(4),i.x||0,i.y||0].join(","):""),c=!d||"none"===d||"matrix(1, 0, 0, 1, 0, 0)"===d,c&&Ca&&((h="none"===$(a).display)||!a.parentNode)&&(h&&(f=k.display,k.display="block"),a.parentNode||(g=1,Ja.appendChild(a)),d=_(a,Da,null,!0),c=!d||"none"===d||"matrix(1, 0, 0, 1, 0, 0)"===d,f?k.display=f:h&&Va(k,"display"),g&&Ja.removeChild(a)),(i.svg||a.getCTM&&Oa(a))&&(c&&-1!==(k[Ca]+"").indexOf("matrix")&&(d=k[Ca],c=0),e=a.getAttribute("transform"),c&&e&&(-1!==e.indexOf("matrix")?(d=e,c=0):-1!==e.indexOf("translate")&&(d="matrix(1,0,0,1,"+e.match(/(?:\\-|\\b)[\\d\\-\\.e]+\\b/gi).join(",")+")",c=0))),c)return Pa;for(e=(d||"").match(s)||[],wa=e.length;--wa>-1;)f=Number(e[wa]),e[wa]=(g=f-(f|=0))?(g*j+(0>g?-.5:.5)|0)/j+f:f;return b&&e.length>6?[e[0],e[1],e[4],e[5],e[12],e[13]]:e},Ra=S.getTransform=function(a,c,d,e){if(a._gsTransform&&d&&!e)return a._gsTransform;var f,h,i,j,k,l,m=d?a._gsTransform||new Ga:new Ga,n=m.scaleX<0,o=2e-5,p=1e5,q=Fa?parseFloat(_(a,Ea,c,!1,"0 0 0").split(" ")[2])||m.zOrigin||0:0,r=parseFloat(g.defaultTransformPerspective)||0;if(m.svg=!(!a.getCTM||!Oa(a)),m.svg&&(La(a,_(a,Ea,c,!1,"50% 50%")+"",m,a.getAttribute("data-svg-origin")),Aa=g.useSVGTransformAttr||Ka),f=Qa(a),f!==Pa){if(16===f.length){var s,t,u,v,w,x=f[0],y=f[1],z=f[2],A=f[3],B=f[4],C=f[5],D=f[6],E=f[7],F=f[8],G=f[9],H=f[10],I=f[12],J=f[13],K=f[14],M=f[11],N=Math.atan2(D,H);m.zOrigin&&(K=-m.zOrigin,I=F*K-f[12],J=G*K-f[13],K=H*K+m.zOrigin-f[14]),m.rotationX=N*L,N&&(v=Math.cos(-N),w=Math.sin(-N),s=B*v+F*w,t=C*v+G*w,u=D*v+H*w,F=B*-w+F*v,G=C*-w+G*v,H=D*-w+H*v,M=E*-w+M*v,B=s,C=t,D=u),N=Math.atan2(-z,H),m.rotationY=N*L,N&&(v=Math.cos(-N),w=Math.sin(-N),s=x*v-F*w,t=y*v-G*w,u=z*v-H*w,G=y*w+G*v,H=z*w+H*v,M=A*w+M*v,x=s,y=t,z=u),N=Math.atan2(y,x),m.rotation=N*L,N&&(v=Math.cos(-N),w=Math.sin(-N),x=x*v+B*w,t=y*v+C*w,C=y*-w+C*v,D=z*-w+D*v,y=t),m.rotationX&&Math.abs(m.rotationX)+Math.abs(m.rotation)>359.9&&(m.rotationX=m.rotation=0,m.rotationY=180-m.rotationY),m.scaleX=(Math.sqrt(x*x+y*y)*p+.5|0)/p,m.scaleY=(Math.sqrt(C*C+G*G)*p+.5|0)/p,m.scaleZ=(Math.sqrt(D*D+H*H)*p+.5|0)/p,m.rotationX||m.rotationY?m.skewX=0:(m.skewX=B||C?Math.atan2(B,C)*L+m.rotation:m.skewX||0,Math.abs(m.skewX)>90&&Math.abs(m.skewX)<270&&(n?(m.scaleX*=-1,m.skewX+=m.rotation<=0?180:-180,m.rotation+=m.rotation<=0?180:-180):(m.scaleY*=-1,m.skewX+=m.skewX<=0?180:-180))),m.perspective=M?1/(0>M?-M:M):0,m.x=I,m.y=J,m.z=K,m.svg&&(m.x-=m.xOrigin-(m.xOrigin*x-m.yOrigin*B),m.y-=m.yOrigin-(m.yOrigin*y-m.xOrigin*C))}else if(!Fa||e||!f.length||m.x!==f[4]||m.y!==f[5]||!m.rotationX&&!m.rotationY){var O=f.length>=6,P=O?f[0]:1,Q=f[1]||0,R=f[2]||0,S=O?f[3]:1;m.x=f[4]||0,m.y=f[5]||0,i=Math.sqrt(P*P+Q*Q),j=Math.sqrt(S*S+R*R),k=P||Q?Math.atan2(Q,P)*L:m.rotation||0,l=R||S?Math.atan2(R,S)*L+k:m.skewX||0,Math.abs(l)>90&&Math.abs(l)<270&&(n?(i*=-1,l+=0>=k?180:-180,k+=0>=k?180:-180):(j*=-1,l+=0>=l?180:-180)),m.scaleX=i,m.scaleY=j,m.rotation=k,m.skewX=l,Fa&&(m.rotationX=m.rotationY=m.z=0,m.perspective=r,m.scaleZ=1),m.svg&&(m.x-=m.xOrigin-(m.xOrigin*P+m.yOrigin*R),m.y-=m.yOrigin-(m.xOrigin*Q+m.yOrigin*S))}m.zOrigin=q;for(h in m)m[h]<o&&m[h]>-o&&(m[h]=0)}return d&&(a._gsTransform=m,m.svg&&(Aa&&a.style[Ca]?b.delayedCall(.001,function(){Va(a.style,Ca)}):!Aa&&a.getAttribute("transform")&&b.delayedCall(.001,function(){a.removeAttribute("transform")}))),m},Sa=function(a){var b,c,d=this.data,e=-d.rotation*K,f=e+d.skewX*K,g=1e5,h=(Math.cos(e)*d.scaleX*g|0)/g,i=(Math.sin(e)*d.scaleX*g|0)/g,j=(Math.sin(f)*-d.scaleY*g|0)/g,k=(Math.cos(f)*d.scaleY*g|0)/g,l=this.t.style,m=this.t.currentStyle;if(m){c=i,i=-j,j=-c,b=m.filter,l.filter="";var n,o,q=this.t.offsetWidth,r=this.t.offsetHeight,s="absolute"!==m.position,t="progid:DXImageTransform.Microsoft.Matrix(M11="+h+", M12="+i+", M21="+j+", M22="+k,u=d.x+q*d.xPercent/100,v=d.y+r*d.yPercent/100;if(null!=d.ox&&(n=(d.oxp?q*d.ox*.01:d.ox)-q/2,o=(d.oyp?r*d.oy*.01:d.oy)-r/2,u+=n-(n*h+o*i),v+=o-(n*j+o*k)),s?(n=q/2,o=r/2,t+=", Dx="+(n-(n*h+o*i)+u)+", Dy="+(o-(n*j+o*k)+v)+")"):t+=", sizingMethod=\'auto expand\')",-1!==b.indexOf("DXImageTransform.Microsoft.Matrix(")?l.filter=b.replace(H,t):l.filter=t+" "+b,(0===a||1===a)&&1===h&&0===i&&0===j&&1===k&&(s&&-1===t.indexOf("Dx=0, Dy=0")||x.test(b)&&100!==parseFloat(RegExp.$1)||-1===b.indexOf(b.indexOf("Alpha"))&&l.removeAttribute("filter")),!s){var y,z,A,B=8>p?1:-1;for(n=d.ieOffsetX||0,o=d.ieOffsetY||0,d.ieOffsetX=Math.round((q-((0>h?-h:h)*q+(0>i?-i:i)*r))/2+u),d.ieOffsetY=Math.round((r-((0>k?-k:k)*r+(0>j?-j:j)*q))/2+v),wa=0;4>wa;wa++)z=fa[wa],y=m[z],c=-1!==y.indexOf("px")?parseFloat(y):aa(this.t,z,parseFloat(y),y.replace(w,""))||0,A=c!==d[z]?2>wa?-d.ieOffsetX:-d.ieOffsetY:2>wa?n-d.ieOffsetX:o-d.ieOffsetY,l[z]=(d[z]=Math.round(c-A*(0===wa||2===wa?1:B)))+"px"}}},Ta=S.set3DTransformRatio=S.setTransformRatio=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,o,p,q,r,s,t,u,v,w,x,y,z=this.data,A=this.t.style,B=z.rotation,C=z.rotationX,D=z.rotationY,E=z.scaleX,F=z.scaleY,G=z.scaleZ,H=z.x,I=z.y,J=z.z,L=z.svg,M=z.perspective,N=z.force3D,O=z.skewY,P=z.skewX;if(O&&(P+=O,B+=O),((1===a||0===a)&&"auto"===N&&(this.tween._totalTime===this.tween._totalDuration||!this.tween._totalTime)||!N)&&!J&&!M&&!D&&!C&&1===G||Aa&&L||!Fa)return void(B||P||L?(B*=K,x=P*K,y=1e5,c=Math.cos(B)*E,f=Math.sin(B)*E,d=Math.sin(B-x)*-F,g=Math.cos(B-x)*F,x&&"simple"===z.skewType&&(b=Math.tan(x-O*K),b=Math.sqrt(1+b*b),d*=b,g*=b,O&&(b=Math.tan(O*K),b=Math.sqrt(1+b*b),c*=b,f*=b)),L&&(H+=z.xOrigin-(z.xOrigin*c+z.yOrigin*d)+z.xOffset,I+=z.yOrigin-(z.xOrigin*f+z.yOrigin*g)+z.yOffset,Aa&&(z.xPercent||z.yPercent)&&(q=this.t.getBBox(),H+=.01*z.xPercent*q.width,I+=.01*z.yPercent*q.height),q=1e-6,q>H&&H>-q&&(H=0),q>I&&I>-q&&(I=0)),u=(c*y|0)/y+","+(f*y|0)/y+","+(d*y|0)/y+","+(g*y|0)/y+","+H+","+I+")",L&&Aa?this.t.setAttribute("transform","matrix("+u):A[Ca]=(z.xPercent||z.yPercent?"translate("+z.xPercent+"%,"+z.yPercent+"%) matrix(":"matrix(")+u):A[Ca]=(z.xPercent||z.yPercent?"translate("+z.xPercent+"%,"+z.yPercent+"%) matrix(":"matrix(")+E+",0,0,"+F+","+H+","+I+")");if(n&&(q=1e-4,q>E&&E>-q&&(E=G=2e-5),q>F&&F>-q&&(F=G=2e-5),!M||z.z||z.rotationX||z.rotationY||(M=0)),B||P)B*=K,r=c=Math.cos(B),s=f=Math.sin(B),P&&(B-=P*K,r=Math.cos(B),s=Math.sin(B),"simple"===z.skewType&&(b=Math.tan((P-O)*K),b=Math.sqrt(1+b*b),r*=b,s*=b,z.skewY&&(b=Math.tan(O*K),b=Math.sqrt(1+b*b),c*=b,f*=b))),d=-s,g=r;else{if(!(D||C||1!==G||M||L))return void(A[Ca]=(z.xPercent||z.yPercent?"translate("+z.xPercent+"%,"+z.yPercent+"%) translate3d(":"translate3d(")+H+"px,"+I+"px,"+J+"px)"+(1!==E||1!==F?" scale("+E+","+F+")":""));c=g=1,d=f=0}k=1,e=h=i=j=l=m=0,o=M?-1/M:0,p=z.zOrigin,q=1e-6,v=",",w="0",B=D*K,B&&(r=Math.cos(B),s=Math.sin(B),i=-s,l=o*-s,e=c*s,h=f*s,k=r,o*=r,c*=r,f*=r),B=C*K,B&&(r=Math.cos(B),s=Math.sin(B),b=d*r+e*s,t=g*r+h*s,j=k*s,m=o*s,e=d*-s+e*r,h=g*-s+h*r,k*=r,o*=r,d=b,g=t),1!==G&&(e*=G,h*=G,k*=G,o*=G),1!==F&&(d*=F,g*=F,j*=F,m*=F),1!==E&&(c*=E,f*=E,i*=E,l*=E),(p||L)&&(p&&(H+=e*-p,I+=h*-p,J+=k*-p+p),L&&(H+=z.xOrigin-(z.xOrigin*c+z.yOrigin*d)+z.xOffset,I+=z.yOrigin-(z.xOrigin*f+z.yOrigin*g)+z.yOffset),q>H&&H>-q&&(H=w),q>I&&I>-q&&(I=w),q>J&&J>-q&&(J=0)),u=z.xPercent||z.yPercent?"translate("+z.xPercent+"%,"+z.yPercent+"%) matrix3d(":"matrix3d(",u+=(q>c&&c>-q?w:c)+v+(q>f&&f>-q?w:f)+v+(q>i&&i>-q?w:i),u+=v+(q>l&&l>-q?w:l)+v+(q>d&&d>-q?w:d)+v+(q>g&&g>-q?w:g),C||D||1!==G?(u+=v+(q>j&&j>-q?w:j)+v+(q>m&&m>-q?w:m)+v+(q>e&&e>-q?w:e),u+=v+(q>h&&h>-q?w:h)+v+(q>k&&k>-q?w:k)+v+(q>o&&o>-q?w:o)+v):u+=",0,0,0,0,1,0,",u+=H+v+I+v+J+v+(M?1+-J/M:1)+")",A[Ca]=u};j=Ga.prototype,j.x=j.y=j.z=j.skewX=j.skewY=j.rotation=j.rotationX=j.rotationY=j.zOrigin=j.xPercent=j.yPercent=j.xOffset=j.yOffset=0,j.scaleX=j.scaleY=j.scaleZ=1,ya("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,svgOrigin,transformPerspective,directionalRotation,parseTransform,force3D,skewType,xPercent,yPercent,smoothOrigin",{parser:function(a,b,c,d,f,h,i){if(d._lastParsedTransform===i)return f;d._lastParsedTransform=i;var j,k=i.scale&&"function"==typeof i.scale?i.scale:0;"function"==typeof i[c]&&(j=i[c],i[c]=b),k&&(i.scale=k(r,a));var l,m,n,o,p,s,t,u,v,w=a._gsTransform,x=a.style,y=1e-6,z=Ba.length,A=i,B={},C="transformOrigin",D=Ra(a,e,!0,A.parseTransform),E=A.transform&&("function"==typeof A.transform?A.transform(r,q):A.transform);if(d._transform=D,E&&"string"==typeof E&&Ca)m=Q.style,m[Ca]=E,m.display="block",m.position="absolute",O.body.appendChild(Q),l=Ra(Q,null,!1),D.svg&&(s=D.xOrigin,t=D.yOrigin,l.x-=D.xOffset,l.y-=D.yOffset,(A.transformOrigin||A.svgOrigin)&&(E={},La(a,ha(A.transformOrigin),E,A.svgOrigin,A.smoothOrigin,!0),s=E.xOrigin,t=E.yOrigin,l.x-=E.xOffset-D.xOffset,l.y-=E.yOffset-D.yOffset),(s||t)&&(u=Qa(Q,!0),l.x-=s-(s*u[0]+t*u[2]),l.y-=t-(s*u[1]+t*u[3]))),O.body.removeChild(Q),l.perspective||(l.perspective=D.perspective),null!=A.xPercent&&(l.xPercent=ja(A.xPercent,D.xPercent)),null!=A.yPercent&&(l.yPercent=ja(A.yPercent,D.yPercent));else if("object"==typeof A){if(l={scaleX:ja(null!=A.scaleX?A.scaleX:A.scale,D.scaleX),scaleY:ja(null!=A.scaleY?A.scaleY:A.scale,D.scaleY),scaleZ:ja(A.scaleZ,D.scaleZ),x:ja(A.x,D.x),y:ja(A.y,D.y),z:ja(A.z,D.z),xPercent:ja(A.xPercent,D.xPercent),\nyPercent:ja(A.yPercent,D.yPercent),perspective:ja(A.transformPerspective,D.perspective)},p=A.directionalRotation,null!=p)if("object"==typeof p)for(m in p)A[m]=p[m];else A.rotation=p;"string"==typeof A.x&&-1!==A.x.indexOf("%")&&(l.x=0,l.xPercent=ja(A.x,D.xPercent)),"string"==typeof A.y&&-1!==A.y.indexOf("%")&&(l.y=0,l.yPercent=ja(A.y,D.yPercent)),l.rotation=ka("rotation"in A?A.rotation:"shortRotation"in A?A.shortRotation+"_short":"rotationZ"in A?A.rotationZ:D.rotation,D.rotation,"rotation",B),Fa&&(l.rotationX=ka("rotationX"in A?A.rotationX:"shortRotationX"in A?A.shortRotationX+"_short":D.rotationX||0,D.rotationX,"rotationX",B),l.rotationY=ka("rotationY"in A?A.rotationY:"shortRotationY"in A?A.shortRotationY+"_short":D.rotationY||0,D.rotationY,"rotationY",B)),l.skewX=ka(A.skewX,D.skewX),l.skewY=ka(A.skewY,D.skewY)}for(Fa&&null!=A.force3D&&(D.force3D=A.force3D,o=!0),D.skewType=A.skewType||D.skewType||g.defaultSkewType,n=D.force3D||D.z||D.rotationX||D.rotationY||l.z||l.rotationX||l.rotationY||l.perspective,n||null==A.scale||(l.scaleZ=1);--z>-1;)v=Ba[z],E=l[v]-D[v],(E>y||-y>E||null!=A[v]||null!=M[v])&&(o=!0,f=new ta(D,v,D[v],E,f),v in B&&(f.e=B[v]),f.xs0=0,f.plugin=h,d._overwriteProps.push(f.n));return E=A.transformOrigin,D.svg&&(E||A.svgOrigin)&&(s=D.xOffset,t=D.yOffset,La(a,ha(E),l,A.svgOrigin,A.smoothOrigin),f=ua(D,"xOrigin",(w?D:l).xOrigin,l.xOrigin,f,C),f=ua(D,"yOrigin",(w?D:l).yOrigin,l.yOrigin,f,C),(s!==D.xOffset||t!==D.yOffset)&&(f=ua(D,"xOffset",w?s:D.xOffset,D.xOffset,f,C),f=ua(D,"yOffset",w?t:D.yOffset,D.yOffset,f,C)),E="0px 0px"),(E||Fa&&n&&D.zOrigin)&&(Ca?(o=!0,v=Ea,E=(E||_(a,v,e,!1,"50% 50%"))+"",f=new ta(x,v,0,0,f,-1,C),f.b=x[v],f.plugin=h,Fa?(m=D.zOrigin,E=E.split(" "),D.zOrigin=(E.length>2&&(0===m||"0px"!==E[2])?parseFloat(E[2]):m)||0,f.xs0=f.e=E[0]+" "+(E[1]||"50%")+" 0px",f=new ta(D,"zOrigin",0,0,f,-1,f.n),f.b=m,f.xs0=f.e=D.zOrigin):f.xs0=f.e=E):ha(E+"",D)),o&&(d._transformType=D.svg&&Aa||!n&&3!==this._transformType?2:3),j&&(i[c]=j),k&&(i.scale=k),f},prefix:!0}),ya("boxShadow",{defaultValue:"0px 0px 0px 0px #999",prefix:!0,color:!0,multi:!0,keyword:"inset"}),ya("borderRadius",{defaultValue:"0px",parser:function(a,b,c,f,g,h){b=this.format(b);var i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],z=a.style;for(q=parseFloat(a.offsetWidth),r=parseFloat(a.offsetHeight),i=b.split(" "),j=0;j<y.length;j++)this.p.indexOf("border")&&(y[j]=Z(y[j])),m=l=_(a,y[j],e,!1,"0px"),-1!==m.indexOf(" ")&&(l=m.split(" "),m=l[0],l=l[1]),n=k=i[j],o=parseFloat(m),t=m.substr((o+"").length),u="="===n.charAt(1),u?(p=parseInt(n.charAt(0)+"1",10),n=n.substr(2),p*=parseFloat(n),s=n.substr((p+"").length-(0>p?1:0))||""):(p=parseFloat(n),s=n.substr((p+"").length)),""===s&&(s=d[c]||t),s!==t&&(v=aa(a,"borderLeft",o,t),w=aa(a,"borderTop",o,t),"%"===s?(m=v/q*100+"%",l=w/r*100+"%"):"em"===s?(x=aa(a,"borderLeft",1,"em"),m=v/x+"em",l=w/x+"em"):(m=v+"px",l=w+"px"),u&&(n=parseFloat(m)+p+s,k=parseFloat(l)+p+s)),g=va(z,y[j],m+" "+l,n+" "+k,!1,"0px",g);return g},prefix:!0,formatter:qa("0px 0px 0px 0px",!1,!0)}),ya("borderBottomLeftRadius,borderBottomRightRadius,borderTopLeftRadius,borderTopRightRadius",{defaultValue:"0px",parser:function(a,b,c,d,f,g){return va(a.style,c,this.format(_(a,c,e,!1,"0px 0px")),this.format(b),!1,"0px",f)},prefix:!0,formatter:qa("0px 0px",!1,!0)}),ya("backgroundPosition",{defaultValue:"0 0",parser:function(a,b,c,d,f,g){var h,i,j,k,l,m,n="background-position",o=e||$(a,null),q=this.format((o?p?o.getPropertyValue(n+"-x")+" "+o.getPropertyValue(n+"-y"):o.getPropertyValue(n):a.currentStyle.backgroundPositionX+" "+a.currentStyle.backgroundPositionY)||"0 0"),r=this.format(b);if(-1!==q.indexOf("%")!=(-1!==r.indexOf("%"))&&r.split(",").length<2&&(m=_(a,"backgroundImage").replace(D,""),m&&"none"!==m)){for(h=q.split(" "),i=r.split(" "),R.setAttribute("src",m),j=2;--j>-1;)q=h[j],k=-1!==q.indexOf("%"),k!==(-1!==i[j].indexOf("%"))&&(l=0===j?a.offsetWidth-R.width:a.offsetHeight-R.height,h[j]=k?parseFloat(q)/100*l+"px":parseFloat(q)/l*100+"%");q=h.join(" ")}return this.parseComplex(a.style,q,r,f,g)},formatter:ha}),ya("backgroundSize",{defaultValue:"0 0",formatter:function(a){return a+="",ha(-1===a.indexOf(" ")?a+" "+a:a)}}),ya("perspective",{defaultValue:"0px",prefix:!0}),ya("perspectiveOrigin",{defaultValue:"50% 50%",prefix:!0}),ya("transformStyle",{prefix:!0}),ya("backfaceVisibility",{prefix:!0}),ya("userSelect",{prefix:!0}),ya("margin",{parser:ra("marginTop,marginRight,marginBottom,marginLeft")}),ya("padding",{parser:ra("paddingTop,paddingRight,paddingBottom,paddingLeft")}),ya("clip",{defaultValue:"rect(0px,0px,0px,0px)",parser:function(a,b,c,d,f,g){var h,i,j;return 9>p?(i=a.currentStyle,j=8>p?" ":",",h="rect("+i.clipTop+j+i.clipRight+j+i.clipBottom+j+i.clipLeft+")",b=this.format(b).split(",").join(j)):(h=this.format(_(a,this.p,e,!1,this.dflt)),b=this.format(b)),this.parseComplex(a.style,h,b,f,g)}}),ya("textShadow",{defaultValue:"0px 0px 0px #999",color:!0,multi:!0}),ya("autoRound,strictUnits",{parser:function(a,b,c,d,e){return e}}),ya("border",{defaultValue:"0px solid #000",parser:function(a,b,c,d,f,g){var h=_(a,"borderTopWidth",e,!1,"0px"),i=this.format(b).split(" "),j=i[0].replace(w,"");return"px"!==j&&(h=parseFloat(h)/aa(a,"borderTopWidth",1,j)+j),this.parseComplex(a.style,this.format(h+" "+_(a,"borderTopStyle",e,!1,"solid")+" "+_(a,"borderTopColor",e,!1,"#000")),i.join(" "),f,g)},color:!0,formatter:function(a){var b=a.split(" ");return b[0]+" "+(b[1]||"solid")+" "+(a.match(pa)||["#000"])[0]}}),ya("borderWidth",{parser:ra("borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth")}),ya("float,cssFloat,styleFloat",{parser:function(a,b,c,d,e,f){var g=a.style,h="cssFloat"in g?"cssFloat":"styleFloat";return new ta(g,h,0,0,e,-1,c,!1,0,g[h],b)}});var Ua=function(a){var b,c=this.t,d=c.filter||_(this.data,"filter")||"",e=this.s+this.c*a|0;100===e&&(-1===d.indexOf("atrix(")&&-1===d.indexOf("radient(")&&-1===d.indexOf("oader(")?(c.removeAttribute("filter"),b=!_(this.data,"filter")):(c.filter=d.replace(z,""),b=!0)),b||(this.xn1&&(c.filter=d=d||"alpha(opacity="+e+")"),-1===d.indexOf("pacity")?0===e&&this.xn1||(c.filter=d+" alpha(opacity="+e+")"):c.filter=d.replace(x,"opacity="+e))};ya("opacity,alpha,autoAlpha",{defaultValue:"1",parser:function(a,b,c,d,f,g){var h=parseFloat(_(a,"opacity",e,!1,"1")),i=a.style,j="autoAlpha"===c;return"string"==typeof b&&"="===b.charAt(1)&&(b=("-"===b.charAt(0)?-1:1)*parseFloat(b.substr(2))+h),j&&1===h&&"hidden"===_(a,"visibility",e)&&0!==b&&(h=0),U?f=new ta(i,"opacity",h,b-h,f):(f=new ta(i,"opacity",100*h,100*(b-h),f),f.xn1=j?1:0,i.zoom=1,f.type=2,f.b="alpha(opacity="+f.s+")",f.e="alpha(opacity="+(f.s+f.c)+")",f.data=a,f.plugin=g,f.setRatio=Ua),j&&(f=new ta(i,"visibility",0,0,f,-1,null,!1,0,0!==h?"inherit":"hidden",0===b?"hidden":"inherit"),f.xs0="inherit",d._overwriteProps.push(f.n),d._overwriteProps.push(c)),f}});var Va=function(a,b){b&&(a.removeProperty?(("ms"===b.substr(0,2)||"webkit"===b.substr(0,6))&&(b="-"+b),a.removeProperty(b.replace(B,"-$1").toLowerCase())):a.removeAttribute(b))},Wa=function(a){if(this.t._gsClassPT=this,1===a||0===a){this.t.setAttribute("class",0===a?this.b:this.e);for(var b=this.data,c=this.t.style;b;)b.v?c[b.p]=b.v:Va(c,b.p),b=b._next;1===a&&this.t._gsClassPT===this&&(this.t._gsClassPT=null)}else this.t.getAttribute("class")!==this.e&&this.t.setAttribute("class",this.e)};ya("className",{parser:function(a,b,d,f,g,h,i){var j,k,l,m,n,o=a.getAttribute("class")||"",p=a.style.cssText;if(g=f._classNamePT=new ta(a,d,0,0,g,2),g.setRatio=Wa,g.pr=-11,c=!0,g.b=o,k=ca(a,e),l=a._gsClassPT){for(m={},n=l.data;n;)m[n.p]=1,n=n._next;l.setRatio(1)}return a._gsClassPT=g,g.e="="!==b.charAt(1)?b:o.replace(new RegExp("(?:\\\\s|^)"+b.substr(2)+"(?![\\\\w-])"),"")+("+"===b.charAt(0)?" "+b.substr(2):""),a.setAttribute("class",g.e),j=da(a,k,ca(a),i,m),a.setAttribute("class",o),g.data=j.firstMPT,a.style.cssText=p,g=g.xfirst=f.parse(a,j.difs,g,h)}});var Xa=function(a){if((1===a||0===a)&&this.data._totalTime===this.data._totalDuration&&"isFromStart"!==this.data.data){var b,c,d,e,f,g=this.t.style,h=i.transform.parse;if("all"===this.e)g.cssText="",e=!0;else for(b=this.e.split(" ").join("").split(","),d=b.length;--d>-1;)c=b[d],i[c]&&(i[c].parse===h?e=!0:c="transformOrigin"===c?Ea:i[c].p),Va(g,c);e&&(Va(g,Ca),f=this.t._gsTransform,f&&(f.svg&&(this.t.removeAttribute("data-svg-origin"),this.t.removeAttribute("transform")),delete this.t._gsTransform))}};for(ya("clearProps",{parser:function(a,b,d,e,f){return f=new ta(a,d,0,0,f,2),f.setRatio=Xa,f.e=b,f.pr=-10,f.data=e._tween,c=!0,f}}),j="bezier,throwProps,physicsProps,physics2D".split(","),wa=j.length;wa--;)za(j[wa]);j=g.prototype,j._firstPT=j._lastParsedTransform=j._transform=null,j._onInitTween=function(a,b,h,j){if(!a.nodeType)return!1;this._target=q=a,this._tween=h,this._vars=b,r=j,k=b.autoRound,c=!1,d=b.suffixMap||g.suffixMap,e=$(a,""),f=this._overwriteProps;var n,p,s,t,u,v,w,x,z,A=a.style;if(l&&""===A.zIndex&&(n=_(a,"zIndex",e),("auto"===n||""===n)&&this._addLazySet(A,"zIndex",0)),"string"==typeof b&&(t=A.cssText,n=ca(a,e),A.cssText=t+";"+b,n=da(a,n,ca(a)).difs,!U&&y.test(b)&&(n.opacity=parseFloat(RegExp.$1)),b=n,A.cssText=t),b.className?this._firstPT=p=i.className.parse(a,b.className,"className",this,null,null,b):this._firstPT=p=this.parse(a,b,null),this._transformType){for(z=3===this._transformType,Ca?m&&(l=!0,""===A.zIndex&&(w=_(a,"zIndex",e),("auto"===w||""===w)&&this._addLazySet(A,"zIndex",0)),o&&this._addLazySet(A,"WebkitBackfaceVisibility",this._vars.WebkitBackfaceVisibility||(z?"visible":"hidden"))):A.zoom=1,s=p;s&&s._next;)s=s._next;x=new ta(a,"transform",0,0,null,2),this._linkCSSP(x,null,s),x.setRatio=Ca?Ta:Sa,x.data=this._transform||Ra(a,e,!0),x.tween=h,x.pr=-1,f.pop()}if(c){for(;p;){for(v=p._next,s=t;s&&s.pr>p.pr;)s=s._next;(p._prev=s?s._prev:u)?p._prev._next=p:t=p,(p._next=s)?s._prev=p:u=p,p=v}this._firstPT=t}return!0},j.parse=function(a,b,c,f){var g,h,j,l,m,n,o,p,s,t,u=a.style;for(g in b)n=b[g],"function"==typeof n&&(n=n(r,q)),h=i[g],h?c=h.parse(a,n,g,this,c,f,b):(m=_(a,g,e)+"",s="string"==typeof n,"color"===g||"fill"===g||"stroke"===g||-1!==g.indexOf("Color")||s&&A.test(n)?(s||(n=na(n),n=(n.length>3?"rgba(":"rgb(")+n.join(",")+")"),c=va(u,g,m,n,!0,"transparent",c,0,f)):s&&J.test(n)?c=va(u,g,m,n,!0,null,c,0,f):(j=parseFloat(m),o=j||0===j?m.substr((j+"").length):"",(""===m||"auto"===m)&&("width"===g||"height"===g?(j=ga(a,g,e),o="px"):"left"===g||"top"===g?(j=ba(a,g,e),o="px"):(j="opacity"!==g?0:1,o="")),t=s&&"="===n.charAt(1),t?(l=parseInt(n.charAt(0)+"1",10),n=n.substr(2),l*=parseFloat(n),p=n.replace(w,"")):(l=parseFloat(n),p=s?n.replace(w,""):""),""===p&&(p=g in d?d[g]:o),n=l||0===l?(t?l+j:l)+p:b[g],o!==p&&""!==p&&(l||0===l)&&j&&(j=aa(a,g,j,o),"%"===p?(j/=aa(a,g,100,"%")/100,b.strictUnits!==!0&&(m=j+"%")):"em"===p||"rem"===p||"vw"===p||"vh"===p?j/=aa(a,g,1,p):"px"!==p&&(l=aa(a,g,l,p),p="px"),t&&(l||0===l)&&(n=l+j+p)),t&&(l+=j),!j&&0!==j||!l&&0!==l?void 0!==u[g]&&(n||n+""!="NaN"&&null!=n)?(c=new ta(u,g,l||j||0,0,c,-1,g,!1,0,m,n),c.xs0="none"!==n||"display"!==g&&-1===g.indexOf("Style")?n:m):W("invalid "+g+" tween value: "+b[g]):(c=new ta(u,g,j,l-j,c,0,g,k!==!1&&("px"===p||"zIndex"===g),0,m,n),c.xs0=p))),f&&c&&!c.plugin&&(c.plugin=f);return c},j.setRatio=function(a){var b,c,d,e=this._firstPT,f=1e-6;if(1!==a||this._tween._time!==this._tween._duration&&0!==this._tween._time)if(a||this._tween._time!==this._tween._duration&&0!==this._tween._time||this._tween._rawPrevTime===-1e-6)for(;e;){if(b=e.c*a+e.s,e.r?b=Math.round(b):f>b&&b>-f&&(b=0),e.type)if(1===e.type)if(d=e.l,2===d)e.t[e.p]=e.xs0+b+e.xs1+e.xn1+e.xs2;else if(3===d)e.t[e.p]=e.xs0+b+e.xs1+e.xn1+e.xs2+e.xn2+e.xs3;else if(4===d)e.t[e.p]=e.xs0+b+e.xs1+e.xn1+e.xs2+e.xn2+e.xs3+e.xn3+e.xs4;else if(5===d)e.t[e.p]=e.xs0+b+e.xs1+e.xn1+e.xs2+e.xn2+e.xs3+e.xn3+e.xs4+e.xn4+e.xs5;else{for(c=e.xs0+b+e.xs1,d=1;d<e.l;d++)c+=e["xn"+d]+e["xs"+(d+1)];e.t[e.p]=c}else-1===e.type?e.t[e.p]=e.xs0:e.setRatio&&e.setRatio(a);else e.t[e.p]=b+e.xs0;e=e._next}else for(;e;)2!==e.type?e.t[e.p]=e.b:e.setRatio(a),e=e._next;else for(;e;){if(2!==e.type)if(e.r&&-1!==e.type)if(b=Math.round(e.s+e.c),e.type){if(1===e.type){for(d=e.l,c=e.xs0+b+e.xs1,d=1;d<e.l;d++)c+=e["xn"+d]+e["xs"+(d+1)];e.t[e.p]=c}}else e.t[e.p]=b+e.xs0;else e.t[e.p]=e.e;else e.setRatio(a);e=e._next}},j._enableTransforms=function(a){this._transform=this._transform||Ra(this._target,e,!0),this._transformType=this._transform.svg&&Aa||!a&&3!==this._transformType?2:3};var Ya=function(a){this.t[this.p]=this.e,this.data._linkCSSP(this,this._next,null,!0)};j._addLazySet=function(a,b,c){var d=this._firstPT=new ta(a,b,0,0,this._firstPT,2);d.e=c,d.setRatio=Ya,d.data=this},j._linkCSSP=function(a,b,c,d){return a&&(b&&(b._prev=a),a._next&&(a._next._prev=a._prev),a._prev?a._prev._next=a._next:this._firstPT===a&&(this._firstPT=a._next,d=!0),c?c._next=a:d||null!==this._firstPT||(this._firstPT=a),a._next=b,a._prev=c),a},j._mod=function(a){for(var b=this._firstPT;b;)"function"==typeof a[b.p]&&a[b.p]===Math.round&&(b.r=1),b=b._next},j._kill=function(b){var c,d,e,f=b;if(b.autoAlpha||b.alpha){f={};for(d in b)f[d]=b[d];f.opacity=1,f.autoAlpha&&(f.visibility=1)}for(b.className&&(c=this._classNamePT)&&(e=c.xfirst,e&&e._prev?this._linkCSSP(e._prev,c._next,e._prev._prev):e===this._firstPT&&(this._firstPT=c._next),c._next&&this._linkCSSP(c._next,c._next._next,e._prev),this._classNamePT=null),c=this._firstPT;c;)c.plugin&&c.plugin!==d&&c.plugin._kill&&(c.plugin._kill(b),d=c.plugin),c=c._next;return a.prototype._kill.call(this,f)};var Za=function(a,b,c){var d,e,f,g;if(a.slice)for(e=a.length;--e>-1;)Za(a[e],b,c);else for(d=a.childNodes,e=d.length;--e>-1;)f=d[e],g=f.type,f.style&&(b.push(ca(f)),c&&c.push(f)),1!==g&&9!==g&&11!==g||!f.childNodes.length||Za(f,b,c)};return g.cascadeTo=function(a,c,d){var e,f,g,h,i=b.to(a,c,d),j=[i],k=[],l=[],m=[],n=b._internals.reservedProps;for(a=i._targets||i.target,Za(a,k,m),i.render(c,!0,!0),Za(a,l),i.render(0,!0,!0),i._enabled(!0),e=m.length;--e>-1;)if(f=da(m[e],k[e],l[e]),f.firstMPT){f=f.difs;for(g in d)n[g]&&(f[g]=d[g]);h={};for(g in f)h[g]=k[e][g];j.push(b.fromTo(m[e],c,h,f))}return j},a.activate([g]),g},!0),function(){var a=_gsScope._gsDefine.plugin({propName:"roundProps",version:"1.6.0",priority:-1,API:2,init:function(a,b,c){return this._tween=c,!0}}),b=function(a){for(;a;)a.f||a.blob||(a.m=Math.round),a=a._next},c=a.prototype;c._onInitAllProps=function(){for(var a,c,d,e=this._tween,f=e.vars.roundProps.join?e.vars.roundProps:e.vars.roundProps.split(","),g=f.length,h={},i=e._propLookup.roundProps;--g>-1;)h[f[g]]=Math.round;for(g=f.length;--g>-1;)for(a=f[g],c=e._firstPT;c;)d=c._next,c.pg?c.t._mod(h):c.n===a&&(2===c.f&&c.t?b(c.t._firstPT):(this._add(c.t,a,c.s,c.c),d&&(d._prev=c._prev),c._prev?c._prev._next=d:e._firstPT===c&&(e._firstPT=d),c._next=c._prev=null,e._propLookup[a]=i)),c=d;return!1},c._add=function(a,b,c,d){this._addTween(a,b,c,c+d,b,Math.round),this._overwriteProps.push(b)}}(),function(){_gsScope._gsDefine.plugin({propName:"attr",API:2,version:"0.6.0",init:function(a,b,c,d){var e,f;if("function"!=typeof a.setAttribute)return!1;for(e in b)f=b[e],"function"==typeof f&&(f=f(d,a)),this._addTween(a,"setAttribute",a.getAttribute(e)+"",f+"",e,!1,e),this._overwriteProps.push(e);return!0}})}(),_gsScope._gsDefine.plugin({propName:"directionalRotation",version:"0.3.0",API:2,init:function(a,b,c,d){"object"!=typeof b&&(b={rotation:b}),this.finals={};var e,f,g,h,i,j,k=b.useRadians===!0?2*Math.PI:360,l=1e-6;for(e in b)"useRadians"!==e&&(h=b[e],"function"==typeof h&&(h=h(d,a)),j=(h+"").split("_"),f=j[0],g=parseFloat("function"!=typeof a[e]?a[e]:a[e.indexOf("set")||"function"!=typeof a["get"+e.substr(3)]?e:"get"+e.substr(3)]()),h=this.finals[e]="string"==typeof f&&"="===f.charAt(1)?g+parseInt(f.charAt(0)+"1",10)*Number(f.substr(2)):Number(f)||0,i=h-g,j.length&&(f=j.join("_"),-1!==f.indexOf("short")&&(i%=k,i!==i%(k/2)&&(i=0>i?i+k:i-k)),-1!==f.indexOf("_cw")&&0>i?i=(i+9999999999*k)%k-(i/k|0)*k:-1!==f.indexOf("ccw")&&i>0&&(i=(i-9999999999*k)%k-(i/k|0)*k)),(i>l||-l>i)&&(this._addTween(a,e,g,g+i,e),this._overwriteProps.push(e)));return!0},set:function(a){var b;if(1!==a)this._super.setRatio.call(this,a);else for(b=this._firstPT;b;)b.f?b.t[b.p](this.finals[b.p]):b.t[b.p]=this.finals[b.p],b=b._next}})._autoCSS=!0,_gsScope._gsDefine("easing.Back",["easing.Ease"],function(a){var b,c,d,e=_gsScope.GreenSockGlobals||_gsScope,f=e.com.greensock,g=2*Math.PI,h=Math.PI/2,i=f._class,j=function(b,c){var d=i("easing."+b,function(){},!0),e=d.prototype=new a;return e.constructor=d,e.getRatio=c,d},k=a.register||function(){},l=function(a,b,c,d,e){var f=i("easing."+a,{easeOut:new b,easeIn:new c,easeInOut:new d},!0);return k(f,a),f},m=function(a,b,c){this.t=a,this.v=b,c&&(this.next=c,c.prev=this,this.c=c.v-b,this.gap=c.t-a)},n=function(b,c){var d=i("easing."+b,function(a){this._p1=a||0===a?a:1.70158,this._p2=1.525*this._p1},!0),e=d.prototype=new a;return e.constructor=d,e.getRatio=c,e.config=function(a){return new d(a)},d},o=l("Back",n("BackOut",function(a){return(a-=1)*a*((this._p1+1)*a+this._p1)+1}),n("BackIn",function(a){return a*a*((this._p1+1)*a-this._p1)}),n("BackInOut",function(a){return(a*=2)<1?.5*a*a*((this._p2+1)*a-this._p2):.5*((a-=2)*a*((this._p2+1)*a+this._p2)+2)})),p=i("easing.SlowMo",function(a,b,c){b=b||0===b?b:.7,null==a?a=.7:a>1&&(a=1),this._p=1!==a?b:0,this._p1=(1-a)/2,this._p2=a,this._p3=this._p1+this._p2,this._calcEnd=c===!0},!0),q=p.prototype=new a;return q.constructor=p,q.getRatio=function(a){var b=a+(.5-a)*this._p;return a<this._p1?this._calcEnd?1-(a=1-a/this._p1)*a:b-(a=1-a/this._p1)*a*a*a*b:a>this._p3?this._calcEnd?1-(a=(a-this._p3)/this._p1)*a:b+(a-b)*(a=(a-this._p3)/this._p1)*a*a*a:this._calcEnd?1:b},p.ease=new p(.7,.7),q.config=p.config=function(a,b,c){return new p(a,b,c)},b=i("easing.SteppedEase",function(a){a=a||1,this._p1=1/a,this._p2=a+1},!0),q=b.prototype=new a,q.constructor=b,q.getRatio=function(a){return 0>a?a=0:a>=1&&(a=.999999999),(this._p2*a>>0)*this._p1},q.config=b.config=function(a){return new b(a)},c=i("easing.RoughEase",function(b){b=b||{};for(var c,d,e,f,g,h,i=b.taper||"none",j=[],k=0,l=0|(b.points||20),n=l,o=b.randomize!==!1,p=b.clamp===!0,q=b.template instanceof a?b.template:null,r="number"==typeof b.strength?.4*b.strength:.4;--n>-1;)c=o?Math.random():1/l*n,d=q?q.getRatio(c):c,"none"===i?e=r:"out"===i?(f=1-c,e=f*f*r):"in"===i?e=c*c*r:.5>c?(f=2*c,e=f*f*.5*r):(f=2*(1-c),e=f*f*.5*r),o?d+=Math.random()*e-.5*e:n%2?d+=.5*e:d-=.5*e,p&&(d>1?d=1:0>d&&(d=0)),j[k++]={x:c,y:d};for(j.sort(function(a,b){return a.x-b.x}),h=new m(1,1,null),n=l;--n>-1;)g=j[n],h=new m(g.x,g.y,h);this._prev=new m(0,0,0!==h.t?h:h.next)},!0),q=c.prototype=new a,q.constructor=c,q.getRatio=function(a){var b=this._prev;if(a>b.t){for(;b.next&&a>=b.t;)b=b.next;b=b.prev}else for(;b.prev&&a<=b.t;)b=b.prev;return this._prev=b,b.v+(a-b.t)/b.gap*b.c},q.config=function(a){return new c(a)},c.ease=new c,l("Bounce",j("BounceOut",function(a){return 1/2.75>a?7.5625*a*a:2/2.75>a?7.5625*(a-=1.5/2.75)*a+.75:2.5/2.75>a?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375}),j("BounceIn",function(a){return(a=1-a)<1/2.75?1-7.5625*a*a:2/2.75>a?1-(7.5625*(a-=1.5/2.75)*a+.75):2.5/2.75>a?1-(7.5625*(a-=2.25/2.75)*a+.9375):1-(7.5625*(a-=2.625/2.75)*a+.984375)}),j("BounceInOut",function(a){var b=.5>a;return a=b?1-2*a:2*a-1,a=1/2.75>a?7.5625*a*a:2/2.75>a?7.5625*(a-=1.5/2.75)*a+.75:2.5/2.75>a?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375,b?.5*(1-a):.5*a+.5})),l("Circ",j("CircOut",function(a){return Math.sqrt(1-(a-=1)*a)}),j("CircIn",function(a){return-(Math.sqrt(1-a*a)-1)}),j("CircInOut",function(a){return(a*=2)<1?-.5*(Math.sqrt(1-a*a)-1):.5*(Math.sqrt(1-(a-=2)*a)+1)})),d=function(b,c,d){var e=i("easing."+b,function(a,b){this._p1=a>=1?a:1,this._p2=(b||d)/(1>a?a:1),this._p3=this._p2/g*(Math.asin(1/this._p1)||0),this._p2=g/this._p2},!0),f=e.prototype=new a;return f.constructor=e,f.getRatio=c,f.config=function(a,b){return new e(a,b)},e},l("Elastic",d("ElasticOut",function(a){return this._p1*Math.pow(2,-10*a)*Math.sin((a-this._p3)*this._p2)+1},.3),d("ElasticIn",function(a){return-(this._p1*Math.pow(2,10*(a-=1))*Math.sin((a-this._p3)*this._p2))},.3),d("ElasticInOut",function(a){return(a*=2)<1?-.5*(this._p1*Math.pow(2,10*(a-=1))*Math.sin((a-this._p3)*this._p2)):this._p1*Math.pow(2,-10*(a-=1))*Math.sin((a-this._p3)*this._p2)*.5+1},.45)),l("Expo",j("ExpoOut",function(a){return 1-Math.pow(2,-10*a)}),j("ExpoIn",function(a){return Math.pow(2,10*(a-1))-.001}),j("ExpoInOut",function(a){return(a*=2)<1?.5*Math.pow(2,10*(a-1)):.5*(2-Math.pow(2,-10*(a-1)))})),l("Sine",j("SineOut",function(a){return Math.sin(a*h)}),j("SineIn",function(a){return-Math.cos(a*h)+1}),j("SineInOut",function(a){return-.5*(Math.cos(Math.PI*a)-1)})),i("easing.EaseLookup",{find:function(b){return a.map[b]}},!0),k(e.SlowMo,"SlowMo","ease,"),k(c,"RoughEase","ease,"),k(b,"SteppedEase","ease,"),o},!0)}),_gsScope._gsDefine&&_gsScope._gsQueue.pop()(),function(a,b){"use strict";var c={},d=a.document,e=a.GreenSockGlobals=a.GreenSockGlobals||a;if(!e.TweenLite){var f,g,h,i,j,k=function(a){var b,c=a.split("."),d=e;for(b=0;b<c.length;b++)d[c[b]]=d=d[c[b]]||{};return d},l=k("com.greensock"),m=1e-10,n=function(a){var b,c=[],d=a.length;for(b=0;b!==d;c.push(a[b++]));return c},o=function(){},p=function(){var a=Object.prototype.toString,b=a.call([]);return function(c){return null!=c&&(c instanceof Array||"object"==typeof c&&!!c.push&&a.call(c)===b)}}(),q={},r=function(d,f,g,h){this.sc=q[d]?q[d].sc:[],q[d]=this,this.gsClass=null,this.func=g;var i=[];this.check=function(j){for(var l,m,n,o,p,s=f.length,t=s;--s>-1;)(l=q[f[s]]||new r(f[s],[])).gsClass?(i[s]=l.gsClass,t--):j&&l.sc.push(this);if(0===t&&g){if(m=("com.greensock."+d).split("."),n=m.pop(),o=k(m.join("."))[n]=this.gsClass=g.apply(g,i),h)if(e[n]=c[n]=o,p="undefined"!=typeof module&&module.exports,!p&&"function"=="function"&&__webpack_require__(76))!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = function(){return o}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));else if(p)if(d===b){module.exports=c[b]=o;for(s in c)o[s]=c[s]}else c[b]&&(c[b][n]=o);for(s=0;s<this.sc.length;s++)this.sc[s].check()}},this.check(!0)},s=a._gsDefine=function(a,b,c,d){return new r(a,b,c,d)},t=l._class=function(a,b,c){return b=b||function(){},s(a,[],function(){return b},c),b};s.globals=e;var u=[0,0,1,1],v=t("easing.Ease",function(a,b,c,d){this._func=a,this._type=c||0,this._power=d||0,this._params=b?u.concat(b):u},!0),w=v.map={},x=v.register=function(a,b,c,d){for(var e,f,g,h,i=b.split(","),j=i.length,k=(c||"easeIn,easeOut,easeInOut").split(",");--j>-1;)for(f=i[j],e=d?t("easing."+f,null,!0):l.easing[f]||{},g=k.length;--g>-1;)h=k[g],w[f+"."+h]=w[h+f]=e[h]=a.getRatio?a:a[h]||new a};for(h=v.prototype,h._calcEnd=!1,h.getRatio=function(a){if(this._func)return this._params[0]=a,this._func.apply(null,this._params);var b=this._type,c=this._power,d=1===b?1-a:2===b?a:.5>a?2*a:2*(1-a);return 1===c?d*=d:2===c?d*=d*d:3===c?d*=d*d*d:4===c&&(d*=d*d*d*d),1===b?1-d:2===b?d:.5>a?d/2:1-d/2},f=["Linear","Quad","Cubic","Quart","Quint,Strong"],g=f.length;--g>-1;)h=f[g]+",Power"+g,x(new v(null,null,1,g),h,"easeOut",!0),x(new v(null,null,2,g),h,"easeIn"+(0===g?",easeNone":"")),x(new v(null,null,3,g),h,"easeInOut");w.linear=l.easing.Linear.easeIn,w.swing=l.easing.Quad.easeInOut;var y=t("events.EventDispatcher",function(a){this._listeners={},this._eventTarget=a||this});h=y.prototype,h.addEventListener=function(a,b,c,d,e){e=e||0;var f,g,h=this._listeners[a],k=0;for(this!==i||j||i.wake(),null==h&&(this._listeners[a]=h=[]),g=h.length;--g>-1;)f=h[g],f.c===b&&f.s===c?h.splice(g,1):0===k&&f.pr<e&&(k=g+1);h.splice(k,0,{c:b,s:c,up:d,pr:e})},h.removeEventListener=function(a,b){var c,d=this._listeners[a];if(d)for(c=d.length;--c>-1;)if(d[c].c===b)return void d.splice(c,1)},h.dispatchEvent=function(a){var b,c,d,e=this._listeners[a];if(e)for(b=e.length,b>1&&(e=e.slice(0)),c=this._eventTarget;--b>-1;)d=e[b],d&&(d.up?d.c.call(d.s||c,{type:a,target:c}):d.c.call(d.s||c))};var z=a.requestAnimationFrame,A=a.cancelAnimationFrame,B=Date.now||function(){return(new Date).getTime()},C=B();for(f=["ms","moz","webkit","o"],g=f.length;--g>-1&&!z;)z=a[f[g]+"RequestAnimationFrame"],A=a[f[g]+"CancelAnimationFrame"]||a[f[g]+"CancelRequestAnimationFrame"];t("Ticker",function(a,b){var c,e,f,g,h,k=this,l=B(),n=b!==!1&&z?"auto":!1,p=500,q=33,r="tick",s=function(a){var b,d,i=B()-C;i>p&&(l+=i-q),C+=i,k.time=(C-l)/1e3,b=k.time-h,(!c||b>0||a===!0)&&(k.frame++,h+=b+(b>=g?.004:g-b),d=!0),a!==!0&&(f=e(s)),d&&k.dispatchEvent(r)};y.call(k),k.time=k.frame=0,k.tick=function(){s(!0)},k.lagSmoothing=function(a,b){p=a||1/m,q=Math.min(b,p,0)},k.sleep=function(){null!=f&&(n&&A?A(f):clearTimeout(f),e=o,f=null,k===i&&(j=!1))},k.wake=function(a){null!==f?k.sleep():a?l+=-C+(C=B()):k.frame>10&&(C=B()-p+5),e=0===c?o:n&&z?z:function(a){return setTimeout(a,1e3*(h-k.time)+1|0)},k===i&&(j=!0),s(2)},k.fps=function(a){return arguments.length?(c=a,g=1/(c||60),h=this.time+g,void k.wake()):c},k.useRAF=function(a){return arguments.length?(k.sleep(),n=a,void k.fps(c)):n},k.fps(a),setTimeout(function(){"auto"===n&&k.frame<5&&"hidden"!==d.visibilityState&&k.useRAF(!1)},1500)}),h=l.Ticker.prototype=new l.events.EventDispatcher,h.constructor=l.Ticker;var D=t("core.Animation",function(a,b){if(this.vars=b=b||{},this._duration=this._totalDuration=a||0,this._delay=Number(b.delay)||0,this._timeScale=1,this._active=b.immediateRender===!0,this.data=b.data,this._reversed=b.reversed===!0,W){j||i.wake();var c=this.vars.useFrames?V:W;c.add(this,c._time),this.vars.paused&&this.paused(!0)}});i=D.ticker=new l.Ticker,h=D.prototype,h._dirty=h._gc=h._initted=h._paused=!1,h._totalTime=h._time=0,h._rawPrevTime=-1,h._next=h._last=h._onUpdate=h._timeline=h.timeline=null,h._paused=!1;var E=function(){j&&B()-C>2e3&&i.wake(),setTimeout(E,2e3)};E(),h.play=function(a,b){return null!=a&&this.seek(a,b),this.reversed(!1).paused(!1)},h.pause=function(a,b){return null!=a&&this.seek(a,b),this.paused(!0)},h.resume=function(a,b){return null!=a&&this.seek(a,b),this.paused(!1)},h.seek=function(a,b){return this.totalTime(Number(a),b!==!1)},h.restart=function(a,b){return this.reversed(!1).paused(!1).totalTime(a?-this._delay:0,b!==!1,!0)},h.reverse=function(a,b){return null!=a&&this.seek(a||this.totalDuration(),b),this.reversed(!0).paused(!1)},h.render=function(a,b,c){},h.invalidate=function(){return this._time=this._totalTime=0,this._initted=this._gc=!1,this._rawPrevTime=-1,(this._gc||!this.timeline)&&this._enabled(!0),this},h.isActive=function(){var a,b=this._timeline,c=this._startTime;return!b||!this._gc&&!this._paused&&b.isActive()&&(a=b.rawTime(!0))>=c&&a<c+this.totalDuration()/this._timeScale},h._enabled=function(a,b){return j||i.wake(),this._gc=!a,this._active=this.isActive(),b!==!0&&(a&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!a&&this.timeline&&this._timeline._remove(this,!0)),!1},h._kill=function(a,b){return this._enabled(!1,!1)},h.kill=function(a,b){return this._kill(a,b),this},h._uncache=function(a){for(var b=a?this:this.timeline;b;)b._dirty=!0,b=b.timeline;return this},h._swapSelfInParams=function(a){for(var b=a.length,c=a.concat();--b>-1;)"{self}"===a[b]&&(c[b]=this);return c},h._callback=function(a){var b=this.vars,c=b[a],d=b[a+"Params"],e=b[a+"Scope"]||b.callbackScope||this,f=d?d.length:0;switch(f){case 0:c.call(e);break;case 1:c.call(e,d[0]);break;case 2:c.call(e,d[0],d[1]);break;default:c.apply(e,d)}},h.eventCallback=function(a,b,c,d){if("on"===(a||"").substr(0,2)){var e=this.vars;if(1===arguments.length)return e[a];null==b?delete e[a]:(e[a]=b,e[a+"Params"]=p(c)&&-1!==c.join("").indexOf("{self}")?this._swapSelfInParams(c):c,e[a+"Scope"]=d),"onUpdate"===a&&(this._onUpdate=b)}return this},h.delay=function(a){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+a-this._delay),this._delay=a,this):this._delay},h.duration=function(a){return arguments.length?(this._duration=this._totalDuration=a,this._uncache(!0),this._timeline.smoothChildTiming&&this._time>0&&this._time<this._duration&&0!==a&&this.totalTime(this._totalTime*(a/this._duration),!0),this):(this._dirty=!1,this._duration)},h.totalDuration=function(a){return this._dirty=!1,arguments.length?this.duration(a):this._totalDuration},h.time=function(a,b){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(a>this._duration?this._duration:a,b)):this._time},h.totalTime=function(a,b,c){if(j||i.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(0>a&&!c&&(a+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var d=this._totalDuration,e=this._timeline;if(a>d&&!c&&(a=d),this._startTime=(this._paused?this._pauseTime:e._time)-(this._reversed?d-a:a)/this._timeScale,e._dirty||this._uncache(!1),e._timeline)for(;e._timeline;)e._timeline._time!==(e._startTime+e._totalTime)/e._timeScale&&e.totalTime(e._totalTime,!0),e=e._timeline}this._gc&&this._enabled(!0,!1),(this._totalTime!==a||0===this._duration)&&(J.length&&Y(),this.render(a,b,!1),J.length&&Y())}return this},h.progress=h.totalProgress=function(a,b){var c=this.duration();return arguments.length?this.totalTime(c*a,b):c?this._time/c:this.ratio},h.startTime=function(a){return arguments.length?(a!==this._startTime&&(this._startTime=a,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,a-this._delay)),this):this._startTime},h.endTime=function(a){return this._startTime+(0!=a?this.totalDuration():this.duration())/this._timeScale},h.timeScale=function(a){if(!arguments.length)return this._timeScale;if(a=a||m,this._timeline&&this._timeline.smoothChildTiming){var b=this._pauseTime,c=b||0===b?b:this._timeline.totalTime();this._startTime=c-(c-this._startTime)*this._timeScale/a}return this._timeScale=a,this._uncache(!1)},h.reversed=function(a){return arguments.length?(a!=this._reversed&&(this._reversed=a,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},h.paused=function(a){if(!arguments.length)return this._paused;var b,c,d=this._timeline;return a!=this._paused&&d&&(j||a||i.wake(),b=d.rawTime(),c=b-this._pauseTime,!a&&d.smoothChildTiming&&(this._startTime+=c,this._uncache(!1)),this._pauseTime=a?b:null,this._paused=a,this._active=this.isActive(),!a&&0!==c&&this._initted&&this.duration()&&(b=d.smoothChildTiming?this._totalTime:(b-this._startTime)/this._timeScale,this.render(b,b===this._totalTime,!0))),this._gc&&!a&&this._enabled(!0,!1),this};var F=t("core.SimpleTimeline",function(a){D.call(this,0,a),this.autoRemoveChildren=this.smoothChildTiming=!0});h=F.prototype=new D,h.constructor=F,h.kill()._gc=!1,h._first=h._last=h._recent=null,h._sortChildren=!1,h.add=h.insert=function(a,b,c,d){var e,f;if(a._startTime=Number(b||0)+a._delay,a._paused&&this!==a._timeline&&(a._pauseTime=a._startTime+(this.rawTime()-a._startTime)/a._timeScale),a.timeline&&a.timeline._remove(a,!0),a.timeline=a._timeline=this,a._gc&&a._enabled(!0,!0),e=this._last,this._sortChildren)for(f=a._startTime;e&&e._startTime>f;)e=e._prev;return e?(a._next=e._next,e._next=a):(a._next=this._first,this._first=a),a._next?a._next._prev=a:this._last=a,a._prev=e,this._recent=a,this._timeline&&this._uncache(!0),this},h._remove=function(a,b){return a.timeline===this&&(b||a._enabled(!1,!0),a._prev?a._prev._next=a._next:this._first===a&&(this._first=a._next),a._next?a._next._prev=a._prev:this._last===a&&(this._last=a._prev),a._next=a._prev=a.timeline=null,a===this._recent&&(this._recent=this._last),this._timeline&&this._uncache(!0)),this},h.render=function(a,b,c){var d,e=this._first;for(this._totalTime=this._time=this._rawPrevTime=a;e;)d=e._next,(e._active||a>=e._startTime&&!e._paused)&&(e._reversed?e.render((e._dirty?e.totalDuration():e._totalDuration)-(a-e._startTime)*e._timeScale,b,c):e.render((a-e._startTime)*e._timeScale,b,c)),e=d},h.rawTime=function(){return j||i.wake(),this._totalTime};var G=t("TweenLite",function(b,c,d){\nif(D.call(this,c,d),this.render=G.prototype.render,null==b)throw"Cannot tween a null target.";this.target=b="string"!=typeof b?b:G.selector(b)||b;var e,f,g,h=b.jquery||b.length&&b!==a&&b[0]&&(b[0]===a||b[0].nodeType&&b[0].style&&!b.nodeType),i=this.vars.overwrite;if(this._overwrite=i=null==i?U[G.defaultOverwrite]:"number"==typeof i?i>>0:U[i],(h||b instanceof Array||b.push&&p(b))&&"number"!=typeof b[0])for(this._targets=g=n(b),this._propLookup=[],this._siblings=[],e=0;e<g.length;e++)f=g[e],f?"string"!=typeof f?f.length&&f!==a&&f[0]&&(f[0]===a||f[0].nodeType&&f[0].style&&!f.nodeType)?(g.splice(e--,1),this._targets=g=g.concat(n(f))):(this._siblings[e]=Z(f,this,!1),1===i&&this._siblings[e].length>1&&_(f,this,null,1,this._siblings[e])):(f=g[e--]=G.selector(f),"string"==typeof f&&g.splice(e+1,1)):g.splice(e--,1);else this._propLookup={},this._siblings=Z(b,this,!1),1===i&&this._siblings.length>1&&_(b,this,null,1,this._siblings);(this.vars.immediateRender||0===c&&0===this._delay&&this.vars.immediateRender!==!1)&&(this._time=-m,this.render(Math.min(0,-this._delay)))},!0),H=function(b){return b&&b.length&&b!==a&&b[0]&&(b[0]===a||b[0].nodeType&&b[0].style&&!b.nodeType)},I=function(a,b){var c,d={};for(c in a)T[c]||c in b&&"transform"!==c&&"x"!==c&&"y"!==c&&"width"!==c&&"height"!==c&&"className"!==c&&"border"!==c||!(!Q[c]||Q[c]&&Q[c]._autoCSS)||(d[c]=a[c],delete a[c]);a.css=d};h=G.prototype=new D,h.constructor=G,h.kill()._gc=!1,h.ratio=0,h._firstPT=h._targets=h._overwrittenProps=h._startAt=null,h._notifyPluginsOfEnabled=h._lazy=!1,G.version="1.19.1",G.defaultEase=h._ease=new v(null,null,1,1),G.defaultOverwrite="auto",G.ticker=i,G.autoSleep=120,G.lagSmoothing=function(a,b){i.lagSmoothing(a,b)},G.selector=a.$||a.jQuery||function(b){var c=a.$||a.jQuery;return c?(G.selector=c,c(b)):"undefined"==typeof d?b:d.querySelectorAll?d.querySelectorAll(b):d.getElementById("#"===b.charAt(0)?b.substr(1):b)};var J=[],K={},L=/(?:(-|-=|\\+=)?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)[0-9]/gi,M=function(a){for(var b,c=this._firstPT,d=1e-6;c;)b=c.blob?1===a?this.end:a?this.join(""):this.start:c.c*a+c.s,c.m?b=c.m(b,this._target||c.t):d>b&&b>-d&&!c.blob&&(b=0),c.f?c.fp?c.t[c.p](c.fp,b):c.t[c.p](b):c.t[c.p]=b,c=c._next},N=function(a,b,c,d){var e,f,g,h,i,j,k,l=[],m=0,n="",o=0;for(l.start=a,l.end=b,a=l[0]=a+"",b=l[1]=b+"",c&&(c(l),a=l[0],b=l[1]),l.length=0,e=a.match(L)||[],f=b.match(L)||[],d&&(d._next=null,d.blob=1,l._firstPT=l._applyPT=d),i=f.length,h=0;i>h;h++)k=f[h],j=b.substr(m,b.indexOf(k,m)-m),n+=j||!h?j:",",m+=j.length,o?o=(o+1)%5:"rgba("===j.substr(-5)&&(o=1),k===e[h]||e.length<=h?n+=k:(n&&(l.push(n),n=""),g=parseFloat(e[h]),l.push(g),l._firstPT={_next:l._firstPT,t:l,p:l.length-1,s:g,c:("="===k.charAt(1)?parseInt(k.charAt(0)+"1",10)*parseFloat(k.substr(2)):parseFloat(k)-g)||0,f:0,m:o&&4>o?Math.round:0}),m+=k.length;return n+=b.substr(m),n&&l.push(n),l.setRatio=M,l},O=function(a,b,c,d,e,f,g,h,i){"function"==typeof d&&(d=d(i||0,a));var j,k=typeof a[b],l="function"!==k?"":b.indexOf("set")||"function"!=typeof a["get"+b.substr(3)]?b:"get"+b.substr(3),m="get"!==c?c:l?g?a[l](g):a[l]():a[b],n="string"==typeof d&&"="===d.charAt(1),o={t:a,p:b,s:m,f:"function"===k,pg:0,n:e||b,m:f?"function"==typeof f?f:Math.round:0,pr:0,c:n?parseInt(d.charAt(0)+"1",10)*parseFloat(d.substr(2)):parseFloat(d)-m||0};return("number"!=typeof m||"number"!=typeof d&&!n)&&(g||isNaN(m)||!n&&isNaN(d)||"boolean"==typeof m||"boolean"==typeof d?(o.fp=g,j=N(m,n?o.s+o.c:d,h||G.defaultStringFilter,o),o={t:j,p:"setRatio",s:0,c:1,f:2,pg:0,n:e||b,pr:0,m:0}):(o.s=parseFloat(m),n||(o.c=parseFloat(d)-o.s||0))),o.c?((o._next=this._firstPT)&&(o._next._prev=o),this._firstPT=o,o):void 0},P=G._internals={isArray:p,isSelector:H,lazyTweens:J,blobDif:N},Q=G._plugins={},R=P.tweenLookup={},S=0,T=P.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1,lazy:1,onOverwrite:1,callbackScope:1,stringFilter:1,id:1},U={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,"true":1,"false":0},V=D._rootFramesTimeline=new F,W=D._rootTimeline=new F,X=30,Y=P.lazyRender=function(){var a,b=J.length;for(K={};--b>-1;)a=J[b],a&&a._lazy!==!1&&(a.render(a._lazy[0],a._lazy[1],!0),a._lazy=!1);J.length=0};W._startTime=i.time,V._startTime=i.frame,W._active=V._active=!0,setTimeout(Y,1),D._updateRoot=G.render=function(){var a,b,c;if(J.length&&Y(),W.render((i.time-W._startTime)*W._timeScale,!1,!1),V.render((i.frame-V._startTime)*V._timeScale,!1,!1),J.length&&Y(),i.frame>=X){X=i.frame+(parseInt(G.autoSleep,10)||120);for(c in R){for(b=R[c].tweens,a=b.length;--a>-1;)b[a]._gc&&b.splice(a,1);0===b.length&&delete R[c]}if(c=W._first,(!c||c._paused)&&G.autoSleep&&!V._first&&1===i._listeners.tick.length){for(;c&&c._paused;)c=c._next;c||i.sleep()}}},i.addEventListener("tick",D._updateRoot);var Z=function(a,b,c){var d,e,f=a._gsTweenID;if(R[f||(a._gsTweenID=f="t"+S++)]||(R[f]={target:a,tweens:[]}),b&&(d=R[f].tweens,d[e=d.length]=b,c))for(;--e>-1;)d[e]===b&&d.splice(e,1);return R[f].tweens},$=function(a,b,c,d){var e,f,g=a.vars.onOverwrite;return g&&(e=g(a,b,c,d)),g=G.onOverwrite,g&&(f=g(a,b,c,d)),e!==!1&&f!==!1},_=function(a,b,c,d,e){var f,g,h,i;if(1===d||d>=4){for(i=e.length,f=0;i>f;f++)if((h=e[f])!==b)h._gc||h._kill(null,a,b)&&(g=!0);else if(5===d)break;return g}var j,k=b._startTime+m,l=[],n=0,o=0===b._duration;for(f=e.length;--f>-1;)(h=e[f])===b||h._gc||h._paused||(h._timeline!==b._timeline?(j=j||aa(b,0,o),0===aa(h,j,o)&&(l[n++]=h)):h._startTime<=k&&h._startTime+h.totalDuration()/h._timeScale>k&&((o||!h._initted)&&k-h._startTime<=2e-10||(l[n++]=h)));for(f=n;--f>-1;)if(h=l[f],2===d&&h._kill(c,a,b)&&(g=!0),2!==d||!h._firstPT&&h._initted){if(2!==d&&!$(h,b))continue;h._enabled(!1,!1)&&(g=!0)}return g},aa=function(a,b,c){for(var d=a._timeline,e=d._timeScale,f=a._startTime;d._timeline;){if(f+=d._startTime,e*=d._timeScale,d._paused)return-100;d=d._timeline}return f/=e,f>b?f-b:c&&f===b||!a._initted&&2*m>f-b?m:(f+=a.totalDuration()/a._timeScale/e)>b+m?0:f-b-m};h._init=function(){var a,b,c,d,e,f,g=this.vars,h=this._overwrittenProps,i=this._duration,j=!!g.immediateRender,k=g.ease;if(g.startAt){this._startAt&&(this._startAt.render(-1,!0),this._startAt.kill()),e={};for(d in g.startAt)e[d]=g.startAt[d];if(e.overwrite=!1,e.immediateRender=!0,e.lazy=j&&g.lazy!==!1,e.startAt=e.delay=null,this._startAt=G.to(this.target,0,e),j)if(this._time>0)this._startAt=null;else if(0!==i)return}else if(g.runBackwards&&0!==i)if(this._startAt)this._startAt.render(-1,!0),this._startAt.kill(),this._startAt=null;else{0!==this._time&&(j=!1),c={};for(d in g)T[d]&&"autoCSS"!==d||(c[d]=g[d]);if(c.overwrite=0,c.data="isFromStart",c.lazy=j&&g.lazy!==!1,c.immediateRender=j,this._startAt=G.to(this.target,0,c),j){if(0===this._time)return}else this._startAt._init(),this._startAt._enabled(!1),this.vars.immediateRender&&(this._startAt=null)}if(this._ease=k=k?k instanceof v?k:"function"==typeof k?new v(k,g.easeParams):w[k]||G.defaultEase:G.defaultEase,g.easeParams instanceof Array&&k.config&&(this._ease=k.config.apply(k,g.easeParams)),this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(f=this._targets.length,a=0;f>a;a++)this._initProps(this._targets[a],this._propLookup[a]={},this._siblings[a],h?h[a]:null,a)&&(b=!0);else b=this._initProps(this.target,this._propLookup,this._siblings,h,0);if(b&&G._onPluginEvent("_onInitAllProps",this),h&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),g.runBackwards)for(c=this._firstPT;c;)c.s+=c.c,c.c=-c.c,c=c._next;this._onUpdate=g.onUpdate,this._initted=!0},h._initProps=function(b,c,d,e,f){var g,h,i,j,k,l;if(null==b)return!1;K[b._gsTweenID]&&Y(),this.vars.css||b.style&&b!==a&&b.nodeType&&Q.css&&this.vars.autoCSS!==!1&&I(this.vars,b);for(g in this.vars)if(l=this.vars[g],T[g])l&&(l instanceof Array||l.push&&p(l))&&-1!==l.join("").indexOf("{self}")&&(this.vars[g]=l=this._swapSelfInParams(l,this));else if(Q[g]&&(j=new Q[g])._onInitTween(b,this.vars[g],this,f)){for(this._firstPT=k={_next:this._firstPT,t:j,p:"setRatio",s:0,c:1,f:1,n:g,pg:1,pr:j._priority,m:0},h=j._overwriteProps.length;--h>-1;)c[j._overwriteProps[h]]=this._firstPT;(j._priority||j._onInitAllProps)&&(i=!0),(j._onDisable||j._onEnable)&&(this._notifyPluginsOfEnabled=!0),k._next&&(k._next._prev=k)}else c[g]=O.call(this,b,g,"get",l,g,0,null,this.vars.stringFilter,f);return e&&this._kill(e,b)?this._initProps(b,c,d,e,f):this._overwrite>1&&this._firstPT&&d.length>1&&_(b,this,c,this._overwrite,d)?(this._kill(c,b),this._initProps(b,c,d,e,f)):(this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration)&&(K[b._gsTweenID]=!0),i)},h.render=function(a,b,c){var d,e,f,g,h=this._time,i=this._duration,j=this._rawPrevTime;if(a>=i-1e-7&&a>=0)this._totalTime=this._time=i,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(d=!0,e="onComplete",c=c||this._timeline.autoRemoveChildren),0===i&&(this._initted||!this.vars.lazy||c)&&(this._startTime===this._timeline._duration&&(a=0),(0>j||0>=a&&a>=-1e-7||j===m&&"isPause"!==this.data)&&j!==a&&(c=!0,j>m&&(e="onReverseComplete")),this._rawPrevTime=g=!b||a||j===a?a:m);else if(1e-7>a)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==h||0===i&&j>0)&&(e="onReverseComplete",d=this._reversed),0>a&&(this._active=!1,0===i&&(this._initted||!this.vars.lazy||c)&&(j>=0&&(j!==m||"isPause"!==this.data)&&(c=!0),this._rawPrevTime=g=!b||a||j===a?a:m)),this._initted||(c=!0);else if(this._totalTime=this._time=a,this._easeType){var k=a/i,l=this._easeType,n=this._easePower;(1===l||3===l&&k>=.5)&&(k=1-k),3===l&&(k*=2),1===n?k*=k:2===n?k*=k*k:3===n?k*=k*k*k:4===n&&(k*=k*k*k*k),1===l?this.ratio=1-k:2===l?this.ratio=k:.5>a/i?this.ratio=k/2:this.ratio=1-k/2}else this.ratio=this._ease.getRatio(a/i);if(this._time!==h||c){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!c&&this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration))return this._time=this._totalTime=h,this._rawPrevTime=j,J.push(this),void(this._lazy=[a,b]);this._time&&!d?this.ratio=this._ease.getRatio(this._time/i):d&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(this._lazy!==!1&&(this._lazy=!1),this._active||!this._paused&&this._time!==h&&a>=0&&(this._active=!0),0===h&&(this._startAt&&(a>=0?this._startAt.render(a,b,c):e||(e="_dummyGS")),this.vars.onStart&&(0!==this._time||0===i)&&(b||this._callback("onStart"))),f=this._firstPT;f;)f.f?f.t[f.p](f.c*this.ratio+f.s):f.t[f.p]=f.c*this.ratio+f.s,f=f._next;this._onUpdate&&(0>a&&this._startAt&&a!==-1e-4&&this._startAt.render(a,b,c),b||(this._time!==h||d||c)&&this._callback("onUpdate")),e&&(!this._gc||c)&&(0>a&&this._startAt&&!this._onUpdate&&a!==-1e-4&&this._startAt.render(a,b,c),d&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!b&&this.vars[e]&&this._callback(e),0===i&&this._rawPrevTime===m&&g!==m&&(this._rawPrevTime=0))}},h._kill=function(a,b,c){if("all"===a&&(a=null),null==a&&(null==b||b===this.target))return this._lazy=!1,this._enabled(!1,!1);b="string"!=typeof b?b||this._targets||this.target:G.selector(b)||b;var d,e,f,g,h,i,j,k,l,m=c&&this._time&&c._startTime===this._startTime&&this._timeline===c._timeline;if((p(b)||H(b))&&"number"!=typeof b[0])for(d=b.length;--d>-1;)this._kill(a,b[d],c)&&(i=!0);else{if(this._targets){for(d=this._targets.length;--d>-1;)if(b===this._targets[d]){h=this._propLookup[d]||{},this._overwrittenProps=this._overwrittenProps||[],e=this._overwrittenProps[d]=a?this._overwrittenProps[d]||{}:"all";break}}else{if(b!==this.target)return!1;h=this._propLookup,e=this._overwrittenProps=a?this._overwrittenProps||{}:"all"}if(h){if(j=a||h,k=a!==e&&"all"!==e&&a!==h&&("object"!=typeof a||!a._tempKill),c&&(G.onOverwrite||this.vars.onOverwrite)){for(f in j)h[f]&&(l||(l=[]),l.push(f));if((l||!a)&&!$(this,c,b,l))return!1}for(f in j)(g=h[f])&&(m&&(g.f?g.t[g.p](g.s):g.t[g.p]=g.s,i=!0),g.pg&&g.t._kill(j)&&(i=!0),g.pg&&0!==g.t._overwriteProps.length||(g._prev?g._prev._next=g._next:g===this._firstPT&&(this._firstPT=g._next),g._next&&(g._next._prev=g._prev),g._next=g._prev=null),delete h[f]),k&&(e[f]=1);!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return i},h.invalidate=function(){return this._notifyPluginsOfEnabled&&G._onPluginEvent("_onDisable",this),this._firstPT=this._overwrittenProps=this._startAt=this._onUpdate=null,this._notifyPluginsOfEnabled=this._active=this._lazy=!1,this._propLookup=this._targets?{}:[],D.prototype.invalidate.call(this),this.vars.immediateRender&&(this._time=-m,this.render(Math.min(0,-this._delay))),this},h._enabled=function(a,b){if(j||i.wake(),a&&this._gc){var c,d=this._targets;if(d)for(c=d.length;--c>-1;)this._siblings[c]=Z(d[c],this,!0);else this._siblings=Z(this.target,this,!0)}return D.prototype._enabled.call(this,a,b),this._notifyPluginsOfEnabled&&this._firstPT?G._onPluginEvent(a?"_onEnable":"_onDisable",this):!1},G.to=function(a,b,c){return new G(a,b,c)},G.from=function(a,b,c){return c.runBackwards=!0,c.immediateRender=0!=c.immediateRender,new G(a,b,c)},G.fromTo=function(a,b,c,d){return d.startAt=c,d.immediateRender=0!=d.immediateRender&&0!=c.immediateRender,new G(a,b,d)},G.delayedCall=function(a,b,c,d,e){return new G(b,0,{delay:a,onComplete:b,onCompleteParams:c,callbackScope:d,onReverseComplete:b,onReverseCompleteParams:c,immediateRender:!1,lazy:!1,useFrames:e,overwrite:0})},G.set=function(a,b){return new G(a,0,b)},G.getTweensOf=function(a,b){if(null==a)return[];a="string"!=typeof a?a:G.selector(a)||a;var c,d,e,f;if((p(a)||H(a))&&"number"!=typeof a[0]){for(c=a.length,d=[];--c>-1;)d=d.concat(G.getTweensOf(a[c],b));for(c=d.length;--c>-1;)for(f=d[c],e=c;--e>-1;)f===d[e]&&d.splice(c,1)}else for(d=Z(a).concat(),c=d.length;--c>-1;)(d[c]._gc||b&&!d[c].isActive())&&d.splice(c,1);return d},G.killTweensOf=G.killDelayedCallsTo=function(a,b,c){"object"==typeof b&&(c=b,b=!1);for(var d=G.getTweensOf(a,b),e=d.length;--e>-1;)d[e]._kill(c,a)};var ba=t("plugins.TweenPlugin",function(a,b){this._overwriteProps=(a||"").split(","),this._propName=this._overwriteProps[0],this._priority=b||0,this._super=ba.prototype},!0);if(h=ba.prototype,ba.version="1.19.0",ba.API=2,h._firstPT=null,h._addTween=O,h.setRatio=M,h._kill=function(a){var b,c=this._overwriteProps,d=this._firstPT;if(null!=a[this._propName])this._overwriteProps=[];else for(b=c.length;--b>-1;)null!=a[c[b]]&&c.splice(b,1);for(;d;)null!=a[d.n]&&(d._next&&(d._next._prev=d._prev),d._prev?(d._prev._next=d._next,d._prev=null):this._firstPT===d&&(this._firstPT=d._next)),d=d._next;return!1},h._mod=h._roundProps=function(a){for(var b,c=this._firstPT;c;)b=a[this._propName]||null!=c.n&&a[c.n.split(this._propName+"_").join("")],b&&"function"==typeof b&&(2===c.f?c.t._applyPT.m=b:c.m=b),c=c._next},G._onPluginEvent=function(a,b){var c,d,e,f,g,h=b._firstPT;if("_onInitAllProps"===a){for(;h;){for(g=h._next,d=e;d&&d.pr>h.pr;)d=d._next;(h._prev=d?d._prev:f)?h._prev._next=h:e=h,(h._next=d)?d._prev=h:f=h,h=g}h=b._firstPT=e}for(;h;)h.pg&&"function"==typeof h.t[a]&&h.t[a]()&&(c=!0),h=h._next;return c},ba.activate=function(a){for(var b=a.length;--b>-1;)a[b].API===ba.API&&(Q[(new a[b])._propName]=a[b]);return!0},s.plugin=function(a){if(!(a&&a.propName&&a.init&&a.API))throw"illegal plugin definition.";var b,c=a.propName,d=a.priority||0,e=a.overwriteProps,f={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_mod",mod:"_mod",initAll:"_onInitAllProps"},g=t("plugins."+c.charAt(0).toUpperCase()+c.substr(1)+"Plugin",function(){ba.call(this,c,d),this._overwriteProps=e||[]},a.global===!0),h=g.prototype=new ba(c);h.constructor=g,g.API=a.API;for(b in f)"function"==typeof a[b]&&(h[f[b]]=a[b]);return g.version=a.version,ba.activate([g]),g},f=a._gsQueue){for(g=0;g<f.length;g++)f[g]();for(h in q)q[h].func||a.console.log("GSAP encountered missing dependency: "+h)}j=!1}}("undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window,"TweenMax");\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(8)))\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/libs/greensock/TweenMax.min.js\n// module id = 109\n// module chunks = 0\n\n//# sourceURL=webpack:///./src/libs/greensock/TweenMax.min.js?')},function(module,exports,__webpack_require__){"use strict";eval("/* WEBPACK VAR INJECTION */(function(process, global) {\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof2 = __webpack_require__(9);\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nvar _ThreeJsModel = __webpack_require__(111);\n\nvar _ThreeJsModel2 = _interopRequireDefault(_ThreeJsModel);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar root = typeof window !== 'undefined' ? window : (typeof process === 'undefined' ? 'undefined' : (0, _typeof3.default)(process)) === 'object' && \"function\" === 'function' && (typeof global === 'undefined' ? 'undefined' : (0, _typeof3.default)(global)) === 'object' ? global : undefined;\n\nvar ds = root.ds = root.ds || {};\n/**\n * threejs相关便捷函数，为快速开发threejs项目存在\n * @namespace ds.threejs\n */\nds.threejs = ds.threejs || {};\n\n/**\n * 创建一个threejs模块\n * @param {object} opts 创建一个threejs模块配置参数\n */\nds.threejs.create = function (opts) {\n\n  var _threejsModel = new _ThreeJsModel2.default(opts);\n\n  return _threejsModel;\n};\n\n/**\n * 是否支持canvas\n * @type {boolean}\n */\nds.threejs.canvas = !!window.CanvasRenderingContext2D;\n\n/**\n * 是否支持webgl\n * @type {boolean}\n */\nds.threejs.webgl = function () {\n\n  try {\n\n    var canvas = document.createElement('canvas');\n    return !!(window.WebGLRenderingContext && (canvas.getContext('webgl') || canvas.getContext('experimental-webgl')));\n  } catch (e) {\n\n    return false;\n  }\n}();\n\n/**\n * 是否支持多线程\n * @type {boolean}\n */\nds.threejs.workers = !!window.Worker;\n\n/**\n * 是否支持文件读取api\n * @type {boolean}\n */\nds.threejs.fileapi = window.File && window.FileReader && window.FileList && window.Blob;\n\nexports.default = ds.threejs;\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(15), __webpack_require__(8)))\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/ds/threejs/index.js\n// module id = 110\n// module chunks = 0\n\n//# sourceURL=webpack:///./src/ds/threejs/index.js?")},function(module,exports,__webpack_require__){"use strict";eval("/* WEBPACK VAR INJECTION */(function(process, global) {\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _typeof2 = __webpack_require__(9);\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nvar _getPrototypeOf = __webpack_require__(72);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(70);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(71);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(73);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(74);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _symbol = __webpack_require__(43);\n\nvar _symbol2 = _interopRequireDefault(_symbol);\n\nvar _EventDispatcher2 = __webpack_require__(69);\n\nvar _EventDispatcher3 = _interopRequireDefault(_EventDispatcher2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _resizeEvent = (0, _symbol2.default)(\"_resizeEvent\");\nvar _documentMouseMoveEvent = (0, _symbol2.default)(\"_documentMouseMoveEvent\");\nvar _animateFrame = (0, _symbol2.default)(\"_animateFrame\");\n\n/**\n * 快速创建threejs 3D模块\n * @class\n * @classdesc 构建threejs 3D模块\n * > 需要第三方js模块需要自行`require`。建议把 `https://github.com/mrdoob/three.js/tree/dev/examples/js` 下第三方支持模块代码copy到 `src/threejs/` 目录下\n * @memberof ds.threejs\n * @requires  require('ds/threejs/index.js');\n * @example\n *\n * require('ds/threejs/index.js');\n *\n * let _threejsModel = new ThreeJsModel({\n *       appendTo:'#threejsBox',\n *       width:640,\n *       height:1140,\n *       resizeType:'fixed2',\n *       hasModelAnimate:false,\n * });\n *\n * //内存 cpu信息监测模块\n * window.Stats=require('threejs/libs/stats.min.js');\n * //控制器模块\n * require('threejs/controls/OrbitControls.js');\n *\n *  _threejsModel.createControls();\n *  _threejsModel.createStats();\n *\n *  //创建测试显示3d元素\n *  _threejsModel.createTestBox();\n\n *\n */\n\nvar ThreeJsModel = function (_EventDispatcher) {\n    (0, _inherits3.default)(ThreeJsModel, _EventDispatcher);\n\n    /**\n     * 构建threejs 3D模块\n     * @param {object} opts 配置参数\n     * @param {number} [opts.width=window.innerWidth] 场景宽\n     * @param {number} [opts.height=window.innerHeight] 场景高\n     * @param {boolean} [opts.alpha=true] 支持透明度\n     * @param {string} [opts.clearColor=\"#000000\"] 清空画布使用填充色彩\n     * @param {boolean} [opts.sortObjects=true] 透明元素排序\n     * @param {boolean} [opts.autoClear=true] 自动清空画布\n     * @param {string|HTMLElement} [opts.appendTo=undefined] canvas添加到dom容器\n     * @param {number} [opts.cameraFov=60] 摄像机视角\n     * @param {number} [opts.cameraNear=1] 摄像机近视角\n     * @param {number} [opts.cameraFar=100000] 摄像机最远视距\n     * @param {object} [opts.cameraPosition={x: 0,y: 0, z: 500}] 摄像机位置坐标\n     * @param {object} [opts.cameraUp= {x: 0, y: 1, z: 0}] 摄像机镜头方向\n     * @param {boolean} [opts.intersect=true] 是否支持交互\n     * @param {boolean} [opts.hasModelAnimate=true] 是否拥有模型动画渲染\n     * @param {string} [opts.resizeType='window'] 自适应类型 'window' 'fixed' 'fixed2'\n     * @param {boolean} [opts.hasResize=true] 是否要自适应计算\n     * @param {boolean} [opts.adapterCameraFov =true] 需要自动计算摄像机视角适合等比显示适配\n     * @param {CanvasElement} [opts.canvas=undefined] 一个canvas对象\n     */\n    function ThreeJsModel(opts) {\n        (0, _classCallCheck3.default)(this, ThreeJsModel);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (ThreeJsModel.__proto__ || (0, _getPrototypeOf2.default)(ThreeJsModel)).call(this));\n\n        opts = opts || {};\n\n        var _width = opts.width || window.innerWidth;\n        var _height = opts.height || window.innerHeight;\n\n        /**\n         * 3d场景宽\n         * @type {number}\n         */\n        _this.width = _width;\n        /**\n         * 3d场景高\n         * @type {number}\n         */\n        _this.height = _height;\n\n        var _render = new THREE.WebGLRenderer({\n            canvas: opts.canvas ? opts.canvas : document.createElement(\"canvas\"),\n            alpha: opts.alpha !== undefined ? opts.alpha : true,\n            antialias: opts.antialias !== undefined ? opts.antialias : true\n\n        });\n\n        _this.canvas = _render.domElement;\n\n        /**\n         * 渲染对象\n         * @type {WebGLRenderer}\n         */\n        _this.render = _render;\n\n        // 设置size\n        _render.setSize(_width, _height);\n\n        // 设置canvas背景色(clearColor,alpha);\n        var _clearColor = opts.clearColor || \"#000000\";\n        // let _clearAlpha = opts.clearAlpha !== undefined ? opts.clearAlpha : 0;\n        _render.setClearColor(_clearColor, 0);\n\n        var _devicePixelRatio = opts.devicePixelRatio || (window.devicePixelRatio ? window.devicePixelRatio : 2);\n        _render.setPixelRatio(_devicePixelRatio);\n\n        // 正确地渲染具有一定程度的透明度的对象。排序算法\n        var _sortObjects = opts.sortObjects !== undefined ? opts.sortObjects : true;\n        _render.sortObjects = _sortObjects;\n\n        // 自动清空背景色\n        var _autoClear = opts.autoClear !== undefined ? opts.autoClear : true;\n        _render.autoClear = _autoClear;\n\n        // 添加到dom中\n        if (opts.appendTo) {\n\n            $(opts.appendTo).append(_render.domElement);\n        }\n\n        // 创建场景\n        var _screen = new THREE.Scene();\n        /**\n         * 场景对象\n         * @type {THREE.Scene}\n         */\n        _this.screen = _screen;\n\n        //  创建相机\n        //摄像机垂直视角\n        var _cameraFov = opts.cameraFov || 45;\n        //摄像机垂直视角\n        var _cameraNear = opts.cameraNear !== undefined ? opts.cameraNear : 1;\n        //摄像机最远视距\n        var _cameraFar = opts.cameraFar || 100000;\n\n        var _camera = new THREE.PerspectiveCamera(_cameraFov, _width / _height, _cameraNear, _cameraFar);\n        /**\n         * 自动计算摄像机视角适合等比显示适配\n         * @type {boolean}\n         */\n        _this.adapterCameraFov = opts.adapterCameraFov !== undefined ? opts.adapterCameraFov : true;\n\n        /**\n         * 相机对象\n         * @type {THREE.PerspectiveCamera}\n         */\n        _this.camera = _camera;\n\n        var _cameraPosition = opts.cameraPosition || {\n            x: 0,\n            y: 0,\n            z: 500\n        };\n        //设置相机的位置坐标\n        _camera.position.x = _cameraPosition.x;\n        //设置相机的位置坐标\n        _camera.position.y = _cameraPosition.y;\n        //设置相机的位置坐标\n        _camera.position.z = _cameraPosition.z;\n\n        var _cameraUp = opts.cameraUp || { x: 0, y: 1, z: 0 };\n        //设置相机的上为「x」轴方向\n        _camera.up.x = _cameraUp.x;\n        //设置相机的上为「y」轴方向\n        _camera.up.y = _cameraUp.y;\n        //设置相机的上为「z」轴方向\n        _camera.up.z = _cameraUp.z;\n        //设置视野的中心坐标\n        _camera.lookAt(_screen.position);\n\n        /**\n         * 是否可以交互监测\n         * @type {boolean}\n         * @default true\n         */\n        _this.intersect = opts.intersect !== undefined ? opts.intersect : true;\n\n        var _intersectDom = opts.intersectDom != undefined ? $(opts.intersectDom) : _render.domElement;\n\n        _this.intersectDom = _intersectDom;\n\n        /**\n         * 交互触发器\n         * @type {THREE.Raycaster}\n         */\n        _this.raycaster = new THREE.Raycaster();\n\n        /**\n         * 鼠标模拟交互点\n         * @type {THREE.Vector2}\n         * @private\n         */\n        _this._mouse = new THREE.Vector2();\n\n        /**\n         * 交互对象列表\n         * @type {Array}\n         */\n        _this.intersectObjects = [];\n\n        /**\n         * 是否拥有模型动画渲染\n         * @type {boolean}\n         * @default true\n         */\n        _this.hasModelAnimate = opts.hasModelAnimate !== undefined ? opts.hasModelAnimate : true;\n\n        //three 时钟对象\n        _this._clock = new THREE.Clock();\n\n        /**\n         * 自适应类型\n         *  - window 默认，按window宽高自适应\n         *  - fixed 固定宽640，根据实际高自适应\n         *  - fixed2 按缩放框架 实际宽高自适应\n         * @type {string}\n         * @default 'window'\n         */\n        _this.resizeType = opts.resizeType !== undefined ? opts.resizeType : 'window';\n\n        /**\n         * 是否要自适应,固定不自适应的话可以锁死\n         * @type {boolean}\n         * @default true\n         */\n        _this.hasResize = opts.hasResize !== undefined ? opts.hasResize : true;\n\n        //开始计算自适应\n        _this.initReizeEvent();\n\n        //开始渲染\n        _this[_animateFrame] = animateFrame.bind(_this);\n        // this[_animateFrame]();\n        /**\n         * 渲染是否暂停，默认值是不暂停渲染\n         * @member {boolean}\n         * @default false\n         */\n        _this.pause = false;\n\n        return _this;\n    }\n\n    (0, _createClass3.default)(ThreeJsModel, [{\n        key: \"createControls\",\n\n\n        /**\n         * 创建一个控制器，方便调试时候使用\n         * @requires require('threejs/controls/OrbitControls.js')\n         */\n        value: function createControls() {\n\n            if (!THREE.OrbitControls) {\n\n                console.warn('no has THREE.OrbitControls');\n                return;\n            }\n\n            if (this.controls) return;\n\n            console.log('createControls');\n            /**\n             * 镜头控制器\n             * @type {THREE.OrbitControls}\n             */\n            this.controls = new THREE.OrbitControls(this.camera, this.render.domElement);\n            // this.controls = new THREE.OrbitControls(this.camera, $('body')[0]);\n        }\n\n        /**\n         * 摧毁控制器\n         */\n\n    }, {\n        key: \"disposeControls\",\n        value: function disposeControls() {\n\n            if (!this.controls) return;\n\n            console.log('disposeControls');\n            this.controls.dispose();\n\n            this.controls = null;\n        }\n\n        /**\n         * 显示状态监测器\n         * @requires window.Stats=require('threejs/libs/stats.min.js');\n         */\n\n    }, {\n        key: \"showStats\",\n        value: function showStats() {\n\n            if (this.stats) {\n\n                $(this.stats.dom).show();\n                return;\n            }\n\n            console.log('createStats');\n\n            try {\n\n                //创建状态器\n                this.stats = new Stats();\n                //添加到dom列表\n                $('body').append(this.stats.dom);\n            } catch (error) {\n                console.warn(error);\n            }\n        }\n\n        /**\n         * 隐藏状态监测器\n         */\n\n    }, {\n        key: \"hideStates\",\n        value: function hideStates() {\n\n            if (!this.stats) return;\n            $(this.stats.dom).hide();\n        }\n\n        /**\n         * 创建一个测试盒子\n         */\n\n    }, {\n        key: \"createTestBox\",\n        value: function createTestBox() {\n\n            var _geometry = new THREE.TorusKnotGeometry(40, 10, 10, 10);\n            var _material = new THREE.MeshBasicMaterial({\n                color: 0xffff00,\n                wireframe: true\n            });\n\n            var _torusKnot = new THREE.Mesh(_geometry, _material);\n            this.screen.add(_torusKnot);\n\n            _geometry = new THREE.BoxGeometry(150, 150, 150);\n            _material = new THREE.MeshBasicMaterial({\n                color: 0x00ff00,\n                wireframe: true\n            });\n            var _cube = new THREE.Mesh(_geometry, _material);\n\n            this.screen.add(_cube);\n        }\n\n        /**\n         * 初始化自适应\n         */\n\n    }, {\n        key: \"initReizeEvent\",\n        value: function initReizeEvent() {\n\n            if (this[_resizeEvent]) return;\n\n            this[_resizeEvent] = resizeEvent.bind(this);\n\n            if (SiteModel && SiteModel.resizeModel) {\n\n                SiteModel.resizeModel.on('resize', this[_resizeEvent]);\n            } else {\n\n                $(window).resize(function () {\n                    this[_resizeEvent]();\n                });\n            }\n\n            this[_resizeEvent]();\n        }\n\n        /**\n         * 交互事件判断\n         * @private\n         */\n\n    }, {\n        key: \"_intersectUpDate\",\n        value: function _intersectUpDate() {\n\n            if (!this.render) return;\n            if (this.pause) return;\n            if (!this.intersect) return;\n            // console.log(this._mouse);\n            this.raycaster.setFromCamera(this._mouse, this.camera);\n\n            var _intersects = this.raycaster.intersectObjects(this.intersectObjects);\n\n            /**\n             * 鼠标交互相交点\n             * @event ds.threejs.ThreeJsModel#intersects\n             * @property {array} intersects - 相交的对象列表\n             * @example\n             *  var _intersectObject;\n             *  _ThreeJsModel.on('intersects', function (e) {\n             *       var _intersects = e.intersects;\n             *       if (_intersects.length > 0) {\n             *           _intersectObject = _intersects[0].object;\n             *       } else {\n             *           _intersectObject = null;\n             *       }\n             *   });\n             */\n            this.ds({\n                type: \"intersects\",\n                intersects: _intersects\n            });\n\n            // if (_intersects.length > 0) this.render.domElement.style.cursor = 'pointer';\n            // else this.render.domElement.style.cursor = 'auto';\n\n        }\n\n        /**\n         * 模型动画渲染\n         * @private\n         */\n\n    }, {\n        key: \"_modelAnimateUpDate\",\n        value: function _modelAnimateUpDate() {\n\n            if (!this.render) return;\n            if (this.pause) return;\n\n            var _delta = this._clock.getDelta();\n\n            //有SEA的时候使用\n            try {\n\n                if (THREE.SEA3D && THREE.SEA3D.AnimationHandler) THREE.SEA3D.AnimationHandler.update(_delta);\n            } catch (error) {}\n        }\n\n        /**\n         * 场景渲染\n         * @private\n         */\n\n    }, {\n        key: \"_renderUpDate\",\n        value: function _renderUpDate() {\n\n            if (!this.render) return;\n            if (this.pause) return;\n\n            //刷新场景\n            this.render.render(this.screen, this.camera);\n\n            if (!this._updateEvent) this._updateEvent = { type: 'update' };\n            /**\n             * 场景渲染\n             * @event ds.threejs.ThreeJsModel#update\n             */\n            this.ds(this._updateEvent);\n        }\n\n        /**\n         *\n         * 计算相机 fov 的值能确保，物件在坐标000点时候 显示像素尺寸与实际尺寸匹配\n         * 显示对象等比，屏幕适配\n         * {@link https://segmentfault.com/a/1190000008796468}\n         * @param {number} d  在相机前方 d 距离\n         * @param {number} w  想要看到最大正方形区域边长为 w\n         * @param {number} r  屏幕宽高比\n         */\n\n    }, {\n        key: \"adapterFov\",\n        value: function adapterFov(d, w, r) {\n\n            var f = void 0;\n            var vertical = w;\n            if (r < 1) {\n                vertical = vertical / r;\n            }\n            f = Math.atan(vertical / d / 2) * 2 * (180 / Math.PI);\n            return f;\n        }\n    }, {\n        key: \"pause\",\n        get: function get() {\n            return this._pause;\n        },\n        set: function set(bool) {\n            if (this._pause === bool) return;\n            this._pause = bool;\n            if (!this._pause) this[_animateFrame]();\n        }\n\n        /**\n         * 设置交互方式触发的dom对象，默认会使用renderer.domElement\n         * @type {jQuery|HTMLElement}\n         */\n\n    }, {\n        key: \"intersectDom\",\n        get: function get() {\n            return this._intersectDom;\n        },\n        set: function set(value) {\n\n            if (this._intersectDom) {\n\n                this._intersectDom.off('mousemove', this[_documentMouseMoveEvent]);\n                this._intersectDom.off('touchmove', this[_documentMouseMoveEvent]);\n                this._intersectDom.off('touchstart', this[_documentMouseMoveEvent]);\n            }\n\n            this[_documentMouseMoveEvent] = documentMouseMoveEvent.bind(this);\n            this._intersectDom = $(value);\n            this._intersectDom.on('mousemove', this[_documentMouseMoveEvent]);\n            this._intersectDom.on('touchmove', this[_documentMouseMoveEvent]);\n            this._intersectDom.on('touchstart', this[_documentMouseMoveEvent]);\n        }\n    }]);\n    return ThreeJsModel;\n}(_EventDispatcher3.default);\n\nfunction animateFrame() {\n\n    // console.log('ThreeJsModel animateFrame',this);\n\n    if (!this.render) return;\n    if (this.pause) return;\n    //ThreeJs 帧渲染\n    requestAnimationFrame(this[_animateFrame]);\n\n    if (!this._beforeUpdateEvent) this._beforeUpdateEvent = { type: 'beforeUpdate' };\n    /**\n     * 渲染前\n     * @event ds.threejs.ThreeJsModel#beforeUpdate\n     */\n    this.ds(this._beforeUpdateEvent);\n\n    //交互事件\n    if (this.intersect) this._intersectUpDate();\n\n    //模型动画渲染\n    if (this.hasModelAnimate) this._modelAnimateUpDate();\n\n    //渲染 场景 相机\n    this._renderUpDate();\n\n    if (!this._afterUpdateEvent) this._afterUpdateEvent = { type: 'afterUpdate' };\n    /**\n     * 渲染后\n     * @event ds.threejs.ThreeJsModel#afterUpdate\n     */\n    this.ds(this._afterUpdateEvent);\n\n    //状态\n    if (this.stats) this.stats.update();\n}\n\nfunction documentMouseMoveEvent(e) {\n\n    if (!this.intersect) return;\n    // e.preventDefault();\n\n    if (e.type !== 'touchmove' && e.type !== 'touchstart') {\n\n        this._mouse.x = e.clientX / (this.width || window.innerWidth) * 2 - 1;\n        this._mouse.y = -(e.clientY / (this.height || window.innerHeight)) * 2 + 1;\n    } else {\n\n        var _targetTouches = e.targetTouches || e.originalEvent.targetTouches;\n        var _touch = _targetTouches[0];\n        this._mouse.x = _touch.clientX / (this.width || window.innerWidth) * 2 - 1;\n        this._mouse.y = -(_touch.clientY / (this.height || window.innerHeight)) * 2 + 1;\n    }\n}\n\nfunction resizeEvent() {\n\n    var _width = window.innerWidth;\n    var _height = window.innerHeight;\n\n    if (!this.hasResize) return;\n\n    var _camera = this.camera;\n    var _renderer = this.render;\n\n    // console.log('resizeEvent:',this.resizeType);\n\n    if (SiteModel && SiteModel.resizeModel) {\n\n        var _resizeModel = SiteModel.resizeModel;\n        var _actualH = _resizeModel.actualH;\n        var _pageScale = _resizeModel.pageScale;\n        var _isInputState = _resizeModel.isInputState;\n        var _horizontal = _resizeModel.horizontal;\n        var _screenWidth = _resizeModel.screenWidth;\n        var _densityDpi = _resizeModel.densityDpi;\n\n        if (this.resizeType == 'fixed') {\n\n            _width = 640;\n            _height = _actualH;\n        } else if (this.resizeType == 'fixed2') {\n\n            _width = _screenWidth;\n            _height = _actualH;\n        }\n    }\n\n    this.width = _width;\n    this.height = _height;\n    if (this.adapterCameraFov) _camera.fov = this.adapterFov(_camera.position.z, _width, _width / _height);\n    _camera.aspect = _width / _height;\n    _camera.updateProjectionMatrix();\n    _renderer.setSize(_width, _height);\n}\n\nvar root = typeof window !== 'undefined' ? window : (typeof process === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(process)) === 'object' && \"function\" === 'function' && (typeof global === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(global)) === 'object' ? global : undefined;\n\nvar ds = root.ds = root.ds || {};\nds.threejs = ds.threejs || {};\n\nds.threejs.ThreeJsModel = ThreeJsModel;\n\nexports.default = ThreeJsModel;\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(15), __webpack_require__(8)))\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/ds/threejs/ThreeJsModel.js\n// module id = 111\n// module chunks = 0\n\n//# sourceURL=webpack:///./src/ds/threejs/ThreeJsModel.js?")},function(module,exports,__webpack_require__){"use strict";eval("/* WEBPACK VAR INJECTION */(function(process, global) {var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;\n\nvar _typeof2 = __webpack_require__(9);\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n//这个类使用老js方法，有可能直接插入html标签内使用\n!function (factory) {\n\n    var root = typeof window !== 'undefined' ? window : (typeof process === 'undefined' ? 'undefined' : (0, _typeof3.default)(process)) === 'object' && \"function\" === 'function' && (typeof global === 'undefined' ? 'undefined' : (0, _typeof3.default)(global)) === 'object' ? global : this;\n\n    if (true) {\n\n        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [exports], __WEBPACK_AMD_DEFINE_RESULT__ = function (exports) {\n\n            module.exports = factory(root, exports);\n        }.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n    } else if (typeof exports !== 'undefined') {\n\n        module.exports = factory(root, exports);\n    } else {\n\n        factory(root, {});\n    }\n}(function (root, Model) {\n\n    var ds = root.ds = root.ds || {};\n    ds.ui = ds.ui || {};\n    ds.ui.PopAlert = PopAlert;\n\n    //开发过程使用这个html结构\n    // var _popAlertDom = $(require('./popAlert/PopAlert.html'));\n    //弹出框的dom结构创建  基于./popAlert/PopAlert.html基础上 进行html与css内容的压缩\n    //在线工具 http://tool.oschina.net/jscompress?type=2 与 http://www.css88.com/tool/html2js/\n    var _popAlertDom = $(['<div><div class=\"Ds_PopAlert\"><div class=\"bg\"></div><div class=\"panel\"><div class=\"title\"></div><div class=\"info\"><span></spa></div><div class=\"close\"><svg class=\\'closeSvg\\' style=\\'position: absolute;top:25%;left:25%;width: 50%;height: 50%;\\'                     xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 14.8 14.8\"><path d=\"M8.2 7.4L14.8.7 14 0 7.6 6.7.7 0 .2.7l6.8 6.7L0 14l.7.8L7.5 8l6.7 6.8.7-.7z\"                          data-name=\"Layer0 0 FILL\"/></svg></div><div class=\"btnPanel\"><div class=\"btn0 btn\"></div><div class=\"btn1 btn\"></div></div></div></div><style type=\"text/css\">        .Ds_PopAlert {            position: absolute;            top: 0;            left: 0;            width: 100%;            height: 100%;        }        .Ds_PopAlert .bg {            position: absolute;            top: 0;            left: 0;            width: 100%;            height: 100%;            background: #000;            opacity: 0.8;        }        .Ds_PopAlert .panel {            position: absolute;            top: 50%;            left: 50%;            display: -webkit-flex;            display: flex;            flex-direction: column;            align-items: center;            justify-content: space-between;            width: 500px;            height: 250px;            margin-left: -250px;            margin-top: -125px;            background: #fff;            border-radius: 30px;            text-align: center;        }        .Ds_PopAlert .panel .close {            position: absolute;            top: -15px;            right: -15px;            width: 50px;            height: 50px;            background: #fff;            border-radius: 25px;            box-shadow: 0px 0px 5px rgba(0, 0, 0, 0.7);        }        .Ds_PopAlert .panel .close .closeSvg {            fill: #000;        }        .Ds_PopAlert .panel .title {            width: 100%;            color: #000;            font-size: 30px;            line-height: 60px;        }        .Ds_PopAlert .panel .info {            display: -webkit-flex;            display: flex;            flex-direction: column;            justify-content: center;            width: 80%;            text-align: center;            color: #000;            font-size: 25px;        }        .Ds_PopAlert .panel .btnPanel {            display: -webkit-flex;            display: flex;            flex-direction: row;            width: 100%;            height: 60px;            line-height: 60px;            font-size: 25px;            border-top: 1px solid #ccc;            overflow: hidden;        }        .Ds_PopAlert .panel .btnPanel .btn {            color: #000;            width: 100%;            height: 100%;        }</style></div>'].join(\"\"));\n\n    //抽取css插入到html内\n    var _style = _popAlertDom.find('style');\n    $('body').append(_style);\n\n    //抽取提示框dom结构备用\n    var _alertDom = $(_popAlertDom.find('.Ds_PopAlert')[0]);\n\n    // alert 弹出框列表\n    var _alertList = [];\n\n    //弹出宽的容器\n    var _popAlertContainer = $('<div id=\"Ds_PopLayerContainer\" style=\"position: absolute;top:0;left: 0;width: 100%;height: 100%;\"></div>');\n\n    //自适应\n    window.addEventListener(\"resize\", function () {\n\n        resize();\n        setTimeout(function () {\n            resize();\n        }, 100);\n    });\n\n    //计算自适应 _PopLayerContainer设置宽高\n    function resize() {\n\n        var _width,\n            _height,\n            _pageScale,\n            _actualH,\n            _horizontal = false,\n            _isInputState = false,\n            _screenWidth;\n        _width = window.innerWidth;\n        _height = window.innerHeight;\n\n        //计算是否横屏\n        if (_width > _height) _horizontal = true;else _horizontal = false;\n        if (_width / _height > 3) {\n\n            //算出竖屏幕下输入框状态下比例\n            _isInputState = true;\n        } else if (_width / _height < 12 / 7 && _width / _height > 1) {\n\n            //算出竖屏幕下输入框状态下比例\n            _isInputState = true;\n            //说明这时候不会是横屏\n            _horizontal = false;\n        } else {\n\n            //非输入状态\n            _isInputState = false;\n        }\n\n        if (_horizontal) _screenWidth = 1138;else _screenWidth = 640;\n\n        //计算缩放比例\n        _pageScale = _width / _screenWidth;\n        //计算实际高度\n        _actualH = _height / _pageScale;\n\n        var _resizeObj = {\n            \"-webkit-transform-origin\": '0 0',\n            \"transform-origin\": '0 0',\n            \"-webkit-transform\": \"scale(\" + _pageScale + \")\",\n            \"transform\": \"scale(\" + _pageScale + \")\",\n            \"width\": _screenWidth + 'px',\n            \"height\": _actualH + 'px'\n        };\n\n        _popAlertContainer.css(_resizeObj);\n    }\n\n    //弹出浮动层基本值设置\n    var _alertConfig = {};\n    _alertConfig.color = '#000'; //字体颜色  默认#000;\n    _alertConfig.panelColor = '#fff'; //框颜色  默认#fff;\n    _alertConfig.bgColor = '#000'; //框颜色  默认#000;\n    _alertConfig.bgAlpha = 0.8; //框颜色  默认0.8;\n\n\n    /**\n     * alert提示浮层 代替\n     * @class ds.ui.PopAlert\n     * @classdesc 手机H5交互中代替经常使用系统alert\n     * @param {string} info   提示内容\n     * @param {object|function} config object时候为配置参数，function时候为点击确认执行方法\n     * @param {string} [config.title=''] 提示框标题 默认'' 会不出现标题\n     * @param {arry|string} [config.btns='确定'] 按钮文案 可以是string 或者 Array,如：不需要按钮'' 单个按钮:'确定' ['确定']  双按钮：'确定,取消' ['确定','取消']\n     * @param {function} config.ok 确定执行方法  默认空\n     * @param {function} config.no 取消执行方法  默认空\n     * @param {function} config.close 关闭执行方法  默认使用config.noFun代替 如果有背景关闭与关闭按钮下会执行\n     * @param {boolean} [config.hasClose=false] 是否有关闭按钮  默认无关闭按钮\n     * @param {boolean} [config.bgClose=false] 是否支持背景关闭  默认不支持\n     * @param {string} [config.color='#000'] 字体颜色  默认#000;\n     * @param {string} [config.panelColor='#fff'] 框颜色  默认#fff;\n     * @param {string} [config.bgColor='#000'] 框颜色  默认#000;\n     * @param {number} [config.bgAlpha=0.8] 框颜色  默认0.8;\n     * @param {boolean} [config.hasBg=true] 是否有背景遮罩  默认true;\n     * @requires zepto.js 或者 jquery.js\n     *\n     */\n    function PopAlert(info, config) {\n\n        var _self = this;\n\n        //提示内容\n        var _info = info || '';\n\n        //头部\n        var _title,\n        //按钮文字内容\n        _btnArr,\n        //背景是否关闭\n        _bgClose,\n        //确定事件\n        _okFun,\n        //取消事件\n        _noFun,\n        //关闭按钮，如果没事件 那就用取消\n        _closeFun;\n\n        //dom元素创建\n        var _view = _alertDom.clone();\n        Object.defineProperty(this, \"view\", {\n            get: function get() {\n                return _view;\n            }\n        });\n\n        var _titleDom = _view.find('.title');\n        var _inftoDom = _view.find('.info span');\n        var _okDom = _view.find('.btnPanel .btn0');\n        var _noDom = _view.find('.btnPanel .btn1');\n        var _closeDom = _view.find('.close');\n        var _bgDom = _view.find('.bg');\n\n        //交互事件\n        _bgDom.on('click', function () {\n\n            if (!_bgClose) return;\n            _self.hide();\n            if (_closeFun) _closeFun();\n        });\n        _closeDom.on('click', function () {\n\n            _self.hide();\n            if (_closeFun) _closeFun();\n        });\n        _okDom.on('click', function () {\n\n            _self.hide();\n            if (_okFun) _okFun();\n        });\n        _noDom.on('click', function () {\n\n            _self.hide();\n            if (_noFun) _noFun();\n        });\n\n        // console.log(_info,config);\n\n        //初始化配置\n        initConfig(config);\n\n        function initConfig(config) {\n\n            //初始化配置\n            var _config = config || {};\n\n            //如果传递是一个function进行下转换\n            if (typeof _config === 'function') _config = { ok: config };\n\n            //头部\n            _title = _config.title || '';\n            //确定事件\n            _okFun = _config.ok || null;\n            //取消事件\n            _noFun = _config.no || null;\n            //关闭按钮，如果没事件 那就用取消\n            _closeFun = _config.close || _noFun;\n\n            //按钮\n            var _btns = _config.btns !== undefined ? _config.btns : '确定';\n\n            if (typeof _btns === 'string') {\n\n                if (_btns === '') _btnArr = [];else if (_btns.indexOf(',') !== -1) _btnArr = _btns.split(',');else _btnArr = [_btns];\n            } else if (_btns instanceof Array) {\n\n                _btnArr = _btns;\n            } else {\n\n                _btnArr = [];\n            }\n\n            if (_btnArr.length <= 0) {\n\n                _okDom.hide();\n                _noDom.hide();\n            } else if (_btnArr.length === 1) {\n\n                _okDom.show();\n                _noDom.hide();\n                _okDom.html(_btnArr[0]);\n                _okDom.css({ 'borderRight': '0px solid #ccc' });\n            } else {\n\n                _okDom.html(_btnArr[0]);\n                _okDom.css({ 'borderRight': '1px solid #ccc' });\n                _okDom.show();\n                _noDom.html(_btnArr[1]);\n                _noDom.show();\n            }\n\n            var _hasClose = _config.hasClose !== undefined ? _config.hasClose : false;\n\n            if (_hasClose) _closeDom.show();else _closeDom.hide();\n\n            _bgClose = _config.bgClose || false;\n\n            //框颜色\n            _config.panelColor = _config.panelColor || _alertConfig.panelColor;\n            _view.find('.panel').css({ background: _config.panelColor });\n            _view.find('.close').css({ background: _config.panelColor });\n\n            //背景颜色\n            _config.bgColor = _config.bgColor || _alertConfig.bgColor;\n            //背景透明度\n            _config.bgAlpha = _config.bgAlpha !== undefined ? _config.bgAlpha : _alertConfig.bgAlpha;\n            //背景设置\n            _view.find('.bg').css({\n                opacity: _config.bgAlpha,\n                background: _config.bgColor\n            });\n\n            //字体颜色\n            _config.color = _config.color || _alertConfig.color;\n            _view.find('.title').css({ color: _config.color });\n            _view.find('.info').css({ color: _config.color });\n            _view.find('.btn').css({ color: _config.color });\n            _view.find('.close svg').css({ fill: _config.color });\n\n            //是否拥有背景遮罩\n            var _hasBg = _config.hasBg !== undefined ? _config.hasBg : true;\n            if (_hasBg) _bgDom.show();else _bgDom.hide();\n        }\n\n        /**\n         * 显示提示框\n         * @param {string} info 提示内容\n         * @param {object} config 配置\n         * @method ds.ui.PopAlert.prototype.show\n         */\n        this.show = function (info, config) {\n\n            if (config) initConfig(config);\n\n            _info = info || _info;\n            _titleDom.html(_title);\n            _inftoDom.html(_info);\n\n            $('body').append(_popAlertContainer);\n            _popAlertContainer.append(_view);\n\n            //弹出框索引\n            if (_alertList.indexOf(_self) === -1) _alertList.push(_self);\n\n            resize();\n        };\n\n        /**\n         * 隐藏当前提示框\n         * @method ds.ui.PopAlert.prototype.hide\n         */\n        this.hide = function () {\n\n            _view.remove();\n\n            for (var i = 0; i < _alertList.length; i++) {\n\n                if (_alertList[i] === _self) _alertList.splice(i, 1);\n            }\n\n            if (_alertList.length <= 0) _popAlertContainer.remove();\n        };\n    }\n\n    /**\n     * 快速弹出提示框\n     * @param {string} info 提示内容\n     * @param {string|function} config 弹出框配置\n     * @see ds.ui.PopAlert 等于创建一个ds.ui.PopAlert对象，并显示 {@link ds.ui.PopAlert}\n     * @method  ds.ui.PopAlert.alert\n     * @return {ds.ui.PopAlert}\n     * @example\n     *\n     *  //快速实现\n     *  ds.alert('快速alert,默认一个确定按钮',function () {\n     *      alert('点击确认');\n     *  });\n     *\n     *  //选择性提示框\n     *  ds.alert('alert提示 2个按钮，请选择确定或者取消', {\n     *       btns:'确定,取消',\n     *       ok:function () {\n     *           console.log('点击确认');\n     *       },\n     *       no:function () {\n     *           console.log('点击取消');\n     *       }\n     *   });\n     *\n     *   //更多自定义提示框\n     *   ds.alert('alert提示 关闭按钮', {\n     *       title:'警告页面',\n     *       btns:'确定,取消',\n     *       color:'#b3f7fd',\n     *       panelColor:\"#451c5f\",\n     *       hasClose:true,\n     *       ok:function () {\n     *           console.log('点击确认');\n     *       },\n     *       no:function () {\n     *           console.log('点击取消');\n     *       }\n     *   });\n     *\n     */\n    ds.ui.PopAlert.alert = function (info, config) {\n\n        var _alertPanel = new ds.ui.PopAlert(info, config);\n        _alertPanel.show();\n        return _alertPanel;\n    };\n\n    /**\n     * 关闭所有提示框\n     * @method   ds.ui.PopAlert.closeAll\n     */\n    ds.ui.PopAlert.closeAll = function () {\n\n        var _tempArr = _alertList;\n\n        for (var i = 0; i < _tempArr.length; i++) {\n\n            _tempArr[i].Hide();\n        }\n\n        _alertList = [];\n    };\n\n    /**\n     * 设置提示框样式配置\n     * @param {object} config\n     * @method  ds.ui.PopAlert.setConfig\n     */\n    ds.ui.PopAlert.setConfig = function (config) {\n\n        if (config.color !== undefined) _alertConfig.color = config.color; //字体颜色  默认#000;\n        if (config.panelColor !== undefined) _alertConfig.panelColor = config.panelColor; //字体颜色  默认#000;\n        if (config.bgColor !== undefined) _alertConfig.bgColor = config.bgColor; //字体颜色  默认#000;\n        if (config.bgAlpha !== undefined) _alertConfig.bgAlpha = config.bgAlpha; //字体颜色  默认#000;\n    };\n\n    /**\n     * 设置提示框样式配置\n     * @method  ds.alert\n     * @see ds.alert 实际等同于 {@link ds.ui.PopAlert.alert}\n     */\n    ds.alert = ds.ui.PopAlert.alert;\n\n    return ds.ui.PopAlert;\n});\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(15), __webpack_require__(8)))\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/ds/ui/PopAlert.js\n// module id = 112\n// module chunks = 0\n\n//# sourceURL=webpack:///./src/ds/ui/PopAlert.js?")},function(module,exports,__webpack_require__){"use strict";eval("/* WEBPACK VAR INJECTION */(function(process, global) {var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;\n\nvar _assign = __webpack_require__(105);\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nvar _typeof2 = __webpack_require__(9);\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n//这个类使用老js方法，有可能直接插入html标签内使用\n!function (factory) {\n\n    var root = typeof window !== 'undefined' ? window : (typeof process === 'undefined' ? 'undefined' : (0, _typeof3.default)(process)) === 'object' && \"function\" === 'function' && (typeof global === 'undefined' ? 'undefined' : (0, _typeof3.default)(global)) === 'object' ? global : this;\n\n    if (true) {\n\n        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [exports], __WEBPACK_AMD_DEFINE_RESULT__ = function (exports) {\n\n            module.exports = factory(root, exports);\n        }.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n    } else if (typeof exports !== 'undefined') {\n\n        module.exports = factory(root, exports);\n    } else {\n\n        factory(root, {});\n    }\n}(function (root, model) {\n\n    var ds = root.ds = root.ds || {};\n    ds.net = ds.net || {};\n\n    /**\n     * 快速Ajax交互请求\n     * @module ds/net/QueueLoad\n     *\n     */\n    var QueueLoad = {};\n\n    /**\n     * 快速Ajax交互请求\n     * @member ds.net.QueueLoad\n     * @type module:ds/net/QueueLoad\n     */\n    ds.net.QueueLoad = QueueLoad;\n\n    (0, _assign2.default)(QueueLoad, /** @lends module:ds/net/QueueLoad */{\n\n        /**\n         * 加载队列\n         * @alias module:ds/net/QueueLoad.load\n         * @param {array} list\n         * @param {function} completeFun\n         * @param {function} progressFun\n         * @param {object} opts\n         * @return {array} 加载队列数组\n         */\n        load: function load(list, completeFun, progressFun, opts) {\n\n            opts = opts || {};\n            var _complete = completeFun || null;\n            var _progress = progressFun || null;\n\n            var _list = [];\n            if (list && list.length > 0) _list = list;\n\n            var _basePath = opts.basePath !== undefined ? opts.basePath : '';\n            var _queueArr = [];\n            var _loadNum = 0;\n\n            if (_list.length <= 0) {\n\n                if (_complete !== undefined) _complete();\n                return;\n            }\n\n            for (var i = 0; i < _list.length; i++) {\n\n                var _obj = _list[i];\n\n                if (typeof _obj === 'string') _obj = { src: _obj };\n\n                _obj.src = _basePath + _obj.src;\n\n                var _img = new Image();\n                _img.onload = progress;\n                _img.onerror = progress;\n                _obj.img = _img;\n                _obj.loadEnd = false;\n                _queueArr.push(_obj);\n            }\n\n            //开始加载\n            startLoad();\n\n            //开始加载\n            function startLoad() {\n\n                _obj = _queueArr[0];\n                _img = _obj.img;\n                _img.src = _obj.src;\n            }\n\n            //队列加载完成\n            function complete() {\n\n                if (_progress) _progress(1);\n                if (_complete) _complete();\n            }\n\n            //队列加载进度\n            function progress() {\n\n                _obj = _queueArr[_loadNum];\n                _obj.loadEnd = true;\n                _loadNum++;\n\n                if (_loadNum >= _queueArr.length) {\n\n                    complete();\n                    return;\n                }\n\n                _obj = _queueArr[_loadNum];\n                _img = _obj.img;\n                _img.src = _obj.src;\n\n                if (_progress) _progress(_loadNum / _queueArr.length);\n            }\n\n            //给到加载对象队列 进行img索引复制操作\n            return _queueArr;\n        }\n\n    });\n\n    /**\n     * @member ds.net.post\n     * @function\n     * @see 详细请见： {@link module:ds/net/QueueLoad.load}\n     */\n    ds.net.queueLoad = ds.net.QueueLoad.load;\n\n    return ds.net.QueueLoad;\n});\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(15), __webpack_require__(8)))\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/ds/net/QueueLoad.js\n// module id = 113\n// module chunks = 0\n\n//# sourceURL=webpack:///./src/ds/net/QueueLoad.js?")},function(module,exports,__webpack_require__){eval("__webpack_require__(115);\nmodule.exports = __webpack_require__(7).Object.assign;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/_core-js@2.5.1@core-js/library/fn/object/assign.js\n// module id = 114\n// module chunks = 0\n\n//# sourceURL=webpack:///../node_modules/_core-js@2.5.1@core-js/library/fn/object/assign.js?")},function(module,exports,__webpack_require__){eval("// 19.1.3.1 Object.assign(target, source)\nvar $export = __webpack_require__(16);\n\n$export($export.S + $export.F, 'Object', { assign: __webpack_require__(116) });\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/_core-js@2.5.1@core-js/library/modules/es6.object.assign.js\n// module id = 115\n// module chunks = 0\n\n//# sourceURL=webpack:///../node_modules/_core-js@2.5.1@core-js/library/modules/es6.object.assign.js?")},function(module,exports,__webpack_require__){"use strict";eval("\n// 19.1.2.1 Object.assign(target, source, ...)\nvar getKeys = __webpack_require__(17);\nvar gOPS = __webpack_require__(31);\nvar pIE = __webpack_require__(18);\nvar toObject = __webpack_require__(39);\nvar IObject = __webpack_require__(45);\nvar $assign = Object.assign;\n\n// should work with symbols and should have deterministic property order (V8 bug)\nmodule.exports = !$assign || __webpack_require__(10)(function () {\n  var A = {};\n  var B = {};\n  // eslint-disable-next-line no-undef\n  var S = Symbol();\n  var K = 'abcdefghijklmnopqrst';\n  A[S] = 7;\n  K.split('').forEach(function (k) { B[k] = k; });\n  return $assign({}, A)[S] != 7 || Object.keys($assign({}, B)).join('') != K;\n}) ? function assign(target, source) { // eslint-disable-line no-unused-vars\n  var T = toObject(target);\n  var aLen = arguments.length;\n  var index = 1;\n  var getSymbols = gOPS.f;\n  var isEnum = pIE.f;\n  while (aLen > index) {\n    var S = IObject(arguments[index++]);\n    var keys = getSymbols ? getKeys(S).concat(getSymbols(S)) : getKeys(S);\n    var length = keys.length;\n    var j = 0;\n    var key;\n    while (length > j) if (isEnum.call(S, key = keys[j++])) T[key] = S[key];\n  } return T;\n} : $assign;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/_core-js@2.5.1@core-js/library/modules/_object-assign.js\n// module id = 116\n// module chunks = 0\n\n//# sourceURL=webpack:///../node_modules/_core-js@2.5.1@core-js/library/modules/_object-assign.js?")},function(module,exports,__webpack_require__){"use strict";eval("/* WEBPACK VAR INJECTION */(function(process, global) {var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;\n\nvar _assign = __webpack_require__(105);\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nvar _typeof2 = __webpack_require__(9);\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n//这个类使用老js方法，有可能直接插入html标签内使用\n!function (factory) {\n\n  var root = typeof window !== 'undefined' ? window : (typeof process === 'undefined' ? 'undefined' : (0, _typeof3.default)(process)) === 'object' && \"function\" === 'function' && (typeof global === 'undefined' ? 'undefined' : (0, _typeof3.default)(global)) === 'object' ? global : this;\n\n  if (true) {\n\n    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [exports], __WEBPACK_AMD_DEFINE_RESULT__ = function (exports) {\n\n      module.exports = factory(root, exports);\n    }.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n  } else if (typeof exports !== 'undefined') {\n\n    module.exports = factory(root, exports);\n  } else {\n\n    factory(root, {});\n  }\n}(function (root, ADTrack) {\n\n  var ds = root.ds = root.ds || {};\n  ds.net = ds.net || {};\n\n  /**\n   * 快速添加监测代码\n   * @module ds/net/ADTrack\n   *\n   */\n  ADTrack;\n\n  /**\n   * 快速添加监测代码\n   * @member ds.net.ADTrack\n   * @type module:ds/net/ADTrack\n   */\n  ds.net.ADTrack = ADTrack;\n\n  (0, _assign2.default)(ADTrack, /** @lends module:ds/net/ADTrack */{\n\n    /**\n     * 百度虚拟PV\n     * @alias module:ds/net/ADTrack.baiduPV\n     * @param  {string} pageurl [如 '/virtual/login']\n     */\n    baiduPV: function baiduPV(pageurl) {\n\n      if (window['_hmt'] === undefined) return;\n\n      if (pageurl.indexOf('/') !== 0) pageurl = '/' + pageurl;\n\n      _hmt.push(['_trackPageview', pageurl]);\n      // console.log('baiduPV:', pageurl);\n    },\n    /**\n     * 百度监测事件\n     * @alias module:ds/net/ADTrack.baiduEvent\n     * @param  {string} opt_label [必填【百度描述】事件的一些额外信息，通常可以是歌曲的名称、软件的名称、链接的名称等等。该项选填，不填、填\"-\"代表此项为空。。]\n     * @param  {string} [opt_value='1'] [默认one【百度描述】事件的一些数值信息，比如权重、时长、价格等等，在报表中可以看到其平均值等数据。该项可选。]\n     * @param  {string} [category='Event']  [默认Event【百度描述】要监控的目标的类型名称，通常是同一组目标的名字，比如\"视频\"、\"音乐\"、\"软件\"、\"游戏\"等等。该项必填，不填、填\"-\"的事件会被抛弃。]\n     * @param  {string} [action='Click']    [默认Click【百度描述】用户跟目标交互的行为，如\"播放\"、\"暂停\"、\"下载\"等等。该项必填，不填、填\"-\"的事件会被抛弃。]\n     */\n    baiduEvent: function baiduEvent(opt_label, opt_value, category, action) {\n\n      if (window['_hmt'] === undefined) return;\n      if (!category) category = 'Event';\n      if (!action) action = 'Click';\n      if (!opt_value) opt_value = '1';\n      if (!opt_label) return;\n      _hmt.push(['_trackEvent', category, action, opt_label, opt_value]);\n      // console.log('baiduEvent:', opt_label);\n    },\n    /**\n     * Google的PV\n     * @alias module:ds/net/ADTrack.gaPV\n     * @param  {string} pageurl [如 '/virtual/login']\n     */\n    gaPV: function gaPV(pageurl) {\n\n      if (window['ga'] === undefined) return;\n      if (pageurl.indexOf('/') !== 0) pageurl = '/' + pageurl;\n      ga('send', 'pageview', pageurl);\n    },\n    /**\n     * Google的监测事件\n     * @param  {string} opt_label [必填【百度描述】事件的一些额外信息，通常可以是歌曲的名称、软件的名称、链接的名称等等。该项选填，不填、填\"-\"代表此项为空。。]\n     * @param  {number} [opt_value=1] [默认one【百度描述】事件的一些数值信息，比如权重、时长、价格等等，在报表中可以看到其平均值等数据。该项可选。]\n     * @param  {string} [category='Event']  [默认Event【百度描述】要监控的目标的类型名称，通常是同一组目标的名字，比如\"视频\"、\"音乐\"、\"软件\"、\"游戏\"等等。该项必填，不填、填\"-\"的事件会被抛弃。]\n     * @param  {string} [action='Click']    [默认Click【百度描述】用户跟目标交互的行为，如\"播放\"、\"暂停\"、\"下载\"等等。该项必填，不填、填\"-\"的事件会被抛弃。]\n     */\n    gaEvent: function gaEvent(opt_label, opt_value, category, action) {\n\n      if (window['ga'] === undefined) return;\n      if (!category) category = 'Event';\n      if (!action) action = 'Click';\n      if (!opt_value) opt_value = 1;\n      if (!opt_label) return;\n\n      ga('send', {\n        hitType: 'event',\n        eventCategory: category,\n        eventAction: action,\n        eventLabel: opt_label,\n        eventValue: Number(opt_value)\n      });\n    },\n    /**\n     * 虚拟pv(同时加百度与Google)\n     * @alias module:ds/net/ADTrack.pv\n     * @param  {string} pageurl [如 '/virtual/login']\n     */\n    pv: function pv(pageurl) {\n\n      ds.net.baiduPV(pageurl);\n      ds.net.gaPV(pageurl);\n    },\n    /**\n     * 事件监测(同时加百度与Google)\n     * @param  {string} opt_label [必填【百度描述】事件的一些额外信息，通常可以是歌曲的名称、软件的名称、链接的名称等等。该项选填，不填、填\"-\"代表此项为空。。]\n     * @param  {number} [opt_value=1] [默认one【百度描述】事件的一些数值信息，比如权重、时长、价格等等，在报表中可以看到其平均值等数据。该项可选。]\n     * @param  {string} [category='Event']  [默认Event【百度描述】要监控的目标的类型名称，通常是同一组目标的名字，比如\"视频\"、\"音乐\"、\"软件\"、\"游戏\"等等。该项必填，不填、填\"-\"的事件会被抛弃。]\n     * @param  {string} [action='Click']    [默认Click【百度描述】用户跟目标交互的行为，如\"播放\"、\"暂停\"、\"下载\"等等。该项必填，不填、填\"-\"的事件会被抛弃。]\n     */\n    event: function event(opt_label, opt_value, category, action) {\n\n      ds.net.baiduEvent(opt_label, opt_value, category, action);\n      ds.net.gaEvent(opt_label, opt_value, category, action);\n    }\n  });\n\n  /**\n   * @member ds.net.baiduPV\n   * @function\n   * @see 详细请见： {@link module:ds/net/ADTrack.baiduPV}\n   */\n  ds.net.baiduPV = ds.net.ADTrack.baiduPV;\n\n  /**\n   * @member ds.net.baiduEvent\n   * @function\n   * @see 详细请见： {@link module:ds/net/ADTrack.baiduEvent}\n   */\n  ds.net.baiduEvent = ds.net.ADTrack.baiduEvent;\n\n  /**\n   * @member ds.net.gaPV\n   * @function\n   * @see 详细请见： {@link module:ds/net/ADTrack.gaPV}\n   */\n  ds.net.gaPV = ds.net.ADTrack.gaPV;\n\n  /**\n   * @member ds.net.gaEvent\n   * @function\n   * @see 详细请见： {@link module:ds/net/ADTrack.gaEvent}\n   */\n  ds.net.gaEvent = ds.net.ADTrack.gaEvent;\n\n  /**\n   * @member ds.net.pv\n   * @function\n   * @see 详细请见： {@link module:ds/net/ADTrack.pv}\n   */\n  ds.net.pv = ds.net.ADTrack.pv;\n\n  /**\n   * @member ds.net.event\n   * @function\n   * @see 详细请见： {@link module:ds/net/ADTrack.pv}\n   */\n  ds.net.event = ds.net.ADTrack.event;\n\n  return ds.net.ADTrack;\n});\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(15), __webpack_require__(8)))\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/ds/net/ADTrack.js\n// module id = 117\n// module chunks = 0\n\n//# sourceURL=webpack:///./src/ds/net/ADTrack.js?")},function(module,exports,__webpack_require__){"use strict";eval("\n\n__webpack_require__(119); //快速数据请求\n\nfunction APIManager() {\n\n    var _self = this;\n\n    //事件继承\n    ds.EventDispatcher.extend(this);\n\n    //是否本地\n    var _isLocal = false;\n    if (location.href.indexOf(':800') !== -1) _isLocal = true;\n    //记录网站实际地址，给到获取绝对图片路径时候使用\n    var _webUrl = location.origin; //'http://nongfurunningchina.ne.cagoe.com';\n    Object.defineProperty(this, \"WebUrl\", {\n        get: function get() {\n            return _webUrl;\n        }\n    });\n\n    //接口对接==有接口相关从这里开始编写===============================\n\n    //=================接口方式参考Start==================\n    var _dataUrl = location.origin + '/ajax/Ajax.aspx?method=data';\n    if (_isLocal) _dataUrl = 'testApi/data.txt';\n    var _testAPIing = false;\n    this.testApi = function (postData, callBack, errorBack) {\n\n        if (_testAPIing) return;\n        _testAPIing = true;\n\n        ds.net.post(_dataUrl, postData, function (data) {\n\n            if (callBack) callBack(data);\n            _testAPIing = false;\n        }, function () {\n\n            if (errorBack) errorBack(error, data);\n            _testAPIing = false;\n        }, { dataType: 'jsonp' });\n    };\n}\n\nmodule.exports = new APIManager();\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/APIManager.js\n// module id = 118\n// module chunks = 0\n\n//# sourceURL=webpack:///./src/app/APIManager.js?")},function(module,exports,__webpack_require__){"use strict";eval("/* WEBPACK VAR INJECTION */(function(process, global) {var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;\n\nvar _stringify = __webpack_require__(120);\n\nvar _stringify2 = _interopRequireDefault(_stringify);\n\nvar _assign = __webpack_require__(105);\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nvar _typeof2 = __webpack_require__(9);\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n//这个类使用老js方法，有可能直接插入html标签内使用\n!function (factory) {\n\n    var root = typeof window !== 'undefined' ? window : (typeof process === 'undefined' ? 'undefined' : (0, _typeof3.default)(process)) === 'object' && \"function\" === 'function' && (typeof global === 'undefined' ? 'undefined' : (0, _typeof3.default)(global)) === 'object' ? global : this;\n\n    if (true) {\n\n        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [exports], __WEBPACK_AMD_DEFINE_RESULT__ = function (exports) {\n\n            module.exports = factory(root, exports);\n        }.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n    } else if (typeof exports !== 'undefined') {\n\n        module.exports = factory(root, exports);\n    } else {\n\n        factory(root, {});\n    }\n}(function (root, QuickAjax) {\n\n    var ds = root.ds = root.ds || {};\n    ds.net = ds.net || {};\n\n    /**\n     * 快速Ajax交互请求\n     * @module ds/net/QuickAjax\n     *\n     */\n    QuickAjax;\n\n    /**\n     * 快速Ajax交互请求\n     * @member ds.net.QuickAjax\n     * @type module:ds/net/QuickAjax\n     */\n    ds.net.QuickAjax = QuickAjax;\n\n    //是否本地测试\n    var _isLocalDebug = false;\n    if (location.href.indexOf(':800') !== -1) _isLocalDebug = true;\n\n    (0, _assign2.default)(QuickAjax, /** @lends module:ds/net/QuickAjax */{\n\n        /**\n         * 快速post请求操作\n         * @alias module:ds/net/QuickAjax.post\n         * @param {string} url 请求api的url地址\n         * @param {object} postData  提交api的参数\n         * @param {function} callBack  成功后回调\n         * @param {function} errorBack 识别后的回调\n         * @param {object} [opts={}]  ajax请求需要额外设置参数\n         * @param {string} [opts.success='IsSuccess'] 判断是否成功验证字段\n         * @param {string} [opts.error='ErrMsg'] 判断失败后，失败原因提示字段\n         * @param {string} [opts.dataType=undefined]  请求类型，比如可以指定是jsonp方式跨域请求\n         * @param {boolean} [opts.isCrossDomain=undefined] 是需要根据url进行判断是否需要jsonp跨域请求\n         */\n        post: function post(url, postData, callBack, errorBack, opts) {\n\n            var _type = 'POST';\n            var _postData = postData || {};\n            opts = opts || {};\n            var _successTags = opts.success || 'IsSuccess';\n            var _errorTags = opts.error || 'ErrMsg';\n\n            if (_isLocalDebug) _type = 'GET';\n            if (opts.dataType && opts.dataType === 'jsonp') _type = 'GET';\n\n            if (opts.isCrossDomain) {\n\n                if (url.indexOf(location.host) < 0) {\n\n                    opts.dataType = 'jsonp';\n                    _type = 'GET';\n                }\n            }\n\n            console.log('QuickAjax Post:', url, _postData);\n\n            $.ajax({\n                type: _type,\n                url: url,\n                dataType: opts.dataType || 'json',\n                data: _postData,\n                success: function success(data) {\n\n                    console.log('post End:' + url + 'data type:', (typeof data === 'undefined' ? 'undefined' : (0, _typeof3.default)(data)) + ':', data);\n                    //如果是字符串 转下 object\n                    if (typeof data === 'string') data = eval(data);\n                    //JSON.parse(data);\n\n                    if (data && data[_successTags] !== undefined && Number(data[_successTags]) === 1) {\n\n                        if (callBack) callBack(data);\n                    } else {\n\n                        if (errorBack && data[_errorTags]) errorBack(data[_errorTags], data);else errorBack('接口错误', data);\n                    }\n                },\n                error: function error(xhr, type) {\n\n                    console.log('error:', xhr, type);\n                    if (errorBack) errorBack('网络异常');\n                }\n\n            });\n        },\n\n        /**\n         * 快速post请求操作\n         * @alias module:ds/net/QuickAjax.get\n         * @param {string} url 请求api的url地址\n         * @param {object} postData  提交api的参数\n         * @param {function} callBack  成功后回调\n         * @param {function} errorBack 识别后的回调\n         * @param {object} [opts={}]  ajax请求需要额外设置参数\n         * @param {string} [opts.success='IsSuccess'] 判断是否成功验证字段\n         * @param {string} [opts.error='ErrMsg'] 判断失败后，失败原因提示字段\n         * @param {string} [opts.dataType=undefined]  请求类型，比如可以指定是jsonp方式跨域请求\n         * @param {boolean} [opts.isCrossDomain=undefined] 是需要根据url进行判断是否需要jsonp跨域请求\n         */\n        get: function get(url, postData, callBack, errorBack, opts) {\n\n            var _type = 'GET';\n            var _url = url;\n            opts = opts || {};\n\n            var _successTags = opts.success !== undefined ? opts.success : 'IsSuccess';\n            var _errorTags = opts.error !== undefined ? opts.error : 'ErrMsg';\n\n            //把数据转成地址栏参数\n            if (postData) {\n                var _parameter = '';\n                var _pdata;\n                var _num = 0;\n                for (var variable in _postData) {\n\n                    if (object.hasOwnProperty(variable)) {\n\n                        _pdata = _parameter[variable];\n\n                        if ((typeof _pdata === 'undefined' ? 'undefined' : (0, _typeof3.default)(_pdata)) === 'object') _parameter += '&' + variable + '=' + (0, _stringify2.default)(_pdata);else _parameter += '&' + variable + '=' + _pdata;\n                    }\n                }\n\n                // console.warn('QuickAjax Get Url 没有?开头参数 程序自动拼接：', _url);\n                if (_url.indexOf('?') === -1) _url = _url + '?' + _parameter.slice(1);else _url = _url + _parameter;\n            }\n\n            console.log('QuickAjax Get:', url, _postData);\n\n            $.ajax({\n                type: _type,\n                url: _url,\n                dataType: opts.dataType || 'json',\n                // data: _postData,\n                success: function success(data) {\n\n                    //如果是字符串 转下 object,尽量使用JSON.parse进行转换。\n                    // if (typeof(data) === 'string') data = eval(data);\n                    if (typeof data === 'string') JSON.parse(data);\n\n                    console.log('get End: ' + url + ':', data);\n                    if (data && data[_successTags] !== undefined && Number(data[_successTags]) === 1) {\n\n                        if (callBack) callBack(data);\n                    } else {\n\n                        if (errorBack && data[_errorTags]) errorBack(data[_errorTags], data);else errorBack('接口错误', data);\n                    }\n                },\n                error: function error(xhr, type) {\n\n                    if (errorBack) errorBack('网络异常');\n                }\n\n            });\n        },\n        /**\n         * 获取地址上面的?后的参数\n         * @alias module:ds/net/QuickAjax.getUrlParameter\n         * @param {string} name 参数对象名\n         * @param {string} [url = location.href] url地址\n         * @return {string} 参数值\n         */\n        getUrlParameter: function getUrlParameter(name, url) {\n\n            if (url === undefined || url === null) url = location.href;\n\n            var pattern = new RegExp(\"[?&]\" + name + \"\\=([^&]+)\", \"g\");\n            var matcher = pattern.exec(url);\n            var items = null;\n\n            if (null !== matcher) {\n\n                try {\n\n                    items = decodeURIComponent(decodeURIComponent(matcher[1]));\n                } catch (e) {\n\n                    try {\n\n                        items = decodeURIComponent(matcher[1]);\n                    } catch (e) {\n\n                        items = matcher[1];\n                    }\n                }\n            }\n\n            return items;\n        },\n\n        /**\n         * 替换地址内的参数的值然后返回替换后的链接\n         * @alias module:ds/net/QuickAjax.replaceUrlParam\n         * @param {string} url [地址]\n         * @param {string} name  [参数名]\n         * @param {string} val  [值]\n         * @example 获取地址上面的GameID参数\n         * @example\n         *\n         * ds.net.replaceUrlParam(location.href, \"GameID\",2);\n         *\n         */\n        replaceUrlParam: function replaceUrlParam(url, name, val) {\n\n            var pattern = name + '=([^&]*)';\n            var replaceText = name + '=' + val;\n            return url.match(pattern) ? url.replace(eval('/(' + name + '=)([^&]*)/gi'), replaceText) : url.match('[\\?]') ? url + '&' + replaceText : url + '?' + replaceText;\n        },\n\n        /**\n         * 获取地址栏参数索引对象\n         * @alias module:ds/net/QuickAjax.getUrlParameterDictionary\n         * @param {string} [url = location.href] url地址\n         * @return {object} 参数值\n         */\n        getUrlParameterDictionary: function getUrlParameterDictionary(url) {\n\n            if (url === undefined || url === null) url = location.href;\n\n            var _name, _value;\n            var _num = url.indexOf(\"?\");\n\n            url = url.substr(_num + 1);\n            // console.log(url);\n\n            var _request = null;\n            var arr = url.split(\"&\"); //各个参数放到数组里\n\n            for (var i = 0; i < arr.length; i++) {\n\n                _num = arr[i].indexOf(\"=\");\n                if (_num > 0) {\n\n                    _name = arr[i].substring(0, _num);\n                    _value = arr[i].substr(_num + 1);\n\n                    if (!_request) _request = {};\n                    _request[_name] = _value;\n                }\n            }\n\n            return _request;\n        }\n\n    });\n    /**\n     * @member ds.net.post\n     * @function\n     * @see 详细请见： {@link module:ds/net/QuickAjax.post}\n     */\n    ds.net.post = ds.net.QuickAjax.post;\n    /**\n     * @member ds.net.get\n     * @function\n     * @see 详细请见： {@link module:ds/net/QuickAjax.get}\n     */\n    ds.net.get = ds.net.QuickAjax.get;\n    /**\n     * @member ds.net.getUrlParameter\n     * @function\n     * @see 详细请见： {@link module:ds/net/QuickAjax.getUrlParameter}\n     */\n    ds.net.getUrlParameter = ds.net.QuickAjax.getUrlParameter;\n    /**\n     * @member ds.net.getUrlParameterDictionary\n     * @function\n     * @see 详细请见： {@link module:ds/net/QuickAjax.getUrlParameterDictionary}\n     */\n    ds.net.getUrlParameterDictionary = ds.net.QuickAjax.getUrlParameterDictionary;\n\n    /**\n     * @member ds.net.replaceUrlParam\n     * @function\n     * @see 详细请见： {@link module:ds/net/QuickAjax.replaceUrlParam}\n     */\n    ds.net.replaceUrlParam = ds.net.QuickAjax.replaceUrlParam;\n\n    return ds.net.QuickAjax;\n});\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(15), __webpack_require__(8)))\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/ds/net/QuickAjax.js\n// module id = 119\n// module chunks = 0\n\n//# sourceURL=webpack:///./src/ds/net/QuickAjax.js?")},function(module,exports,__webpack_require__){eval('module.exports = { "default": __webpack_require__(121), __esModule: true };\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/_babel-runtime@6.26.0@babel-runtime/core-js/json/stringify.js\n// module id = 120\n// module chunks = 0\n\n//# sourceURL=webpack:///../node_modules/_babel-runtime@6.26.0@babel-runtime/core-js/json/stringify.js?')},function(module,exports,__webpack_require__){eval("var core = __webpack_require__(7);\nvar $JSON = core.JSON || (core.JSON = { stringify: JSON.stringify });\nmodule.exports = function stringify(it) { // eslint-disable-line no-unused-vars\n  return $JSON.stringify.apply($JSON, arguments);\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/_core-js@2.5.1@core-js/library/fn/json/stringify.js\n// module id = 121\n// module chunks = 0\n\n//# sourceURL=webpack:///../node_modules/_core-js@2.5.1@core-js/library/fn/json/stringify.js?")},function(module,exports,__webpack_require__){"use strict";eval("/* WEBPACK VAR INJECTION */(function(process, global) {\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _typeof2 = __webpack_require__(9);\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nvar _getPrototypeOf = __webpack_require__(72);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(70);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(71);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(73);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(74);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _EventDispatcher2 = __webpack_require__(69);\n\nvar _EventDispatcher3 = _interopRequireDefault(_EventDispatcher2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * 网站页面跳转管理模块\n * @class\n * @memberof ds.gemo\n * @requires module:libs/createjs/createjs0.8.2.min.js\n * @requires module:ds/core/EventDispatcher.js\n */\nvar SitePageManager = function (_EventDispatcher) {\n    (0, _inherits3.default)(SitePageManager, _EventDispatcher);\n\n    /**\n     *\n     */\n    function SitePageManager() {\n        (0, _classCallCheck3.default)(this, SitePageManager);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (SitePageManager.__proto__ || (0, _getPrototypeOf2.default)(SitePageManager)).call(this));\n\n        _this._pageDc = {};\n        _this._pageList = [];\n        _this._pageLabel = '';\n        _this._pageModel = null;\n        _this._oldPageLabel = '';\n        _this._oldPageModel = null;\n        _this._history = [];\n        _this._historyIndex = 0;\n\n        return _this;\n    }\n\n    /**\n     * 调整页面模块\n     * @param {string} value 跳转的页面标识\n     * @param {boolean} [history=true] 是否添加进历史记录\n     */\n\n\n    (0, _createClass3.default)(SitePageManager, [{\n        key: 'gotoPage',\n        value: function gotoPage(value, history) {\n\n            if (this._pageLabel === value) return;\n\n            var _temp = this._pageDc[value];\n\n            if (!_temp) return;\n\n            this._oldPageLabel = this._pageLabel;\n\n            this._pageLabel = value;\n            this._oldPageModel = this._pageModel;\n\n            //是否添加进历史记录\n            history = history !== undefined ? history : true;\n            //记录页面标识的历史记录\n            if (this._oldPageLabel !== '' && history) {\n\n                this._history.push(this._oldPageLabel);\n                this._historyIndex = this._history.length - 1;\n            }\n\n            this._pageModel = _temp;\n            if (this._pageModel) {\n\n                if (this._pageModel.MovieIn) this._pageModel.MovieIn();else if (this._pageModel.movieIn) this._pageModel.movieIn();\n            }\n\n            /**\n             * @event ds.gemo.SitePageManager#update\n             * @type {object}\n             * @property {string} type='update' 事件类型\n             * @property {string} label 当前页面标识\n             * @property {string} oldLabel 之前页面标识\n             * @property {*} page 当前页面对象\n             * @property {*} oldPage 之前页面对象\n             */\n            this.ds({\n                type: 'update',\n                label: this.pageLabel,\n                page: this.pageModel,\n                oldPage: this.oldPageModel,\n                oldLabel: this.oldPageLabel\n            });\n        }\n\n        /**\n         * 上一个历史记录页面\n         */\n\n    }, {\n        key: 'previousHistory',\n        value: function previousHistory() {\n\n            if (this._history.length <= 0) return;\n            var _num = this._historyIndex - 1;\n            if (_num <= 0) _num = 0;\n\n            var _label = this._history[_num];\n            this.gotoPage(_label, false);\n        }\n\n        /**\n         * 下一个历史记录页面\n         */\n\n    }, {\n        key: 'nextHistory',\n        value: function nextHistory() {\n\n            if (this._history.length <= 0) return;\n            var _num = this._historyIndex + 1;\n            if (_num >= this._history.length) _num = this._history.length - 1;\n\n            var _label = this._history[_num];\n            this.gotoPage(_label, false);\n        }\n\n        /**\n         * 添加页面模块\n         * @param {*} page 一个页面对象，最好需要拥有name属性，这个会作为页面的标识名\n         */\n\n    }, {\n        key: 'add',\n        value: function add(page) {\n\n            if (this._pageList.indexOf(page) !== -1) return;\n\n            if (page.name) {\n\n                this._pageDc[page.name] = page;\n                this._pageList.push(page);\n            } else {\n\n                var _name = 'DsPage' + this._pageList.length;\n                page.name = _name;\n                this._pageDc[page.name] = page;\n                this._pageList.push(page);\n            }\n        }\n\n        /**\n         * 页面索引字典\n         * @return {object}\n         */\n\n    }, {\n        key: 'pageDc',\n        get: function get() {\n\n            return this._pageDc;\n        }\n\n        /**\n         * 页面列表\n         * @return {Array}\n         */\n\n    }, {\n        key: 'pageList',\n        get: function get() {\n\n            return this._pageList;\n        }\n\n        /**\n         * 当前页面标识\n         * @return {string}\n         */\n\n    }, {\n        key: 'pageLabel',\n        get: function get() {\n\n            return this._pageLabel;\n        }\n\n        /**\n         * 当前页面模块\n         * @return {*}\n         */\n\n    }, {\n        key: 'pageModel',\n        get: function get() {\n\n            return this._pageModel;\n        }\n\n        /**\n         * 旧的页面标识\n         * @return {string}\n         */\n\n    }, {\n        key: 'oldPageLabel',\n        get: function get() {\n\n            return this._oldPageLabel;\n        }\n\n        /**\n         * 旧的页面模块\n         * @return {null}\n         */\n\n    }, {\n        key: 'oldPageModel',\n        get: function get() {\n\n            return this._oldPageModel;\n        }\n\n        /**\n         * 历史记录\n         * @return {Array}\n         */\n\n    }, {\n        key: 'history',\n        get: function get() {\n\n            return this._history;\n        }\n    }]);\n    return SitePageManager;\n}(_EventDispatcher3.default);\n\nvar root = typeof window !== 'undefined' ? window : (typeof process === 'undefined' ? 'undefined' : (0, _typeof3.default)(process)) === 'object' && \"function\" === 'function' && (typeof global === 'undefined' ? 'undefined' : (0, _typeof3.default)(global)) === 'object' ? global : undefined;\nvar ds = root.ds = root.ds || {};\nds.gemo = ds.gemo || {};\nds.gemo.SitePageManager = SitePageManager;\n\nexports.default = SitePageManager;\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(15), __webpack_require__(8)))\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/ds/gemo/SitePageManager.js\n// module id = 122\n// module chunks = 0\n\n//# sourceURL=webpack:///./src/ds/gemo/SitePageManager.js?")},function(module,exports,__webpack_require__){"use strict";eval("/* WEBPACK VAR INJECTION */(function(process, global) {var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;\n\nvar _typeof2 = __webpack_require__(9);\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n//这个类使用老js方法，有可能直接插入html标签内使用\n!function (factory) {\n\n    var root = typeof window !== 'undefined' ? window : (typeof process === 'undefined' ? 'undefined' : (0, _typeof3.default)(process)) === 'object' && \"function\" === 'function' && (typeof global === 'undefined' ? 'undefined' : (0, _typeof3.default)(global)) === 'object' ? global : this;\n\n    if (true) {\n\n        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [exports], __WEBPACK_AMD_DEFINE_RESULT__ = function (exports) {\n\n            module.exports = factory(root, exports);\n        }.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n    } else if (typeof exports !== 'undefined') {\n\n        module.exports = factory(root, exports);\n    } else {\n\n        factory(root);\n    }\n}(function (root, model) {\n\n    /**\n     * 站点通用加载方法模块，一般配合ds.core.SiteModelByMobile实例使用\n     * @class ds.net.CagoeWechatShareModel\n     * @param {string} title='分享标题' 分享标题\n     * @param {string} info='分享内容' 分享内容\n     * @param {string} shareUrl='/index.html' 分享链接\n     * @param {string} workUrl='/index.html?WorkID=' 作品回流分享链接\n     */\n    function CagoeWechatShareModel(title, info, shareUrl, workUrl) {\n\n        var _self = this;\n\n        //设置默认标题\n        var _shareTitle = title || '分享标题';\n        //设置默认内容\n        var _shareInfo = info || '分享内容';\n        //设置默认链接\n        var _shareUrl = shareUrl !== undefined ? getAbsoluteUrl(shareUrl) : getAbsoluteUrl('/index.html');\n        //作品回流页面地址\n        var _workPageUrl = workUrl !== undefined ? getAbsoluteUrl(workUrl) : getAbsoluteUrl('/index.html?WorkID=');\n\n        /**\n         * 作品回流页面地址\n         * @member ds.net.CagoeWechatShareModel.prototype.workPageUrl\n         * @type {string}\n         */\n        Object.defineProperty(this, \"workPageUrl\", {\n            get: function get() {\n                return _workPageUrl;\n            },\n            set: function set(value) {\n                _workPageUrl = value;\n            }\n        });\n\n        /**\n         * 是否作品回流页面\n         * @member ds.net.CagoeWechatShareModel.prototype.isWorkBackSharePage\n         * @type {boolean}\n         */\n        this.isWorkBackSharePage = false;\n\n        /**\n         * 默认微信分享接口\n         * @method ds.net.CagoeWechatShareModel.prototype.defaultWeiShare\n         * @param  {string} title [分享标题 默认 _shareTitle]\n         * @param  {string} info  [分享内容 默认 _shareInfo]\n         * @param  {string} url   [分享链接地址 默认 _shareUrl 传参参考：'/index.html','index.html','http://xxx.xx.com/index.html' ]\n         * @param  {string} domain  [设定需要使用指定的域分享接口地址  如：\"zedigital.com.cn\" ，那接口地址会按\"http://wechat.\"+domain+\".cn/JsApiWXConfig.aspx\" 进行拼接 ]\n         */\n        this.defaultWeiShare = function (title, info, url, domain) {\n\n            //插入分享接口js文件\n            SiteModel.getScript('./js/libs/cagoeShare.js', function () {\n\n                if (location.href.indexOf('github.io') !== -1) return;\n\n                try {\n\n                    if (!CallJsApiWXConfigItf) {\n\n                        console.log('分享接口./js/libs/cagoeShare.js 存在问题，请检查');\n                        return;\n                    }\n                } catch (e) {\n\n                    return;\n                }\n\n                var _apiUrl = \"http://wechat.cagoe.com/JsApiWXConfig.aspx\";\n\n                if (location.href.indexOf(domain) !== -1) _apiUrl = \"http://wechat.\" + domain + \"/JsApiWXConfig.aspx\";\n\n                CallJsApiWXConfigItf(_apiUrl);\n\n                //回流页面走的流程\n                if (location.href.indexOf(_workPageUrl) !== -1) {\n\n                    _self.isWorkBackSharePage = true;\n                    _self.defaultWorkPageWeiShare(title, info);\n                }\n                //默认页面分享\n                else {\n\n                        _self.setWeiShare(title, info, url);\n                    }\n            });\n        };\n        /**\n         * 设置微信分享\n         * @method ds.net.CagoeWechatShareModel.prototype.setWeiShare\n         * @param  {string} title [分享标题 默认 _shareTitle]\n         * @param  {string} info  [分享内容 默认 _shareInfo]\n         * @param  {string} url   [分享链接地址 默认 _shareUrl 传参参考：'/index.html','index.html','http://xxx.xx.com/index.html' ]\n         */\n        this.setWeiShare = function (title, info, url) {\n\n            _shareTitle = title || _shareTitle;\n            _shareInfo = info || _shareInfo;\n\n            if (url && url.indexOf('http:') < 0 && url.indexOf('https:') < 0) url = getAbsoluteUrl(url);\n\n            _shareUrl = url || _shareUrl;\n\n            //进行分享设置\n            SetWechatShare(_shareTitle, _shareInfo, _shareUrl, \"images/ShareImg.jpg\", function () {\n\n                ds.event('WechatShare');\n            });\n\n            SetWechatShareToFriend(_shareTitle, _shareInfo);\n            SetWechatShareToTimeline(_shareInfo, _shareInfo);\n        };\n\n        /**\n         * 设置回流页面分享\n         * @method ds.net.CagoeWechatShareModel.prototype.setWorkIDWeiShare\n         * @param  {string} workid [作品回流页面地址  如：100' 等于 location.origin+'/index.html?WorkID='+'100']\n         * @param  {string} title  [分享标题]\n         * @param  {string} info   [分享内容]\n         */\n        this.setWorkIDWeiShare = function (workid, title, info) {\n\n            title = title || _shareTitle;\n            info = info || _shareInfo;\n\n            var _url = _workPageUrl + workid;\n\n            SetWechatShare(title, info, _url, \"images/ShareImg.jpg\", function () {\n\n                ds.event('WechatShare');\n            });\n\n            SetWechatShareToFriend(title, info);\n            SetWechatShareToTimeline(info, info);\n        };\n\n        /**\n         * 默认作品回流分享\n         * @method ds.net.CagoeWechatShareModel.prototype.defaultWorkPageWeiShare\n         * @param  {string} title  [分享标题]\n         * @param  {string} info   [分享内容]\n         */\n        this.defaultWorkPageWeiShare = function (title, info) {\n\n            //获取地址栏参数字典\n            var _urlParamDc = ds.net.getUrlParameterDictionary();\n\n            if (!_urlParamDc.WorkID) {\n\n                this.isWorkBackSharePage = false;\n\n                console.warn('地址内作品id参数不存在!');\n                return;\n            }\n\n            this.isWorkBackSharePage = true;\n\n            var _workid = _urlParamDc.WorkID;\n\n            title = title || _shareTitle;\n            info = info || _shareInfo;\n\n            var _url = _workPageUrl + _workid;\n\n            SetWechatShare(title, info, _url, \"images/ShareImg.jpg\", function () {\n\n                ds.event('WechatShare');\n            });\n\n            SetWechatShareToFriend(title, info);\n            SetWechatShareToTimeline(info, info);\n        };\n\n        /**\n         * 隐藏微信按钮\n         * @method ds.net.CagoeWechatShareModel.prototype.hideMenuItems\n         * @param  {array} menuList [https://mp.weixin.qq.com/wiki?t=resource/res_main&id=mp1421141115]\n         */\n        this.hideMenuItems = function (menuList) {\n            menuList = menuList || [];\n            wx.hideMenuItems({\n                menuList: menuList // 要隐藏的菜单项，只能隐藏“传播类”和“保护类”按钮，所有menu项见附录3\n            });\n        };\n        /**\n         * 显示微信按钮\n         * @method ds.net.CagoeWechatShareModel.prototype.showMenuItems\n         * @param  {array} menuList [https://mp.weixin.qq.com/wiki?t=resource/res_main&id=mp1421141115]\n         */\n        this.showMenuItems = function () {\n            menuList = menuList || [];\n            wx.showMenuItems({\n                menuList: menuList // 要显示的菜单项，所有menu项见附录3\n            });\n        };\n\n        var _tempAnchor;\n        /**\n         * 获取绝对路径 **【受保护内部执行】**\n         * @access protected\n         * @param {string} url 相对路径\n         * @return {string}\n         *\n         */\n        function getAbsoluteUrl(url) {\n\n            if (url.indexOf(\"http:\") >= 0 || url.indexOf(\"https:\") >= 0) return url;\n\n            if (!_tempAnchor) _tempAnchor = document.createElement('a');\n            _tempAnchor.href = url;\n            url = _tempAnchor.href;\n\n            return url;\n        }\n    }\n\n    var ds = root.ds = root.ds || {};\n    ds.net = ds.net || {};\n    ds.net.CagoeWechatShareModel = CagoeWechatShareModel;\n\n    return ds.net.CagoeWechatShareModel;\n});\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(15), __webpack_require__(8)))\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/ds/net/CagoeWechatShareModel.js\n// module id = 123\n// module chunks = 0\n\n//# sourceURL=webpack:///./src/ds/net/CagoeWechatShareModel.js?")},function(module,exports,__webpack_require__){"use strict";eval("\n\n// import DeviceOrientationer from  'ds/gemo/DeviceOrientationer';\n\n/**\n * HomePage 使用CreateJs做页面dom\n * @type {module}\n **/\nfunction HomePage() {\n\n    var _Self = this;\n\n    this.name = 'HomePage';\n\n    //事件继承\n    // ds.EventDispatcher.extend(this);\n    //主模块\n    var _AppMain = SiteModel.appMain;\n    //如果有用到 pixi 部分代码\n    var _Root, _Stage, _PixiJsModel, _CreateJsModel;\n    if (SiteModel.pixiJsModel) {\n        _PixiJsModel = SiteModel.pixiJsModel;\n        _Root = _PixiJsModel.root;\n        _Stage = _PixiJsModel.stage;\n    } else if (SiteModel.createJsModel) {\n        _CreateJsModel = SiteModel.createJsModel;\n        _Root = _CreateJsModel.root;\n        _Stage = _CreateJsModel.stage;\n    }\n\n    //添加页面模块\n    var _pager = SiteModel.pager;\n    _pager.add(__webpack_require__(125));\n    _pager.add(__webpack_require__(127));\n    _pager.add(__webpack_require__(130));\n    _pager.add(__webpack_require__(131));\n    _pager.add(__webpack_require__(132));\n    _pager.add(__webpack_require__(133));\n    _pager.add(__webpack_require__(141));\n    _pager.add(__webpack_require__(143));\n    _pager.add(__webpack_require__(149));\n    _pager.add(__webpack_require__(153));\n    _pager.add(__webpack_require__(154));\n\n    var _View = new lib.HomePage();\n\n    _View.abtn0.on('click', function () {\n        ds.alert('快速alert,默认一个确定按钮', function () {\n            console.log('点击确认');\n        });\n    });\n\n    _View.abtn1.on('click', function () {\n        ds.alert('alert提示 2个按钮，请选择确定或者取消', {\n            btns: '确定,取消',\n            ok: function ok() {\n                console.log('点击确认');\n            },\n            no: function no() {\n                console.log('点击取消');\n            }\n        });\n    });\n\n    _View.abtn2.on('click', function () {\n\n        ds.alert('alert提示 关闭按钮', {\n            title: '警告页面',\n            btns: '确定,取消',\n            color: '#b3f7fd',\n            panelColor: \"#451c5f\",\n            hasClose: true,\n            ok: function ok() {\n                console.log('点击确认');\n            },\n            no: function no() {\n                console.log('点击取消');\n            }\n        });\n    });\n\n    _View.btn0.on('click', function () {\n\n        _AppMain.gotoPage('DomAutoScreen');\n    });\n    _View.btn1.on('click', function () {\n        _AppMain.gotoPage('CreatejsInput');\n    });\n\n    _View.btn2.on('click', function () {\n        _AppMain.gotoPage('HtmlPage');\n    });\n\n    _View.btn3.on('click', function () {\n        _AppMain.gotoPage('CreatejsGalley');\n    });\n    _View.btn4.on('click', function () {\n\n        _AppMain.gotoPage('DynamicFont');\n    });\n\n    _View.btn5.on('click', function () {\n        _AppMain.gotoPage('SelectImages');\n    });\n\n    _View.btn6.on('click', function () {\n\n        _AppMain.gotoPage('CreatejsScrollPanel');\n    });\n    _View.btn7.on('click', function () {\n\n        _AppMain.gotoPage('CreatejsAutoScreen');\n    });\n\n    _View.btn8.on('click', function () {\n        _AppMain.gotoPage('CreatejsDomMovie');\n    });\n\n    _View.btn9.on('click', function () {\n        _AppMain.gotoPage('WebGL2Stage');\n    });\n\n    _View.btn10.on('click', function () {\n        _AppMain.gotoPage('ThreejsPage');\n    });\n\n    //动画进场\n    this.MovieIn = function () {\n\n        _Root.removeAllChildren();\n        _Root.addChild(_View);\n\n        ReSize();\n    };\n\n    // require('ds/gemo/DeviceOrientationer');\n    // var _do=new ds.gemo.DeviceOrientationer();\n\n    // this.rotation=0;\n    // require('ds/gemo/SliderDistance');\n    // this.slider=new ds.gemo.SliderDistance(this,'rotation',{touchDom:'#screen'});\n\n\n    SiteModel.resizeModel.createOrientationTip();\n    SiteModel.resizeModel.on('resize', ReSize);\n\n    function ReSize() {\n        var _resizeModel = SiteModel.resizeModel;\n        var _width = _resizeModel.width;\n        var _height = _resizeModel.height;\n        var _actualH = _resizeModel.actualH;\n        var _pageScale = _resizeModel.pageScale;\n        var _isInputState = _resizeModel.isInputState;\n        var _horizontal = _resizeModel.horizontal;\n        var _screenWidth = _resizeModel.screenWidth;\n        var _densityDpi = _resizeModel.densityDpi;\n\n        if (_Self.name !== SiteModel.pager.pageLabel) return;\n        if (_horizontal) {\n            SiteModel.resizeModel.showOrientationTip(true);\n        } else {\n            SiteModel.resizeModel.hideOrientationTip();\n        }\n    }\n}\n\nmodule.exports = new HomePage();\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/pages/HomePage.js\n// module id = 124\n// module chunks = 0\n\n//# sourceURL=webpack:///./src/app/pages/HomePage.js?")},function(module,exports,__webpack_require__){"use strict";eval("\n\n/**\n * CreatejsAutoScreen\n * @type {module}\n **/\nfunction CreatejsAutoScreen() {\n\n    var _Self = this;\n\n    this.name = 'CreatejsAutoScreen';\n\n    //事件继承\n    // ds.EventDispatcher.extend(this);\n    //主模块\n    var _AppMain = SiteModel.appMain;\n    //如果有用到 pixi 部分代码\n    var _Root, _Stage, _PixiJsModel, _CreateJsModel;\n    if (SiteModel.pixiJsModel) {\n        _PixiJsModel = SiteModel.pixiJsModel;\n        _Root = _PixiJsModel.root;\n        _Stage = _PixiJsModel.stage;\n    } else if (SiteModel.createJsModel) {\n        _CreateJsModel = SiteModel.createJsModel;\n        _Root = _CreateJsModel.root;\n        _Stage = _CreateJsModel.stage;\n    }\n    __webpack_require__(126);\n\n    var _View = new ds.createjs.AutoHorizontalScreenContainer();\n\n    var _Movie = new lib.CreatejsAutoScreen();\n    _View.addChild(_Movie);\n    _Movie.backBtn.on('click', function () {\n        _AppMain.gotoPage('HomePage');\n    });\n\n    //动画进场\n    this.MovieIn = function () {\n\n        _Root.removeAllChildren();\n        _Root.addChild(_View);\n    };\n}\n\nmodule.exports = new CreatejsAutoScreen();\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/pages/CreatejsAutoScreen.js\n// module id = 125\n// module chunks = 0\n\n//# sourceURL=webpack:///./src/app/pages/CreatejsAutoScreen.js?")},function(module,exports,__webpack_require__){"use strict";eval("/* WEBPACK VAR INJECTION */(function(process, global) {var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;\n\nvar _typeof2 = __webpack_require__(9);\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n!function (factory) {\n\n    var root = typeof window !== 'undefined' ? window : (typeof process === 'undefined' ? 'undefined' : (0, _typeof3.default)(process)) === 'object' && \"function\" === 'function' && (typeof global === 'undefined' ? 'undefined' : (0, _typeof3.default)(global)) === 'object' ? global : this;\n\n    if (true) {\n\n        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [exports], __WEBPACK_AMD_DEFINE_RESULT__ = function (exports) {\n\n            module.exports = factory(root, exports);\n        }.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n    } else if (typeof exports !== 'undefined') {\n\n        module.exports = factory(root, exports);\n    } else {\n\n        factory(root, {});\n    }\n}(function (root, Model) {\n\n    var ds = root.ds = root.ds || {};\n    ds.createjs = ds.createjs || {};\n\n    ds.createjs.AutoHorizontalScreenContainer = AutoHorizontalScreenContainer;\n\n    /**\n     * createjs 强制横屏自适应容器\n     * @class  ds.createjs.AutoHorizontalScreenContainer\n     *\n     */\n    function AutoHorizontalScreenContainer() {\n\n        this.Container_constructor();\n\n        var _self = this;\n\n        var _widths = [640, 1138];\n        var _width, _height, _actualH, _pageScale, _isInputState, _horizontal, _screenWidth, _densityDpi;\n\n        /**\n         * 自适应方法\n         * @method ds.createjs.AutoHorizontalScreenContainer.prototype.resize\n         * @function\n         */\n        this.resize = function () {\n\n            if (SiteModel && SiteModel.resizeModel) {\n                var _resizeModel = SiteModel.resizeModel;\n                _width = _resizeModel.width;\n                _height = _resizeModel.height;\n                _actualH = _resizeModel.actualH;\n                _pageScale = _resizeModel.pageScale;\n                _isInputState = _resizeModel.isInputState;\n                _horizontal = _resizeModel.horizontal;\n                _screenWidth = _resizeModel.screenWidth;\n                _densityDpi = _resizeModel.densityDpi;\n            } else {\n\n                //重置viewport\n                _densityDpi = ds.core.MoblieResizeModel.resetViewporte();\n                //自适应后的相关数据\n                var _resizeData = ds.core.MoblieResizeModel.getResizeData('auto', _widths);\n\n                _width = _resizeData.width;\n                _height = _resizeData.height;\n                _isInputState = _resizeData.isInputState;\n                _horizontal = _resizeData.horizontal;\n                _pageScale = _resizeData.pageScale;\n                _actualH = _resizeData.actualH;\n                _screenWidth = _resizeData.screenWidth;\n            }\n\n            _self.width = _screenWidth;\n            _self.height = _actualH;\n\n            if (_screenWidth == 1138) {\n\n                _self.rotation = 0;\n                _self.x = 0;\n            } else {\n\n                _self.rotation = 90;\n                _self.x = 640;\n            }\n\n            /**\n             * 自适应更新\n             * @event ds.createjs.AutoHorizontalScreenContainer#resize\n             */\n            _self.dispatchEvent('resize');\n        };\n\n        function iniResize() {\n\n            //如果是在项目框架下 应该会有SiteModel ，直接使用SiteModel.resizeModel自适应计算\n            if (SiteModel && SiteModel.resizeModel) {\n\n                SiteModel.resizeModel.on('resize', _self.resize);\n            } else {\n\n                //监听屏幕尺寸变化\n                $(window).resize(function () {\n\n                    setTimeout(function () {\n                        _self.resize();\n                    }, 200);\n                    _self.resize();\n                });\n\n                //马上计算屏幕现实状态\n                _self.resize();\n            }\n        }\n\n        iniResize();\n    }\n    createjs.extend(AutoHorizontalScreenContainer, createjs.Container);\n    createjs.promote(AutoHorizontalScreenContainer, \"Container\");\n\n    return ds.createjs.AutoHorizontalScreenContainer;\n});\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(15), __webpack_require__(8)))\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/ds/createjs/AutoHorizontalScreenContainer.js\n// module id = 126\n// module chunks = 0\n\n//# sourceURL=webpack:///./src/ds/createjs/AutoHorizontalScreenContainer.js?")},function(module,exports,__webpack_require__){"use strict";eval("\n\n/**\n * CreatejsCataract\n * @type {module}\n **/\nfunction CreatejsScrollPanel() {\n\n    var _Self = this;\n\n    this.name = 'CreatejsScrollPanel';\n\n    //事件继承\n    // ds.EventDispatcher.extend(this);\n    //主模块\n    var _AppMain = SiteModel.appMain;\n    //如果有用到 pixi 部分代码\n    var _Root, _Stage, _PixiJsModel, _CreateJsModel;\n    if (SiteModel.pixiJsModel) {\n        _PixiJsModel = SiteModel.pixiJsModel;\n        _Root = _PixiJsModel.root;\n        _Stage = _PixiJsModel.stage;\n    } else if (SiteModel.createJsModel) {\n        _CreateJsModel = SiteModel.createJsModel;\n        _Root = _CreateJsModel.root;\n        _Stage = _CreateJsModel.stage;\n    }\n\n    __webpack_require__(128);\n    var _View = new lib.ScrollPanel();\n    _View.backBtn.on('click', function () {\n        SiteModel.pager.gotoPage('HomePage');\n    });\n\n    _View.scrollPanel.content.btn.on('click', function () {\n        ds.alert('你点击了蝙蝠侠');\n    });\n    var _ScrollPanel = new ds.createjs.ScrollPanel(_View.scrollPanel, 1273 + 10, 540, 662, {\n        autoDom: false\n    });\n\n    //动画进场\n    this.MovieIn = function () {\n\n        _Root.removeAllChildren();\n        _Root.addChild(_View);\n    };\n}\n\nmodule.exports = new CreatejsScrollPanel();\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/pages/CreatejsScrollPanel.js\n// module id = 127\n// module chunks = 0\n\n//# sourceURL=webpack:///./src/app/pages/CreatejsScrollPanel.js?")},function(module,exports,__webpack_require__){"use strict";eval("/* WEBPACK VAR INJECTION */(function(process, global) {\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _typeof2 = __webpack_require__(9);\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nvar _getPrototypeOf = __webpack_require__(72);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(70);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(71);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(73);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(74);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _EventDispatcher2 = __webpack_require__(69);\n\nvar _EventDispatcher3 = _interopRequireDefault(_EventDispatcher2);\n\nvar _alloy_touch = __webpack_require__(129);\n\nvar _alloy_touch2 = _interopRequireDefault(_alloy_touch);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * 实现一个createjs内一个滚动面板\n * @class\n * @memberof ds.createjs\n * @requires module:libs/createjs/createjs0.8.2.min.js\n * @requires module:ds/core/EventDispatcher.js\n * @requires module:libs/alloyTeam/AlloyTouch.js\n */\nvar ScrollPanel = function (_EventDispatcher) {\n    (0, _inherits3.default)(ScrollPanel, _EventDispatcher);\n\n    /**\n     * 构造函数\n     * @param {createjs.Container} display 需要滚动的容器\n     * 注意容器内部必须有一个子对象实例名 `content` 或者 `box` 这个是被滚动的元素\n     * @param {number} contentHeight 设置内容高度\n     * @param {number} width  容器宽 自动创建反馈触摸的dom时候需要\n     * @param {number} height 容器高 计算容器\n     * @param {object} opts  设置配置\n     * @param {HTMLElement} opts.dom=undefined   反馈触摸的dom对象。\n     * @param {boolean} opts.autoDom=true 是否自动创建反馈触摸的dom，如果自动创建dom会覆盖在canvas元素上，内容无法点击\n     * @param {number} opts.maxSpeed=5 触摸反馈的最大速度限制\n     */\n    function ScrollPanel(display, contentHeight, width, height, opts) {\n        (0, _classCallCheck3.default)(this, ScrollPanel);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (ScrollPanel.__proto__ || (0, _getPrototypeOf2.default)(ScrollPanel)).call(this));\n\n        opts = opts || {};\n\n        var _self = _this;\n\n        _this._width = width;\n        _this._height = height;\n\n        var _panel = display;\n        _this._panel = _panel;\n\n        _this._contentHeight = contentHeight;\n        _this._scroll = -(_this._contentHeight - _this._height);\n\n        var _target = void 0;\n        if (_panel.content) _target = _panel.content;else if (_panel.box) _target = _panel.box;else {\n\n            console.warn('ScrollPanel no Has Child Name: \"content\" \"box\" ');\n            return (0, _possibleConstructorReturn3.default)(_this);\n        }\n\n        _this._target = _target;\n\n        var _autoDom = opts.autoDom != undefined ? opts.autoDom : true;\n        _this._autoDom = _autoDom;\n        /**\n         * 是否自动创建反馈触摸的dom\n         * @type {boolean}\n         * @private\n         */\n        _this._isAutoDom = false;\n\n        //反馈触摸的dom\n        var _touchDom = void 0;\n        if (opts.dom !== undefined) {\n\n            _touchDom = $(opts.dom)[0];\n        } else if (_autoDom && width && height) {\n\n            _this._isAutoDom = true;\n            _touchDom = document.createElement(\"div\");\n            $(_touchDom).css({ width: width, height: height });\n            ds.createjs.addDOM(display, _touchDom);\n        } else {\n\n            _touchDom = $('#cjsBox')[0];\n        }\n\n        _this._touchDom = _touchDom;\n\n        _this._alloyTouch = new _alloy_touch2.default({\n            //反馈触摸的dom\n            touch: _touchDom,\n            //不必需，默认是true代表监听竖直方向touch\n            vertical: true,\n            target: _target, //运动的对象\n            property: \"y\", //被运动的属性\n            min: _this._scroll, //不必需,运动属性的最小值\n            max: 0, //不必需,滚动属性的最大值\n            sensitivity: 1, //不必需,触摸区域的灵敏度，默认值为1，可以为负数\n            factor: 1, //不必需,表示触摸位移与被运动属性映射关系，默认值是1\n            step: 45, //用于校正到step的整数倍\n            bindSelf: false,\n            //不必需，触摸反馈的最大速度限制\n            maxSpeed: opts.maxSpeed || 5,\n            initialValue: 0,\n            //\n            change: function change(value) {\n                if (!_self._target.stage) return;\n            },\n            touchStart: function touchStart(evt, value) {\n                if (!_self._target.stage) return;\n            },\n            touchMove: function touchMove(evt, value) {\n                if (!_self._target.stage) return;\n            },\n            touchEnd: function touchEnd(evt, value) {\n                if (!_self._target.stage) return;\n            },\n            tap: function tap(evt, value) {\n                if (!_self._target.stage) return;\n            },\n            pressMove: function pressMove(evt, value) {\n                if (!_self._target.stage) return;\n            },\n            //运动结束\n            animationEnd: function animationEnd(value) {\n                if (!_self._target.stage) return;\n            }\n        });\n\n        return _this;\n    }\n\n    /**\n     * 设置滚动容器的宽高\n     * @param width\n     * @param height\n     */\n\n\n    (0, _createClass3.default)(ScrollPanel, [{\n        key: 'resizeBox',\n        value: function resizeBox(width, height) {\n\n            this._width = width;\n            this._height = height;\n            this._scroll = -(this._contentHeight - this._height);\n            this._alloyTouch.min = this._scroll;\n\n            if (this._isAutoDom) $(this._touchDom).css({ width: width, height: height });\n        }\n\n        /**\n         * 容器宽\n         * @return {*}\n         */\n\n    }, {\n        key: 'to',\n\n\n        /**\n         * 滚动到指定位置\n         * @param value\n         * @param time\n         */\n        value: function to(value, time) {\n            time = time || 600;\n            this._alloyTouch.to(value, time);\n        }\n\n        /**\n         * 停止滚动\n         */\n\n    }, {\n        key: 'stop',\n        value: function stop() {\n            this._alloyTouch.stop();\n        }\n    }, {\n        key: 'height',\n        get: function get() {\n            return this._height;\n        }\n\n        /**\n         * 容器高\n         * @return {*}\n         */\n\n    }, {\n        key: 'width',\n        get: function get() {\n            return this._width;\n        }\n\n        /**\n         * 设置或获取容器内容高度\n         * @return {number|*}\n         */\n\n    }, {\n        key: 'contentHeight',\n        get: function get() {\n            return this._contentHeight;\n        },\n        set: function set(value) {\n\n            this._contentHeight = value;\n            this._scroll = -(this._contentHeight - this._height);\n            this._alloyTouch.min = this._scroll;\n        }\n    }]);\n    return ScrollPanel;\n}(_EventDispatcher3.default);\n\nvar root = typeof window !== 'undefined' ? window : (typeof process === 'undefined' ? 'undefined' : (0, _typeof3.default)(process)) === 'object' && \"function\" === 'function' && (typeof global === 'undefined' ? 'undefined' : (0, _typeof3.default)(global)) === 'object' ? global : undefined;\n\nvar ds = root.ds = root.ds || {};\nds.createjs = ds.createjs || {};\nds.createjs.ScrollPanel = ScrollPanel;\n\nexports.default = ScrollPanel;\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(15), __webpack_require__(8)))\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/ds/createjs/ScrollPanel.js\n// module id = 128\n// module chunks = 0\n\n//# sourceURL=webpack:///./src/ds/createjs/ScrollPanel.js?")},function(module,exports,__webpack_require__){eval("\ufeff/* AlloyTouch v0.2.3\r\n * By AlloyTeam http://www.alloyteam.com/\r\n * Github: https://github.com/AlloyTeam/AlloyTouch\r\n * MIT Licensed.\r\n */\r\n\r\n;(function () {\r\n    'use strict';\r\n\r\n    if (!Date.now)\r\n        Date.now = function () { return new Date().getTime(); };\r\n\r\n    var vendors = ['webkit', 'moz'];\r\n    for (var i = 0; i < vendors.length && !window.requestAnimationFrame; ++i) {\r\n        var vp = vendors[i];\r\n        window.requestAnimationFrame = window[vp + 'RequestAnimationFrame'];\r\n        window.cancelAnimationFrame = (window[vp + 'CancelAnimationFrame']\r\n                                   || window[vp + 'CancelRequestAnimationFrame']);\r\n    }\r\n    if (/iP(ad|hone|od).*OS 6/.test(window.navigator.userAgent) // iOS6 is buggy\r\n        || !window.requestAnimationFrame || !window.cancelAnimationFrame) {\r\n        var lastTime = 0;\r\n        window.requestAnimationFrame = function (callback) {\r\n            var now = Date.now();\r\n            var nextTime = Math.max(lastTime + 16, now);\r\n            return setTimeout(function () { callback(lastTime = nextTime); },\r\n                              nextTime - now);\r\n        };\r\n        window.cancelAnimationFrame = clearTimeout;\r\n    }\r\n}());\r\n\r\n(function () {\r\n\r\n    function bind(element, type, callback) {\r\n        element.addEventListener(type, callback, false);\r\n    }\r\n\r\n    function ease(x) {\r\n        return Math.sqrt(1 - Math.pow(x - 1, 2));\r\n    }\r\n\r\n    function reverseEase(y) {\r\n        return 1 - Math.sqrt(1 - y * y);\r\n    }\r\n\r\n    function preventDefaultTest(el, exceptions) {\r\n        for (var i in exceptions) {\r\n            if (exceptions[i].test(el[i])) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    var AlloyTouch = function (option) {\r\n\r\n        this.element = typeof option.touch === \"string\" ? document.querySelector(option.touch) : option.touch;\r\n        this.target = this._getValue(option.target, this.element);\r\n        this.vertical = this._getValue(option.vertical, true);\r\n        this.property = option.property;\r\n        this.tickID = 0;\r\n\r\n        this.initialValue = this._getValue(option.initialValue, this.target[this.property]);\r\n        this.target[this.property] = this.initialValue;\r\n        this.fixed = this._getValue(option.fixed, false);\r\n        this.sensitivity = this._getValue(option.sensitivity, 1);\r\n        this.moveFactor = this._getValue(option.moveFactor, 1);\r\n        this.factor = this._getValue(option.factor, 1);\r\n        this.outFactor = this._getValue(option.outFactor, 0.3);\r\n        this.min = option.min;\r\n        this.max = option.max;\r\n        this.deceleration = 0.0006;\r\n        this.maxRegion = this._getValue(option.maxRegion, 600);\r\n        this.springMaxRegion = this._getValue(option.springMaxRegion, 60);\r\n        this.maxSpeed = option.maxSpeed;\r\n        this.hasMaxSpeed = !(this.maxSpeed === void 0);\r\n        this.lockDirection = this._getValue(option.lockDirection, true);\r\n\r\n        var noop = function () { };\r\n        this.change = option.change || noop;\r\n        this.touchEnd = option.touchEnd || noop;\r\n        this.touchStart = option.touchStart || noop;\r\n        this.touchMove = option.touchMove || noop;\r\n        this.touchCancel = option.touchCancel || noop;\r\n        this.reboundEnd = option.reboundEnd || noop;\r\n        this.animationEnd = option.animationEnd || noop;\r\n        this.correctionEnd = option.correctionEnd || noop;\r\n        this.tap = option.tap || noop;\r\n        this.pressMove = option.pressMove || noop;\r\n\r\n        this.preventDefault = this._getValue(option.preventDefault, true);\r\n        this.preventDefaultException = { tagName: /^(INPUT|TEXTAREA|BUTTON|SELECT)$/ };\r\n        this.hasMin = !(this.min === void 0);\r\n        this.hasMax = !(this.max === void 0);\r\n        if (this.hasMin && this.hasMax && this.min > this.max) {\r\n            throw \"the min value can't be greater than the max value.\"\r\n        }\r\n        this.isTouchStart = false;\r\n        this.step = option.step;\r\n        this.inertia = this._getValue(option.inertia, true);\r\n\r\n        this._calculateIndex();\r\n\r\n        this.eventTarget = window;\r\n        if(option.bindSelf){\r\n            this.eventTarget = this.element;\r\n        }\r\n\r\n        this._moveHandler = this._move.bind(this);\r\n        bind(this.element, \"touchstart\", this._start.bind(this));\r\n        bind(this.eventTarget, \"touchend\", this._end.bind(this));\r\n        bind(this.eventTarget, \"touchcancel\", this._cancel.bind(this));\r\n        this.eventTarget.addEventListener(\"touchmove\", this._moveHandler, { passive: false, capture: false });\r\n        this.x1 = this.x2 = this.y1 = this.y2 = null;\r\n    };\r\n\r\n    AlloyTouch.prototype = {\r\n        _getValue: function (obj, defaultValue) {\r\n            return obj === void 0 ? defaultValue : obj;\r\n        },\r\n        _start: function (evt) {\r\n            this.isTouchStart = true;\r\n            this.touchStart.call(this, evt, this.target[this.property]);\r\n            cancelAnimationFrame(this.tickID);\r\n            this._calculateIndex();\r\n            this.startTime = new Date().getTime();\r\n            this.x1 = this.preX = evt.touches[0].pageX;\r\n            this.y1 = this.preY = evt.touches[0].pageY;\r\n            this.start = this.vertical ? this.preY : this.preX;\r\n            this._firstTouchMove = true;\r\n            this._preventMove = false;\r\n        },\r\n        _move: function (evt) {\r\n            if (this.isTouchStart) {\r\n                var len = evt.touches.length,\r\n                    currentX = evt.touches[0].pageX,\r\n                    currentY = evt.touches[0].pageY;\r\n\r\n                if (this._firstTouchMove && this.lockDirection) {\r\n                    var dDis = Math.abs(currentX - this.x1) - Math.abs(currentY - this.y1);\r\n                    if (dDis > 0 && this.vertical) {\r\n                        this._preventMove = true;\r\n                    } else if (dDis < 0 && !this.vertical) {\r\n                        this._preventMove = true;\r\n                    }\r\n                    this._firstTouchMove = false;\r\n                }\r\n                if(!this._preventMove) {\r\n                    var d = (this.vertical ? currentY - this.preY : currentX - this.preX) * this.sensitivity;\r\n                    var f = this.moveFactor;\r\n                    if (this.hasMax && this.target[this.property] > this.max && d > 0) {\r\n                        f = this.outFactor;\r\n                    } else if (this.hasMin && this.target[this.property] < this.min && d < 0) {\r\n                        f = this.outFactor;\r\n                    }\r\n                    d *= f;\r\n                    this.preX = currentX;\r\n                    this.preY = currentY;\r\n                    if (!this.fixed) {\r\n                        this.target[this.property] += d;\r\n                    }\r\n                    this.change.call(this, this.target[this.property]);\r\n                    var timestamp = new Date().getTime();\r\n                    if (timestamp - this.startTime > 300) {\r\n                        this.startTime = timestamp;\r\n                        this.start = this.vertical ? this.preY : this.preX;\r\n                    }\r\n                    this.touchMove.call(this, evt, this.target[this.property]);\r\n                }\r\n\r\n                if (this.preventDefault && !preventDefaultTest(evt.target, this.preventDefaultException)) {\r\n                    evt.preventDefault();\r\n                }\r\n\r\n                if (len === 1) {\r\n                    if (this.x2 !== null) {\r\n                        evt.deltaX = currentX - this.x2;\r\n                        evt.deltaY = currentY - this.y2;\r\n\r\n                    } else {\r\n                        evt.deltaX = 0;\r\n                        evt.deltaY = 0;\r\n                    }\r\n                    this.pressMove.call(this, evt, this.target[this.property]);\r\n                }\r\n                this.x2 = currentX;\r\n                this.y2 = currentY;\r\n            }\r\n        },\r\n        _cancel: function (evt) {\r\n            var current = this.target[this.property];\r\n            this.touchCancel.call(this, evt, current);\r\n            this._end(evt);\r\n\r\n        },\r\n        to: function (v, time, user_ease) {\r\n            this._to(v, this._getValue(time, 600), user_ease || ease, this.change, function (value) {\r\n                this._calculateIndex();\r\n                this.reboundEnd.call(this, value);\r\n                this.animationEnd.call(this, value);\r\n            }.bind(this));\r\n\r\n        },\r\n        _calculateIndex: function () {\r\n            if (this.hasMax && this.hasMin) {\r\n                this.currentPage = Math.round((this.max - this.target[this.property]) / this.step);\r\n            }\r\n        },\r\n        _end: function (evt) {\r\n            if (this.isTouchStart) {\r\n                this.isTouchStart = false;\r\n                var self = this,\r\n                    current = this.target[this.property],\r\n                    triggerTap = (Math.abs(evt.changedTouches[0].pageX - this.x1) < 30 && Math.abs(evt.changedTouches[0].pageY - this.y1) < 30);\r\n                if (triggerTap) {\r\n                    this.tap.call(this, evt, current);\r\n                }\r\n                if (this.touchEnd.call(this, evt, current, this.currentPage) === false) return;\r\n                if (this.hasMax && current > this.max) {\r\n                    this._to(this.max, 200, ease, this.change, function (value) {\r\n                        this.reboundEnd.call(this, value);\r\n                        this.animationEnd.call(this, value);\r\n                    }.bind(this));\r\n                } else if (this.hasMin && current < this.min) {\r\n                    this._to(this.min, 200, ease, this.change, function (value) {\r\n                        this.reboundEnd.call(this, value);\r\n                        this.animationEnd.call(this, value);\r\n                    }.bind(this));\r\n                } else if (this.inertia && !triggerTap && !this._preventMove) {\r\n                    var dt = new Date().getTime() - this.startTime;\r\n                    if (dt < 300) {\r\n                        var distance = ((this.vertical ? evt.changedTouches[0].pageY : evt.changedTouches[0].pageX) - this.start) * this.sensitivity,\r\n                            speed = Math.abs(distance) / dt,\r\n                            speed2 = this.factor * speed;\r\n                        if(this.hasMaxSpeed&&speed2>this.maxSpeed) {\r\n                            speed2 = this.maxSpeed;\r\n                        }\r\n                        var destination = current + (speed2 * speed2) / (2 * this.deceleration) * (distance < 0 ? -1 : 1);\r\n\r\n                        var tRatio = 1;\r\n                        if (destination < this.min ) {\r\n                            if (destination < this.min - this.maxRegion) {\r\n                                tRatio = reverseEase((current - this.min + this.springMaxRegion) / (current - destination));\r\n                                destination = this.min - this.springMaxRegion;\r\n                            } else {\r\n                                tRatio = reverseEase((current - this.min + this.springMaxRegion * (this.min - destination) / this.maxRegion) / (current - destination));\r\n                                destination = this.min - this.springMaxRegion * (this.min - destination) / this.maxRegion;\r\n                            }\r\n                        } else if (destination > this.max) {\r\n                            if (destination > this.max + this.maxRegion) {\r\n                                tRatio = reverseEase((this.max + this.springMaxRegion - current) / (destination - current));\r\n                                destination = this.max + this.springMaxRegion;\r\n                            } else {\r\n                                tRatio = reverseEase((this.max + this.springMaxRegion * ( destination-this.max) / this.maxRegion - current) / (destination - current));\r\n                                destination = this.max + this.springMaxRegion * (destination - this.max) / this.maxRegion;\r\n\r\n                            }\r\n                        }\r\n                        var duration = Math.round(speed / self.deceleration) * tRatio;\r\n\r\n                        self._to(Math.round(destination), duration, ease, self.change, function (value) {\r\n                            if (self.hasMax && self.target[self.property] > self.max) {\r\n\r\n                                cancelAnimationFrame(self.tickID);\r\n                                self._to(self.max, 600, ease, self.change, self.animationEnd);\r\n\r\n                            } else if (self.hasMin && self.target[self.property] < self.min) {\r\n\r\n                                cancelAnimationFrame(self.tickID);\r\n                                self._to(self.min, 600, ease, self.change, self.animationEnd);\r\n\r\n                            } else {\r\n                                if(self.step) {\r\n                                    self._correction()\r\n                                }else{\r\n                                    self.animationEnd.call(self, value);\r\n                                }\r\n                            }\r\n\r\n                            self.change.call(this, value);\r\n                        });\r\n\r\n\r\n                    } else {\r\n                        self._correction();\r\n                    }\r\n                } else {\r\n                    self._correction();\r\n                }\r\n                // if (this.preventDefault && !preventDefaultTest(evt.target, this.preventDefaultException)) {\r\n                //     evt.preventDefault();\r\n                // }\r\n\r\n            }\r\n            this.x1 = this.x2 = this.y1 = this.y2 = null;\r\n\r\n        },\r\n        _to: function (value, time, ease, onChange, onEnd) {\r\n            if (this.fixed) return;\r\n            var el = this.target,\r\n                property = this.property;\r\n            var current = el[property];\r\n            var dv = value - current;\r\n            var beginTime = new Date();\r\n            var self = this;\r\n            var toTick = function () {\r\n\r\n                var dt = new Date() - beginTime;\r\n                if (dt >= time) {\r\n                    el[property] = value;\r\n                    onChange && onChange.call(self, value);\r\n                    onEnd && onEnd.call(self, value);\r\n                    return;\r\n                }\r\n                el[property] = dv * ease(dt / time) + current;\r\n                self.tickID = requestAnimationFrame(toTick);\r\n                //cancelAnimationFrame必须在 tickID = requestAnimationFrame(toTick);的后面\r\n                onChange && onChange.call(self, el[property]);\r\n            };\r\n            toTick();\r\n        },\r\n        _correction: function () {\r\n            if (this.step === void 0) return;\r\n            var el = this.target,\r\n                property = this.property;\r\n            var value = el[property];\r\n            var rpt = Math.floor(Math.abs(value / this.step));\r\n            var dy = value % this.step;\r\n            if (Math.abs(dy) > this.step / 2) {\r\n                this._to((value < 0 ? -1 : 1) * (rpt + 1) * this.step, 400, ease, this.change, function (value) {\r\n                    this._calculateIndex();\r\n                    this.correctionEnd.call(this, value);\r\n                    this.animationEnd.call(this, value);\r\n                }.bind(this));\r\n            } else {\r\n                this._to((value < 0 ? -1 : 1) * rpt * this.step, 400, ease, this.change, function (value) {\r\n                    this._calculateIndex();\r\n                    this.correctionEnd.call(this, value);\r\n                    this.animationEnd.call(this, value);\r\n                }.bind(this));\r\n            }\r\n        }\r\n    };\r\n\r\n    if (true) {\r\n        module.exports = AlloyTouch;\r\n    } else {\r\n        window.AlloyTouch = AlloyTouch;\r\n    }\r\n\r\n})();\r\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/libs/alloyTeam/alloy_touch.js\n// module id = 129\n// module chunks = 0\n\n//# sourceURL=webpack:///./src/libs/alloyTeam/alloy_touch.js?")},function(module,exports,__webpack_require__){"use strict";eval("\n\n/**\n * CreatejsDomMovie\n * @type {module}\n **/\nfunction CreatejsDomMovie() {\n\n    var _Self = this;\n\n    this.name = 'CreatejsDomMovie';\n\n    //事件继承\n    // ds.EventDispatcher.extend(this);\n    //主模块\n    var _AppMain = SiteModel.appMain;\n    //如果有用到 pixi 部分代码\n    var _Root, _Stage, _PixiJsModel, _CreateJsModel;\n    if (SiteModel.pixiJsModel) {\n        _PixiJsModel = SiteModel.pixiJsModel;\n        _Root = _PixiJsModel.root;\n        _Stage = _PixiJsModel.stage;\n    } else if (SiteModel.createJsModel) {\n        _CreateJsModel = SiteModel.createJsModel;\n        _Root = _CreateJsModel.root;\n        _Stage = _CreateJsModel.stage;\n    }\n\n    var _View = new lib.CreatejsDomMoviePage();\n\n    var _img = new Image();\n    _img.src = './images/ShareImg.jpg';\n    ds.createjs.addDOM(_View.movie.box, _img);\n\n    _View.backBtn.on('click', function () {\n        _AppMain.gotoPage('HomePage');\n    });\n\n    //动画进场\n    this.MovieIn = function () {\n\n        _Root.removeAllChildren();\n        _Root.addChild(_View);\n\n        ReSize();\n    };\n\n    SiteModel.resizeModel.on('resize', ReSize);\n\n    function ReSize() {\n\n        var _resizeModel = SiteModel.resizeModel;\n        var _width = _resizeModel.width;\n        var _height = _resizeModel.height;\n        var _actualH = _resizeModel.actualH;\n        var _pageScale = _resizeModel.pageScale;\n        var _isInputState = _resizeModel.isInputState;\n        var _horizontal = _resizeModel.horizontal;\n        var _screenWidth = _resizeModel.screenWidth;\n        var _densityDpi = _resizeModel.densityDpi;\n\n        if (_Self.name !== SiteModel.pager.pageLabel) return;\n        if (_horizontal) {\n            _resizeModel.showOrientationTip(true);\n        } else {\n            _resizeModel.hideOrientationTip();\n        }\n    }\n}\n\nmodule.exports = new CreatejsDomMovie();\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/pages/CreatejsDomMovie.js\n// module id = 130\n// module chunks = 0\n\n//# sourceURL=webpack:///./src/app/pages/CreatejsDomMovie.js?")},function(module,exports,__webpack_require__){"use strict";eval("\n\n/**\n * CreatejsGalley\n * @type {module}\n **/\nfunction CreatejsGalley() {\n\n    var _Self = this;\n\n    this.name = 'CreatejsGalley';\n\n    //事件继承\n    // ds.EventDispatcher.extend(this);\n    //主模块\n    var _AppMain = SiteModel.appMain;\n    //如果有用到 pixi 部分代码\n    var _Root, _Stage, _PixiJsModel, _CreateJsModel;\n    if (SiteModel.pixiJsModel) {\n        _PixiJsModel = SiteModel.pixiJsModel;\n        _Root = _PixiJsModel.root;\n        _Stage = _PixiJsModel.stage;\n    } else if (SiteModel.createJsModel) {\n        _CreateJsModel = SiteModel.createJsModel;\n        _Root = _CreateJsModel.root;\n        _Stage = _CreateJsModel.stage;\n    }\n\n    __webpack_require__(164);\n\n    var _View = new lib.CreatejsGalley();\n    var _Box = _View.box;\n    var _List = [];\n    for (var i = 0; i < 20; i++) {\n        var _mc = new lib.GalleyItem();\n        _mc.id = i;\n        _mc.gotoAndStop(i % 5);\n        _mc.name = 'mc' + i;\n        _List.push(_mc);\n    }\n\n    var _GalleryLooper = new ds.createjs.GalleryLooper(_Box, _List, 5, {});\n\n    _View.backBtn.on('click', function () {\n        SiteModel.gotoPage('HomePage');\n    });\n    _View.btn.on('click', function () {\n        _GalleryLooper.select(_List.length * Math.random() >> 0);\n        // _GalleryLooper.select(6);\n    });\n\n    //动画进场\n    this.MovieIn = function () {\n\n        _Root.removeAllChildren();\n        _Root.addChild(_View);\n        // _GalleryLooper._init();\n    };\n}\n\nmodule.exports = new CreatejsGalley();\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/pages/CreatejsGalley.js\n// module id = 131\n// module chunks = 0\n\n//# sourceURL=webpack:///./src/app/pages/CreatejsGalley.js?")},function(module,exports,__webpack_require__){"use strict";eval("\n\n/**\n * CreatejsInput\n * @type {module}\n **/\nfunction CreatejsInput() {\n\n    var _Self = this;\n\n    this.name = 'CreatejsInput';\n\n    //事件继承\n    // ds.EventDispatcher.extend(this);\n    //主模块\n    var _AppMain = SiteModel.appMain;\n    //如果有用到 pixi 部分代码\n    var _Root, _Stage, _PixiJsModel, _CreateJsModel;\n    if (SiteModel.pixiJsModel) {\n        _PixiJsModel = SiteModel.pixiJsModel;\n        _Root = _PixiJsModel.root;\n        _Stage = _PixiJsModel.stage;\n    } else if (SiteModel.createJsModel) {\n        _CreateJsModel = SiteModel.createJsModel;\n        _Root = _CreateJsModel.root;\n        _Stage = _CreateJsModel.stage;\n    }\n\n    var _View = new lib.CreatejsInputPage();\n\n    ds.createjs.addInput(_View.text0, {\n        width: 400,\n        color: '#21222D',\n        size: 20,\n        max: 10\n    }, '默认输入文字');\n\n    ds.createjs.addInput(_View.text1, {\n        type: 'number',\n        width: 400\n\n    });\n\n    ds.createjs.addInput(_View.text2, {\n        type: 'tel',\n        width: 400,\n        size: 20\n    }, '输入电话号码');\n\n    ds.createjs.addInput(_View.text3, {\n        type: 'textarea',\n        width: 550,\n        size: 25,\n        rows: 8\n    }, '输入多行文本');\n\n    ds.createjs.addInput(_View.text4, {\n        type: 'password',\n        width: 400,\n        size: 20\n    }, '输入密码');\n\n    ds.createjs.addInput(_View.text5, {\n        width: 400,\n        color: '#cc222D',\n        max: 10\n    }, '默认输入文字');\n\n    _View.backBtn.on('click', function () {\n        _AppMain.gotoPage('HomePage');\n    });\n\n    //动画进场\n    this.MovieIn = function () {\n\n        _Root.removeAllChildren();\n        _Root.addChild(_View);\n\n        ReSize();\n    };\n\n    SiteModel.resizeModel.on('resize', ReSize);\n\n    function ReSize() {\n\n        var _resizeModel = SiteModel.resizeModel;\n        var _width = _resizeModel.width;\n        var _height = _resizeModel.height;\n        var _actualH = _resizeModel.actualH;\n        var _pageScale = _resizeModel.pageScale;\n        var _isInputState = _resizeModel.isInputState;\n        var _horizontal = _resizeModel.horizontal;\n        var _screenWidth = _resizeModel.screenWidth;\n        var _densityDpi = _resizeModel.densityDpi;\n\n        if (_Self.name !== SiteModel.pager.pageLabel) return;\n        if (_horizontal) {\n            SiteModel.resizeModel.showOrientationTip(true);\n        } else {\n            SiteModel.resizeModel.hideOrientationTip();\n        }\n    }\n}\n\nmodule.exports = new CreatejsInput();\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/pages/CreatejsInput.js\n// module id = 132\n// module chunks = 0\n\n//# sourceURL=webpack:///./src/app/pages/CreatejsInput.js?")},function(module,exports,__webpack_require__){"use strict";eval("\n\n/**\n * DomAutoScreen\n * @type {module}\n **/\nfunction DomAutoScreen() {\n\n    var _Self = this;\n\n    this.name = 'DomAutoScreen';\n\n    //事件继承\n    // ds.EventDispatcher.extend(this);\n    //主模块\n    var _AppMain = SiteModel.appMain;\n    //如果有用到 pixi 部分代码\n    var _Root, _Stage, _PixiJsModel, _CreateJsModel;\n    if (SiteModel.pixiJsModel) {\n        _PixiJsModel = SiteModel.pixiJsModel;\n        _Root = _PixiJsModel.root;\n        _Stage = _PixiJsModel.stage;\n    } else if (SiteModel.createJsModel) {\n        _CreateJsModel = SiteModel.createJsModel;\n        _Root = _CreateJsModel.root;\n        _Stage = _CreateJsModel.stage;\n    }\n\n    __webpack_require__(134);\n    var _View = $(__webpack_require__(135));\n    var _AutoBox = new ds.ui.AutoHorizontalScreenContainer(_View[0]);\n\n    _View.find('#DomAutoScreen .backBtn').on('click', function () {\n        console.log('#DomAutoScreen .backBtn');\n        _View.remove();\n        _VideoElement.css({ left: 3000 });\n        _VideoInteractivePlayer.pause();\n        SiteModel.pager.gotoPage('HomePage');\n    });\n\n    __webpack_require__(136);\n    __webpack_require__(137);\n    __webpack_require__(139);\n\n    var _VideoElement;\n    var _VideoInteractivePlayer = new ds.media.VideoInteractivePlayer('assets/media/intro', {\n        append: _View.find('#DomAutoScreen .videoBox')[0],\n        css: {\n            width: 1138,\n            height: 640,\n            left: -3000\n        }\n    });\n    _VideoElement = $(_VideoInteractivePlayer.el);\n\n    this.readeyMovieIn = function () {\n\n        $('#domBox').html('');\n        $('#domBox').append(_View);\n    };\n    //动画进场\n    this.MovieIn = function () {\n\n        $('#domBox').html('');\n        $('#domBox').append(_View);\n        _Root.removeAllChildren();\n\n        _VideoElement.css({ left: 0 });\n        _VideoInteractivePlayer.seekToTime(0);\n        _VideoInteractivePlayer.play();\n    };\n}\n\nmodule.exports = new DomAutoScreen();\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/pages/DomAutoScreen.js\n// module id = 133\n// module chunks = 0\n\n//# sourceURL=webpack:///./src/app/pages/DomAutoScreen.js?")},function(module,exports,__webpack_require__){"use strict";eval("/* WEBPACK VAR INJECTION */(function(process, global) {var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;\n\nvar _typeof2 = __webpack_require__(9);\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n!function (factory) {\n\n    var root = typeof window !== 'undefined' ? window : (typeof process === 'undefined' ? 'undefined' : (0, _typeof3.default)(process)) === 'object' && \"function\" === 'function' && (typeof global === 'undefined' ? 'undefined' : (0, _typeof3.default)(global)) === 'object' ? global : this;\n\n    if (true) {\n\n        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [exports], __WEBPACK_AMD_DEFINE_RESULT__ = function (exports) {\n\n            module.exports = factory(root, exports);\n        }.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n    } else if (typeof exports !== 'undefined') {\n\n        module.exports = factory(root, exports);\n    } else {\n\n        factory(root, {});\n    }\n}(function (root, Model) {\n\n    var ds = root.ds = root.ds || {};\n    ds.ui = ds.ui || {};\n\n    ds.ui.AutoHorizontalScreenContainer = AutoHorizontalScreenContainer;\n\n    /**\n     * DOM 强制横屏自适应\n     * @class ds.ui.AutoHorizontalScreenContainer\n     * @param {HTMLElement|string} dom 需要转换成强制横屏的dom容器，不传会自动创建一个\n     * @requires zepto.js 或者 jquery.js\n     */\n    function AutoHorizontalScreenContainer(dom) {\n\n        var _self = this;\n\n        ds.EventDispatcher.extend(this);\n\n        var _el;\n        /**\n         * dom容器\n         * @member {HTMLElement} ds.ui.AutoHorizontalScreenContainer.prototype.el\n         */\n        Object.defineProperty(this, \"el\", {\n            get: function get() {\n                return _el;\n            }\n        });\n\n        if (dom === undefined) _el = $(document.createElement('div'));else _el = $(dom);\n\n        var _css = {\n            \"-webkit-transform-origin\": '0 0',\n            \"transform-origin\": '0 0',\n            position: 'absolute',\n            left: 0,\n            top: 0,\n            overflow: 'hidden'\n        };\n\n        _el.css(_css);\n\n        var _widths = [640, 1138];\n        var _width, _height, _actualH, _pageScale, _isInputState, _horizontal, _screenWidth, _densityDpi;\n\n        /**\n         * 自适应方法\n         * @method ds.ui.AutoHorizontalScreenContainer.prototype.resize\n         * @function\n         */\n        this.resize = function () {\n\n            if (SiteModel && SiteModel.resizeModel) {\n                var _resizeModel = SiteModel.resizeModel;\n                _width = _resizeModel.width;\n                _height = _resizeModel.height;\n                _actualH = _resizeModel.actualH;\n                _pageScale = _resizeModel.pageScale;\n                _isInputState = _resizeModel.isInputState;\n                _horizontal = _resizeModel.horizontal;\n                _screenWidth = _resizeModel.screenWidth;\n                _densityDpi = _resizeModel.densityDpi;\n            } else {\n\n                //重置viewport\n                _densityDpi = ds.core.MoblieResizeModel.resetViewporte();\n                //自适应后的相关数据\n                var _resizeData = ds.core.MoblieResizeModel.getResizeData('auto', _widths);\n\n                _width = _resizeData.width;\n                _height = _resizeData.height;\n                _isInputState = _resizeData.isInputState;\n                _horizontal = _resizeData.horizontal;\n                _pageScale = _resizeData.pageScale;\n                _actualH = _resizeData.actualH;\n                _screenWidth = _resizeData.screenWidth;\n            }\n\n            if (_screenWidth == 1138) {\n\n                _self.width = _screenWidth;\n                _self.height = _actualH;\n                _el.css({\n                    \"-webkit-transform\": 'rotate(0deg)',\n                    \"-moz-transform\": 'rotate(0deg)',\n                    \"transform\": 'rotate(0deg)'\n                });\n            } else {\n\n                _self.width = _actualH;\n                _self.height = _screenWidth;\n                _el.css({\n                    \"-webkit-transform\": 'rotate(90deg) translate(0px,-' + _self.height + 'px)',\n                    \"-moz-transform\": 'rotate(90deg) translate(0px,-' + _self.height + 'px)',\n                    \"transform\": 'rotate(90deg) translate(0px,-' + _self.height + 'px)'\n                });\n            }\n\n            _el.css({\n                width: _self.width,\n                height: _self.height\n            });\n\n            /**\n             * 自适应更新\n             * @event ds.ui.AutoHorizontalScreenContainer#resize\n             */\n            _self.ds('resize');\n        };\n\n        function iniResize() {\n\n            //如果是在项目框架下 应该会有SiteModel ，直接使用SiteModel.resizeModel自适应计算\n            if (SiteModel && SiteModel.resizeModel) {\n\n                SiteModel.resizeModel.on('resize', _self.resize);\n            } else {\n\n                //监听屏幕尺寸变化\n                $(window).resize(function () {\n\n                    setTimeout(function () {\n                        _self.resize();\n                    }, 200);\n                    _self.resize();\n                });\n            }\n            //马上计算屏幕现实状态\n            _self.resize();\n        }\n\n        iniResize();\n    }\n\n    return ds.ui.AutoHorizontalScreenContainer;\n});\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(15), __webpack_require__(8)))\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/ds/ui/AutoHorizontalScreenContainer.js\n// module id = 134\n// module chunks = 0\n\n//# sourceURL=webpack:///./src/ds/ui/AutoHorizontalScreenContainer.js?")},function(module,exports){eval('module.exports = "<div style=\\"background:url(images/AutoHorizontalScreenBg.jpg) no-repeat\\"> <div id=DomAutoScreen> <div class=videoBox></div> <div class=backBtn>back Home</div> </div> <style>#DomAutoScreen{position:absolute;left:0;top:0;width:100%;height:100%}#DomAutoScreen .videoBox{position:absolute;width:100%;height:100%;background:rgba(0,0,0,.5);left:0;top:0}#DomAutoScreen .backBtn{position:absolute;left:20px;top:20px;width:200px;height:50px;background:#af0baf;line-height:50px;text-align:center;font-size:25px;color:#fff;-webkit-transform:translateZ(1px);-moz-transform:translateZ(1px);-ms-transform:translateZ(1px);-o-transform:translateZ(1px);transform:translateZ(1px)}#DomAutoScreen .MyVideo{position:absolute;left:0;top:0}.IIV::-webkit-media-controls-play-button,.IIV::-webkit-media-controls-start-playback-button{opacity:0;pointer-events:none;width:5px}#DomAutoScreen video::-webkit-media-controls-start-playback-button{display:none}#DomAutoScreen canvas{position:absolute;left:0;top:0}</style> </div> ";\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/pages/DomAutoScreen.html\n// module id = 135\n// module chunks = 0\n\n//# sourceURL=webpack:///./src/app/pages/DomAutoScreen.html?')},function(module,exports,__webpack_require__){"use strict";eval("/* WEBPACK VAR INJECTION */(function(process, global) {\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _typeof2 = __webpack_require__(9);\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nvar _getPrototypeOf = __webpack_require__(72);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(70);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(71);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(73);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(74);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _EventDispatcher2 = __webpack_require__(69);\n\nvar _EventDispatcher3 = _interopRequireDefault(_EventDispatcher2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n *  视频交互类\n *  @class\n *  @memberof ds.media\n */\nvar VideoInteractivePlayer = function (_EventDispatcher) {\n    (0, _inherits3.default)(VideoInteractivePlayer, _EventDispatcher);\n\n    /**\n     * 构建播放器\n     * @param {string} url 播放源\n     * @param {object} opts\n     */\n    function VideoInteractivePlayer(url, opts) {\n        (0, _classCallCheck3.default)(this, VideoInteractivePlayer);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (VideoInteractivePlayer.__proto__ || (0, _getPrototypeOf2.default)(VideoInteractivePlayer)).call(this));\n\n        var _self = _this;\n\n        opts = opts || {};\n\n        var _type = void 0;\n        if (opts.type != undefined) _type = opts.type;else {\n\n            var _playerData = _this.getVideoPlayerTypeByExts(url);\n            _type = _playerData.type;\n            if (_playerData.ext === 'dynamics') {\n                if (_type === 'video') url = url + '.mp4';\n                if (_type === 'mpg') {\n\n                    if (!opts.audio && !opts.hasAudio) opts.audio = url + '.mp3';\n                    url = url + '.mpg';\n                }\n                if (_type === 'ts') url = url + '.ts';\n            }\n        }\n\n        _this._url = url;\n\n        _this._type = _type;\n        // console.log('_type:', _type);\n\n        if (_type === 'mpg') {\n\n            _this._videoPlayer = new ds.media.MpegPlayer(url, opts);\n        } else if (_type === 'ts') {\n\n            _this._videoPlayer = new ds.media.TSPlayer(url, opts);\n        } else if (_type === 'fs') {\n\n            _this._videoPlayer = new ds.media.FramesPlayer(url, opts);\n        } else {\n\n            _this._videoPlayer = new ds.media.VideoTagPlayer(url, opts);\n        }\n\n        var _videoPlayer = _this._videoPlayer;\n\n        _videoPlayer.on('canplay', function (e) {\n            /**\n             * 视频可播放\n             * @event ds.media.VideoInteractivePlayer#canplay\n             */\n            this.ds('canplay');\n        }, _this);\n        _videoPlayer.on('progress', function (e) {\n            /**\n             * 视频加载进度\n             * @event ds.media.VideoInteractivePlayer#progress\n             */\n            this.ds(e);\n        }, _this);\n        _videoPlayer.on('loadEnd', function (e) {\n            /**\n             * 视频播放\n             * @event ds.media.VideoInteractivePlayer#loadEnd\n             */\n            this.ds(e);\n        }, _this);\n        _videoPlayer.on('play', function (e) {\n            /**\n             * 视频播放\n             * @event ds.media.VideoInteractivePlayer#play\n             */\n            this.ds(e);\n        }, _this);\n        _videoPlayer.on('pause', function (e) {\n            /**\n             * 视频暂停\n             * @event ds.media.VideoInteractivePlayer#pause\n             */\n            this.ds(e);\n        }, _this);\n        _videoPlayer.on('playEnd', function (e) {\n            /**\n             * 视频播放完成\n             * @event ds.media.VideoInteractivePlayer#playEnd\n             */\n            this.ds(e);\n        }, _this);\n        _videoPlayer.on('update', function (e) {\n            /**\n             * 视频播放中实时触发事件\n             * @event ds.media.VideoInteractivePlayer#update\n             */\n            this.ds(e);\n        }, _this);\n\n        _videoPlayer.on('update', _this._timeUpDate);\n\n        _this._playing = false;\n\n        _this._videoCuePointList = [];\n        return _this;\n    }\n\n    /**\n     * 开始加载\n     */\n\n\n    (0, _createClass3.default)(VideoInteractivePlayer, [{\n        key: 'load',\n        value: function load() {\n\n            if (_type === 'mpg' || _type === 'ts' || _type === 'fs') this._videoPlayer.load();\n        }\n\n        /**\n         * 根据链接地址获取播放器类型\n         * @param {string} url 视频链接地址\n         * @return {Object}\n         */\n\n    }, {\n        key: 'getVideoPlayerTypeByExts',\n        value: function getVideoPlayerTypeByExts(url) {\n\n            var _type = void 0;\n            var _exts = ['mpg', 'ts', 'fs', 'video'];\n            var _fi = url.lastIndexOf(\".\");\n            var _ext = void 0;\n\n            //如果不带后缀,根据设备判断播放方式\n            if (_fi < 0) {\n\n                var u = navigator.userAgent;\n                var ua = u.toLowerCase();\n                var wechat = false;\n                if (ua.match(/MicroMessenger/i) == \"micromessenger\") wechat = true;\n                //ios终端\n                var ios = !!u.match(/\\(i[^;]+;( U;)? CPU.+Mac OS X/);\n                //android终端\n                var android = u.indexOf('Android') > -1 || u.indexOf('Adr') > -1;\n\n                if (wechat || location.href.indexOf(':800') !== -1) {\n\n                    if (ios) _type = 'video';else _type = 'mpg';\n                } else {\n\n                    _type = 'video';\n                }\n                _ext = 'dynamics';\n            }\n            //根据后缀名判断播放器类型\n            else {\n\n                    _ext = url.substr(_fi + 1);\n                    if (_ext === 'mpg') _type = 'mpg';else if (_ext === 'ts') _type = 'ts';else if (_ext === 'fs') _type = 'fs';else _type = 'video';\n                }\n\n            if (_exts.indexOf(_type) < 0) _type = 'video';\n\n            return { type: _type, ext: _ext };\n        }\n\n        /**\n         * 视频播放器核心对象 帧播放器、mpg播放器、ts播放器、video标签播放器\n         * @return {*}\n         */\n\n    }, {\n        key: '_timeUpDate',\n\n\n        /**\n         * 互动时间点监听\n         * @param e\n         * @private\n         */\n        value: function _timeUpDate(e) {\n\n            var _videoPlayer = this._videoPlayer;\n            if (!_videoPlayer) return;\n            var _currentTime = 0;\n            _currentTime = _videoPlayer.currentTime;\n            var _videoCuePointList = this._videoCuePointList;\n\n            for (var i = 0; i < _videoCuePointList.length; i++) {\n\n                var _td = _videoCuePointList[i];\n\n                if (_td.time && _currentTime >= _td.time && !_td.bool) {\n\n                    _td.bool = true;\n                    _td.runNum += 1;\n                    var _eventData = {\n                        type: 'cuePoint',\n                        data: _td,\n                        time: _currentTime\n                    };\n\n                    if (_td.fun) _td.fun(_eventData);\n                    /**\n                     * 交互提示点\n                     * @event ds.media.VideoInteractivePlayer#cuePoint\n                     * @property {object} data - 交互时间点数据\n                     * @property {number} time - 当前触发时间\n                     */\n                    this.ds(_eventData);\n                }\n            }\n        }\n\n        /**\n         * 视频交互提示点列表\n         * @return {array}\n         */\n\n    }, {\n        key: 'addCuePoint',\n\n\n        /**\n         * 添加交互的时间节点\n         * @param {object} cd 时间节点事件数据设置\n         * @param {string} cd.name 这个时间点的名称\n         * @param {number} cd.time 时间,秒数\n         * @param {function} cd.fun  时间点执行的时间函数\n         * @return {object} cd 设置时间节点数据\n         *\n         * ```js\n         *  cd.runNum  自动创建  这个时间执行多少次 方便用来进行逻辑处理判断\n         *  cd.bool  自动创建  这个时间执行多少次 方便用来进行逻辑处理判断\n         * ```\n         */\n        value: function addCuePoint(cd) {\n\n            if (!cd.time) return;\n            if (!cd.name) cd.name = 'time_' + cd.time;\n            cd.runNum = 0;\n            cd.bool = false;\n            this._videoCuePointList.push(pointData);\n        }\n\n        /**\n         * 重置所有时间交互点\n         */\n\n    }, {\n        key: 'resetCuePoints',\n        value: function resetCuePoints() {\n\n            var _videoCuePointList = this._videoCuePointList;\n            for (var i = 0; i < _videoCuePointList.length; i++) {\n                var _pd = _videoCuePointList[i];\n                _pd.runNum = 0;\n                _pd.bool = false;\n            }\n        }\n\n        /**\n         * 重置制定时间交互点\n         * @param {string} name 需要重置指定时间点名称\n         */\n\n    }, {\n        key: 'resetCuePointByName',\n        value: function resetCuePointByName(name) {\n\n            var _videoCuePointList = this._videoCuePointList;\n            for (var i = 0; i < _videoCuePointList.length; i++) {\n                var _pd = _videoCuePointList[i];\n                if (_pd.name === name) {\n                    _pd.bool = false;\n                    _pd.runNum = 0;\n                }\n            }\n        }\n\n        /**\n         * 清空清除所有的交互节点\n         */\n\n    }, {\n        key: 'clearCuePoints',\n        value: function clearCuePoints() {\n            this._videoCuePointList = [];\n        }\n\n        /**\n         * 播放源\n         * @return {string|*}\n         */\n\n    }, {\n        key: 'play',\n\n\n        /**\n         * 播放\n         */\n        value: function play() {\n            this._videoPlayer.play();\n        }\n\n        /**\n         * 暂停\n         */\n\n    }, {\n        key: 'pause',\n        value: function pause() {\n            this._videoPlayer.pause();\n        }\n\n        /**\n         * 寻找跳转到指定的时间\n         * @param {number} value\n         */\n\n    }, {\n        key: 'seekToTime',\n        value: function seekToTime(value) {\n            this._videoPlayer.seekToTime(value);\n        }\n\n        /**\n         * 跳转到制定帧\n         * `只能mpg fs 播放器可以使用`\n         * @param {number} frame [帧数]\n         */\n\n    }, {\n        key: 'seekToFrame',\n        value: function seekToFrame(frame) {\n            if (this._videoPlayer.seekToFrame) this._videoPlayer.seekToFrame(frame, true);\n        }\n\n        /**\n         * 音量\n         */\n\n    }, {\n        key: 'videoPlayer',\n        get: function get() {\n            return this._videoPlayer;\n        }\n    }, {\n        key: 'videoCuePointList',\n        get: function get() {\n            return this._videoCuePointList.concat();\n        }\n    }, {\n        key: 'url',\n        get: function get() {\n            return this._url;\n        }\n\n        /**\n         * 当前视频时间\n         */\n\n    }, {\n        key: 'currentTime',\n        get: function get() {\n            return this._videoPlayer.currentTime;\n        }\n\n        /**\n         * 设置获取播放器播放状态\n         */\n\n    }, {\n        key: 'playing',\n        get: function get() {\n            return this._videoPlayer.playing;\n        },\n        set: function set(bool) {\n            if (bool) this.play();else this.pause();\n        }\n    }, {\n        key: 'volume',\n        get: function get() {\n            return this._videoPlayer.volume;\n        },\n        set: function set(value) {\n            this._videoPlayer.volume = value;\n        }\n\n        /**\n         * 设置获取是否禁音状态\n         */\n\n    }, {\n        key: 'muted',\n        get: function get() {\n            return this._videoPlayer.muted;\n        },\n        set: function set(value) {\n            this._videoPlayer.muted = value;\n        }\n    }, {\n        key: 'el',\n        get: function get() {\n            return this._videoPlayer.el;\n        }\n    }]);\n    return VideoInteractivePlayer;\n}(_EventDispatcher3.default);\n\nvar root = typeof window !== 'undefined' ? window : (typeof process === 'undefined' ? 'undefined' : (0, _typeof3.default)(process)) === 'object' && \"function\" === 'function' && (typeof global === 'undefined' ? 'undefined' : (0, _typeof3.default)(global)) === 'object' ? global : undefined;\n\nvar ds = root.ds = root.ds || {};\nds.media = ds.media || {};\nds.media.VideoInteractivePlayer = VideoInteractivePlayer;\n\nexports.default = VideoInteractivePlayer;\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(15), __webpack_require__(8)))\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/ds/media/VideoInteractivePlayer.js\n// module id = 136\n// module chunks = 0\n\n//# sourceURL=webpack:///./src/ds/media/VideoInteractivePlayer.js?")},function(module,exports,__webpack_require__){"use strict";eval("/* WEBPACK VAR INJECTION */(function(process, global) {\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _typeof2 = __webpack_require__(9);\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nvar _getPrototypeOf = __webpack_require__(72);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(70);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(71);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(73);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(74);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _EventDispatcher2 = __webpack_require__(69);\n\nvar _EventDispatcher3 = _interopRequireDefault(_EventDispatcher2);\n\nvar _iphoneInlineVideoMin = __webpack_require__(138);\n\nvar _iphoneInlineVideoMin2 = _interopRequireDefault(_iphoneInlineVideoMin);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n *  视频标签交互播放器\n *\n *  需要用到\n *  https://github.com/bfred-it/iphone-inline-video\n *\n *  #### HTML标签\n *  ```html\n *  \x3c!-- 放视频的容器  --\x3e\n <div id=\"MyVideoPanel\">\n \x3c!-- 进行需要控制的视频 --\x3e\n <video class='MyVideo'\n width=\"640\" height=\"1140\"\n playsinline=\"true\"\n webkit-playsinline=\"true\"\n x-webkit-airplay=\"true\"\n x5-video-player-type=\"h5\"\n x5-video-orientation=\"portrait\"\n x5-video-player-fullscreen=\"true\"\n preload=\"meta\"\n poster=\"\"\n volume='0'\n style=\"position: absolute; left: 3000px; top: 0; object-fit: fill\"\n src=\"。/media/test.mp4\" >\n </video>\n </div>\n *  ```\n *   注意对 preload的设置\n preload=\"auto\" 当页面加载后载入整个视频\n preload=\"meta\" 当页面加载后只载入元数据\n preload=\"none\" 当页面加载后只载入元数据\n 视频不能进行diplay:none;但可以设置left: 3000px;\n `关于x5内的video标签还可以查看`[腾讯X5同层播放器](https://x5.tencent.com/tbs/guide/tech.html)\n\n #### CSS样式设置\n\n * ```css\n .IIV::-webkit-media-controls-play-button,\n .IIV::-webkit-media-controls-start-playback-button {\n           opacity: 0;\n           pointer-events: none;\n           width: 5px;\n }\n #MyVideoPanel video::-webkit-media-controls-start-playback-button {\n           display: none;\n }\n #MyVideoPanel canvas {\n         position: absolute;\n         left:0;top:0;\n }\n * ```\n *  @class\n *  @memberof ds.media\n *  @requires module:libs/media/iphone-inline-video.browser.js\n */\nvar VideoTagPlayer = function (_EventDispatcher) {\n    (0, _inherits3.default)(VideoTagPlayer, _EventDispatcher);\n\n    /**\n     *\n     * @param {string} url 视频源\n     * @param {object} opts 播放器配置\n     */\n    function VideoTagPlayer(url, opts) {\n        (0, _classCallCheck3.default)(this, VideoTagPlayer);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (VideoTagPlayer.__proto__ || (0, _getPrototypeOf2.default)(VideoTagPlayer)).call(this));\n\n        var _self = _this;\n\n        opts = opts || {};\n\n        _this._opts = opts;\n        /**\n         * 如果使用动态创建的video标签 的动态class 名，\"VideoTagPlayer\"+this.dynamicID\n         * @type {number}\n         */\n        _this.dynamicID = new Date().getTime();\n\n        var _html = [\" <video class=\\'\" + \"VideoTagPlayer\" + _this.dynamicID + \"\\'\", \"               width=\\\"640\\\" height=\\\"1040\\\"\", \"               playsinline\", \"               webkit-playsinline=\\\"true\\\"\", \"               x-webkit-airplay=\\\"true\\\"\", \"               x5-video-player-type=\\\"h5\\\"\", \"               x5-video-orientation=\\\"portrait\\\"\", \"               x5-video-player-fullscreen=\\\"true\\\"\", \"               preload=\\\"meta\\\"\", \"               poster=\\\"\\\"\", \"               volume=\\'0\\'\", \"               style=\\\"position: absolute; left: 3000px; top: 0; object-fit: fill\\\"\", \"               src=\\\"\\\" >\", \"        </video>\"].join(\"\");\n\n        var _el = void 0;\n        if (opts.el) _el = $(opts.el);\n        if (!_el) _el = $(_html);\n\n        _this._video = _el[0];\n        var _video = _this._video;\n\n        if (opts.append) $(opts.append).append(_video);\n\n        if (opts.css) $(_el).css(opts.css);\n\n        if (url !== undefined && url !== null) {\n            _video.autoplay = opts.autoplay != undefined ? opts.autoplay : false;\n            _video.loop = opts.loop != undefined ? opts.loop : false;\n            _video.src = url;\n            _video.load();\n        }\n\n        //解决ios下全屏播放问题\n\n        (0, _iphoneInlineVideoMin2.default)(_this._video);\n\n        //视频事件参考 http://www.w3school.com.cn/tags/html_ref_audio_video_dom.asp\n        _this._videoEvents = ['abort', //当音频/视频的加载已放弃时\n        // , 'canplay' //当浏览器可以播放音频/视频时\n        // , 'canplaythrough' //当浏览器可在不因缓冲而停顿的情况下进行播放时\n        'durationchange', //当音频/视频的时长已更改时\n        'emptied', //当目前的播放列表为空时\n        // , 'ended' //当目前的播放列表已结束时\n        'error', //当在音频/视频加载期间发生错误时\n        'loadeddata', //当浏览器已加载音频/视频的当前帧时\n        'loadedmetadata', //当浏览器已加载音频/视频的元数据时\n        'loadstart', //当浏览器开始查找音频/视频时\n        // , 'pause' //当音频/视频已暂停时\n        // , 'play' //当音频/视频已开始或不再暂停时\n        // , 'playing' //当音频/视频在已因缓冲而暂停或停止后已就绪时\n        // , 'progress' //当浏览器正在下载音频/视频时\n        'ratechange', //当音频/视频的播放速度已更改时\n        'seeked', //当用户已移动/跳跃到音频/视频中的新位置时\n        'seeking', //当用户开始移动/跳跃到音频/视频中的新位置时\n        'stalled', //当浏览器尝试获取媒体数据，但数据不可用时\n        'suspend', //当浏览器刻意不获取媒体数据时\n        // , 'timeupdate' //当目前的播放位置已更改时\n        'volumechange', //当音量已更改时\n        'waiting'];\n\n        _video.addEventListener(\"timeupdate\", function (e) {\n            _self._updateEvent();\n        });\n        _video.addEventListener(\"play\", function (e) {\n            _self._playEvent();\n        });\n        _video.addEventListener(\"pause\", function (e) {\n            _self._pauseEvent();\n        });\n        _video.addEventListener(\"ended\", function (e) {\n            _self._playEndEvent();\n        });\n\n        return _this;\n    }\n\n    (0, _createClass3.default)(VideoTagPlayer, [{\n        key: '_updateEvent',\n        value: function _updateEvent() {\n            if (this._opts.onupdate) this._opts.onupdate();\n            /**\n             * 刷新事件\n             * @event ds.media.VideoTagPlayer#update\n             */\n            this.ds('update');\n        }\n    }, {\n        key: '_playEvent',\n        value: function _playEvent() {\n            if (this._opts.onplay) this._opts.onplay();\n            this._video.play();\n            /**\n             * 播放\n             * @event ds.media.VideoTagPlayer#play\n             */\n            this.ds('play');\n        }\n    }, {\n        key: '_pauseEvent',\n        value: function _pauseEvent() {\n            if (this._opts.onpause) this._opts.onpause();\n            this._video.pause();\n            /**\n             * 暂停\n             * @event ds.media.VideoTagPlayer#pause\n             */\n            this.ds('pause');\n        }\n    }, {\n        key: '_playEndEvent',\n        value: function _playEndEvent() {\n            if (this._opts.onplayend) this._opts.onplayend();\n            /**\n             * 播放结束\n             * @event ds.media.VideoTagPlayer#playEnd\n             */\n            this.ds('playEnd');\n        }\n\n        /**\n         * 播放\n         */\n\n    }, {\n        key: 'play',\n        value: function play() {\n            this._video.play();\n        }\n\n        /**\n         * 暂停\n         */\n\n    }, {\n        key: 'pause',\n        value: function pause() {\n            this._video.pause();\n        }\n\n        /**\n         * 跳转到制定时间\n         * @param {number} value 跳转到指定时间\n         */\n\n    }, {\n        key: 'seekToTime',\n        value: function seekToTime(value) {\n            this._video.currentTime = value;\n        }\n\n        /**\n         * 是否播放中\n         * @return {boolean}\n         */\n\n    }, {\n        key: 'playing',\n        get: function get() {\n            return !this._video.paused;\n        }\n\n        /**\n         * 当前时间\n         */\n\n    }, {\n        key: 'currentTime',\n        get: function get() {\n            return this._video.currentTime;\n        }\n\n        /**\n         * 时间长度\n         */\n\n    }, {\n        key: 'duration',\n        get: function get() {\n            return this._video.duration;\n        }\n\n        /**\n         * 设置获取声音大小\n         */\n\n    }, {\n        key: 'volume',\n        get: function get() {\n            return this._video.volume;\n        },\n        set: function set(value) {\n            this._video.volume = value;\n        }\n\n        /**\n         * 设置获取是否禁音\n         * @param {boolean} value\n         */\n\n    }, {\n        key: 'muted',\n        get: function get() {\n            return this._video.muted;\n        },\n        set: function set(value) {\n            this._video.volume = value;\n        }\n\n        /**\n         * 视频播放器呈现dom元素，视频标签\n         * @return {VideoElement}\n         */\n\n    }, {\n        key: 'video',\n        get: function get() {\n            return this._video;\n        }\n\n        /**\n         * 视频播放器呈现dom元素，视频标签\n         * @return {VideoElement}\n         */\n\n    }, {\n        key: 'el',\n        get: function get() {\n            return this._video;\n        }\n    }]);\n    return VideoTagPlayer;\n}(_EventDispatcher3.default);\n\n// weboack打包有问题 所以对iphone-inline-video.min.js做了些修改\n// window.enableInlineVideo = require('libs/media/iphone-inline-video.min.js');\n\n\nvar root = typeof window !== 'undefined' ? window : (typeof process === 'undefined' ? 'undefined' : (0, _typeof3.default)(process)) === 'object' && \"function\" === 'function' && (typeof global === 'undefined' ? 'undefined' : (0, _typeof3.default)(global)) === 'object' ? global : undefined;\n\nvar ds = root.ds = root.ds || {};\nds.media = ds.media || {};\nds.media.VideoTagPlayer = VideoTagPlayer;\n\nexports.default = VideoTagPlayer;\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(15), __webpack_require__(8)))\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/ds/media/VideoTagPlayer.js\n// module id = 137\n// module chunks = 0\n\n//# sourceURL=webpack:///./src/ds/media/VideoTagPlayer.js?")},function(module,exports,__webpack_require__){eval('var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*! npm.im/iphone-inline-video 2.2.2 */\nvar enableInlineVideo=function(){"use strict";/*! npm.im/intervalometer */\nfunction e(e,i,n,r){function t(n){d=i(t,r),e(n-(a||n)),a=n}var d,a;return{start:function(){d||t(0)},stop:function(){n(d),d=null,a=0}}}function i(i){return e(i,requestAnimationFrame,cancelAnimationFrame)}function n(e,i,n){function r(r){n&&!n(e,i)||r.stopImmediatePropagation()}return e.addEventListener(i,r),r}function r(e,i,n,r){function t(){return n[i]}function d(e){n[i]=e}r&&d(e[i]),Object.defineProperty(e,i,{get:t,set:d})}function t(e,i,n){n.addEventListener(i,function(){return e.dispatchEvent(new Event(i))})}function d(e,i){Promise.resolve().then(function(){e.dispatchEvent(new Event(i))})}function a(e){var i=new Audio;return t(e,"play",i),t(e,"playing",i),t(e,"pause",i),i.crossOrigin=e.crossOrigin,i.src=e.src||e.currentSrc||"data:",i}function u(e,i,n){(m||0)+200<Date.now()&&(e[h]=!0,m=Date.now()),n||(e.currentTime=i),k[++T%3]=100*i|0}function o(e){return e.driver.currentTime>=e.video.duration}function s(e){var i=this;i.video.readyState>=i.video.HAVE_FUTURE_DATA?(i.hasAudio||(i.driver.currentTime=i.video.currentTime+e*i.video.playbackRate/1e3,i.video.loop&&o(i)&&(i.driver.currentTime=0)),u(i.video,i.driver.currentTime)):i.video.networkState===i.video.NETWORK_IDLE&&0===i.video.buffered.length&&i.video.load(),i.video.ended&&(delete i.video[h],i.video.pause(!0))}function c(){var e=this,i=e[g];if(e.webkitDisplayingFullscreen)return void e[E]();"data:"!==i.driver.src&&i.driver.src!==e.src&&(u(e,0,!0),i.driver.src=e.src),e.paused&&(i.paused=!1,0===e.buffered.length&&e.load(),i.driver.play(),i.updater.start(),i.hasAudio||(d(e,"play"),i.video.readyState>=i.video.HAVE_ENOUGH_DATA&&d(e,"playing")))}function v(e){var i=this,n=i[g];n.driver.pause(),n.updater.stop(),i.webkitDisplayingFullscreen&&i[w](),n.paused&&!e||(n.paused=!0,n.hasAudio||d(i,"pause"),i.ended&&!i.webkitDisplayingFullscreen&&(i[h]=!0,d(i,"ended")))}function p(e,n){var r={};e[g]=r,r.paused=!0,r.hasAudio=n,r.video=e,r.updater=i(s.bind(r)),n?r.driver=a(e):(e.addEventListener("canplay",function(){e.paused||d(e,"playing")}),r.driver={src:e.src||e.currentSrc||"data:",muted:!0,paused:!0,pause:function(){r.driver.paused=!0},play:function(){r.driver.paused=!1,o(r)&&u(e,0)},get ended(){return o(r)}}),e.addEventListener("emptied",function(){var i=!r.driver.src||"data:"===r.driver.src;r.driver.src&&r.driver.src!==e.src&&(u(e,0,!0),r.driver.src=e.src,i||!n&&e.autoplay?r.driver.play():r.updater.stop())},!1),e.addEventListener("webkitbeginfullscreen",function(){e.paused?n&&0===r.driver.buffered.length&&r.driver.load():(e.pause(),e[E]())}),n&&(e.addEventListener("webkitendfullscreen",function(){r.driver.currentTime=e.currentTime}),e.addEventListener("seeking",function(){k.indexOf(100*e.currentTime|0)<0&&(r.driver.currentTime=e.currentTime)}))}function l(e){var i=e[h];return delete e[h],!e.webkitDisplayingFullscreen&&!i}function f(e){var i=e[g];e[E]=e.play,e[w]=e.pause,e.play=c,e.pause=v,r(e,"paused",i.driver),r(e,"muted",i.driver,!0),r(e,"playbackRate",i.driver,!0),r(e,"ended",i.driver),r(e,"loop",i.driver,!0),n(e,"seeking",function(e){return!e.webkitDisplayingFullscreen}),n(e,"seeked",function(e){return!e.webkitDisplayingFullscreen}),n(e,"timeupdate",l),n(e,"ended",l)}function y(e,i){if(void 0===i&&(i={}),!e[g]){if(!i.everywhere){if(!b)return;if(!(i.iPad||i.ipad?/iPhone|iPod|iPad/:/iPhone|iPod/).test(navigator.userAgent))return}e.pause();var n=e.autoplay;e.autoplay=!1,p(e,!e.muted),f(e),e.classList.add("IIV"),e.muted&&n&&(e.play(),e.addEventListener("playing",function i(){e.autoplay=!0,e.removeEventListener("playing",i)})),/iPhone|iPod|iPad/.test(navigator.platform)||console.warn("iphone-inline-video is not guaranteed to work in emulated environments")}}var m,b="object"==typeof document&&"object-fit"in document.head.style&&!matchMedia("(-webkit-video-playable-inline)").matches,g="bfred-it:iphone-inline-video",h="bfred-it:iphone-inline-video:event",E="bfred-it:iphone-inline-video:nativeplay",w="bfred-it:iphone-inline-video:nativepause",k=[],T=0;return y}();\nif (true) {\n    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [exports], __WEBPACK_AMD_DEFINE_RESULT__ = function (exports) {\n        module.exports = enableInlineVideo\n    }.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n} else if (typeof exports !== \'undefined\') {\n    module.exports = enableInlineVideo\n}\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/libs/media/iphone-inline-video.min.js\n// module id = 138\n// module chunks = 0\n\n//# sourceURL=webpack:///./src/libs/media/iphone-inline-video.min.js?')},function(module,exports,__webpack_require__){"use strict";eval("/* WEBPACK VAR INJECTION */(function(process, global) {\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _typeof2 = __webpack_require__(9);\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nvar _getPrototypeOf = __webpack_require__(72);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(70);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(71);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(73);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(74);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _EventDispatcher2 = __webpack_require__(69);\n\nvar _EventDispatcher3 = _interopRequireDefault(_EventDispatcher2);\n\nvar _jsmpg = __webpack_require__(140);\n\nvar _jsmpg2 = _interopRequireDefault(_jsmpg);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n *  视频交互类\n *  @class\n *  @memberof ds.media\n */\nvar MpegPlayer = function (_EventDispatcher) {\n    (0, _inherits3.default)(MpegPlayer, _EventDispatcher);\n\n    function MpegPlayer(url, opts) {\n        (0, _classCallCheck3.default)(this, MpegPlayer);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (MpegPlayer.__proto__ || (0, _getPrototypeOf2.default)(MpegPlayer)).call(this));\n\n        var _self = _this;\n\n        opts = opts || {};\n\n        _this._opts = opts;\n\n        //记录加载路径\n        _this._url = url;\n        //是否缓存加载\n        var _progressive = opts.progressive !== undefined ? opts.progressive : true;\n        //是否在声音允许播放就开始进行加载准备解码播放\n        var _loadByAudioCanplay = true;\n\n        var _canvas = void 0;\n        if (opts.el != undefined) _canvas = $(opts.el)[0];else _canvas = document.createElement('canvas');\n\n        var _autoplay = opts.autoplay !== undefined ? opts.autoplay : false;\n        var _autoload = opts.autoload !== undefined ? opts.autoload : true;\n        _this._autoload = _autoload;\n\n        _this._canPlayBool = false;\n\n        var _player = new _jsmpg2.default(url, {\n            canvas: _canvas,\n            //是否自动播放\n            autoplay: _autoplay,\n            //是否自动加载  如果是设置自动播放 肯定是要自动加载\n            autoload: _autoload,\n            //默认加载进度\n            progressShow: !!opts.progressShow,\n            //是否循环\n            loop: !!opts.loop,\n            //是否计算头文件 计算出时间\n            seekable: opts.seekable !== undefined ? opts.seekable : false,\n            //避免头文件未计算完成，得不到总时间\n            duration: opts.duration || 60,\n            //是否缓冲加载播放\n            progressive: _progressive,\n            //缓冲加载播放\n            progressiveThrottled: _progressive,\n            //加载完成\n            onstartload: _startLoad,\n            //加载完成\n            onload: _loadEnd,\n            //帧触发\n            ondecodeframe: _frameUpDate,\n            //加载进度\n            onprogress: _progress,\n            //播放完成\n            onfinished: _playEnd,\n            //触发播放\n            onplay: _onPlay,\n            //触发播放\n            onpause: _onPause,\n            //触发可以播放\n            canPlay: _onCanPlay,\n            //第一个加载完成可以播放进度\n            oncanPlayProgress: _canPlayProgress,\n            //进跳帧后 声音控制\n            upAudioTime: _playerUpAudioTime\n        });\n\n        _this._player = _player;\n        _canvas = _player.canvas;\n        _this._canvas = _canvas;\n\n        if (opts.append) $(opts.append).append(_canvas);\n\n        var _css = void 0;\n\n        if (opts.css) _css = opts.css;else {\n\n            _css = {\n                position: 'absolute',\n                left: 0,\n                top: 0,\n                width: 640,\n                height: 1040\n            };\n        }\n\n        $(_canvas).css(opts.css);\n        if (_css.width && _css.height) _this._resizeCavans(_css.width, _css.height);\n\n        //开始加载\n        function _startLoad() {\n            if (opts.onstartload) opts.onstartload();\n            /**\n             * 开始加载\n             * @event ds.media.MpegPlayer#startLoad\n             */\n            _self.ds('startLoad');\n        }\n\n        //加载完成\n        function _loadEnd() {\n            // console.log('加载完成');\n            if (opts.onload) opts.onload();\n            /**\n             * 加载完成\n             * @event ds.media.MpegPlayer#loadEnd\n             */\n            _self.ds('loadEnd');\n        }\n\n        //帧渲染\n        function _frameUpDate() {\n            if (opts.update) opts.update();\n            /**\n             * 刷新事件\n             * @event ds.media.MpegPlayer#update\n             */\n            _self.ds('update');\n            // console.log('frame:' + (_Player.currentTime >> 0) + '/' + _Player.duration);\n        }\n\n        //加载进度\n        function _progress(progress) {\n            // console.log('加载进度:' + progress);\n            if (opts.onprogress) opts.onprogress(progress);\n            /**\n             * 视频加载进度\n             * @event ds.media.MpegPlayer#progress\n             * @property {number} progress - 加载进度\n             */\n            _self.ds({\n                type: 'progress',\n                progress: progress\n            });\n        }\n\n        function _playEnd() {\n\n            if (opts.onplayend) opts.onplayend();\n            /**\n             * 播放结束\n             * @event ds.media.MpegPlayer#playEnd\n             */\n            _self.ds('playEnd');\n        }\n\n        function _onPlay() {\n\n            if (opts.onplay) opts.onplay();\n            if (_self._audio) {\n\n                if (_self._player && _self._player.currentTime) _self._audio.currentTime = _self._player.currentTime;\n\n                _self._audio.play();\n            }\n            /**\n             * 播放\n             * @event ds.media.MpegPlayer#play\n             */\n            _self.ds('play');\n        }\n\n        function _onPause() {\n            if (opts.onpause) opts.onpause();\n            if (_self._audio) _self._audio.pause();\n            /**\n             * 暂停\n             * @event ds.media.MpegPlayer#pause\n             */\n            _self.ds('pause');\n        }\n\n        function _onCanPlay() {\n            if (_self._canPlayBool) return;\n            _self._canPlayBool = true;\n            if (opts.oncanPlay) opts.oncanPlay();\n            /**\n             * 可以开始播放\n             * @event ds.media.MpegPlayer#canplay\n             */\n            _self.ds('canplay');\n        }\n\n        //第一次触发可以播放进度\n        function _canPlayProgress(progress) {\n            if (opts.oncanPlayProgress) opts.oncanPlayProgress(progress);\n            /**\n             * 第一次触发可以播放进度\n             * @event ds.media.MpegPlayer#canPlayprogress\n             * @property {number} progress - 加载进度\n             */\n            _self.ds({\n                type: 'canPlayprogress',\n                progress: progress\n            });\n        }\n\n        //进行跳帧后 声音播放位置更新\n        function _playerUpAudioTime(time) {\n\n            if (_self._audio) _self._audio.currentTime = time;\n        }\n\n        //音频对象\n        var _audio = null;\n        var _audioUrl = opts.audio || '';\n        if (_audioUrl === '') {\n\n            if (_autoload) _this.load();\n        } else {\n\n            console.log('_audioUrl:', _audioUrl);\n            _audio = new Audio();\n            _this._audio = _audio;\n            _audio.autoplay = false;\n            _audio.src = _audioUrl;\n            _audio.load();\n            //客户端开始请求数据\n            _audio.addEventListener('loadstart', function () {\n                console.log('_audio loadstart');\n            });\n            //客户端开始请求数据\n            _audio.addEventListener('abort', function () {\n                console.log('_audio abort');\n            });\n            //等待数据，并非错误\n            _audio.addEventListener('waiting', function () {});\n            //播放结束\n            _audio.addEventListener('ended', function () {});\n            //加载完成 其实不是\n            _audio.addEventListener('loadedmetadata', function () {});\n            //客户端正在请求数据\n            _audio.addEventListener('progress', function () {});\n            //延迟下载\n            _audio.addEventListener('suspend', function () {});\n            //play()和autoplay开始播放时触发\n            _audio.addEventListener('play', function () {});\n            //pause()触发\n            _audio.addEventListener('pause', function () {});\n            //可以播放\n            _audio.addEventListener('canplaythrough', function () {\n                _self._audioCanplay();\n            });\n            _audio.addEventListener('error', function () {\n                _self._audioError();\n            });\n\n            //更加配置判断是否通过touch触发声音播放\n            if (opts.hasTouchstart) {\n                document.body.addEventListener('touchstart', _audioInBrowserHandler);\n            }\n        }\n\n        function _audioInBrowserHandler() {\n            document.body.removeEventListener('touchstart', _audioInBrowserHandler);\n            _self._audioOnDocumentTouchstart();\n        }\n\n        return _this;\n    }\n\n    (0, _createClass3.default)(MpegPlayer, [{\n        key: '_audioCanplay',\n        value: function _audioCanplay() {\n            if (this._autoload) this.load();\n        }\n    }, {\n        key: '_audioError',\n        value: function _audioError() {\n            console.warn('声音加载错误');\n        }\n    }, {\n        key: '_audioOnDocumentTouchstart',\n        value: function _audioOnDocumentTouchstart() {\n            if (this._audio) {\n                this._audio.play();\n                this._audio.pause();\n            }\n        }\n\n        /**\n         * 设置画布大小\n         * @param width\n         * @param height\n         * @private\n         */\n\n    }, {\n        key: '_resizeCavans',\n        value: function _resizeCavans(width, height) {\n\n            this._canvas.setAttribute('width', width);\n            this._canvas.setAttribute('height', height);\n            $(this._canvas).css({\n                \"width\": width + 'px',\n                \"height\": height + 'px'\n            });\n        }\n\n        /**\n         * 开始加载\n         */\n\n    }, {\n        key: 'load',\n        value: function load() {\n\n            var _url = this._url;\n            if (this._player.progressive) this._player.beginProgressiveLoad(_url);else this._player.load(_url);\n        }\n    }, {\n        key: 'play',\n\n\n        /**\n         * 播放\n         */\n        value: function play() {\n            if (!this._canPlayBool) return;\n            console.log('Play', this._player.playing);\n            // _Playing = true;\n            this._player.play();\n            if (this._audio) {\n                this._audio.currentTime = this._player.currentTime;\n                this._audio.play();\n            }\n        }\n\n        /**\n         * 暂停\n         */\n\n    }, {\n        key: 'pause',\n        value: function pause() {\n            if (!this._canPlayBool) return;\n            this._player.pause();\n            if (this._audio) this._audio.pause();\n        }\n\n        /**\n         * 跳转到制定时间\n         * @param {number} value 跳转到指定时间\n         */\n\n    }, {\n        key: 'seekToTime',\n        value: function seekToTime(value) {\n            this._player.seekToTime(value, true);\n            // this._player.currentTime = value;\n        }\n\n        /**\n         * 跳转到制定帧\n         * @param {number} frame [帧数]\n         */\n\n    }, {\n        key: 'seekToFrame',\n        value: function seekToFrame(frame) {\n            this._player.seekToFrame(frame, true);\n        }\n    }, {\n        key: 'currentTime',\n\n\n        /**\n         * 当前时间\n         */\n        get: function get() {\n            return this._player.currentTime;\n        }\n\n        /**\n         * 时间长度\n         */\n\n    }, {\n        key: 'duration',\n        get: function get() {\n            return this._player.duration;\n        }\n    }, {\n        key: 'volume',\n        get: function get() {\n            return this._audio ? this._audio.volume : 0;\n        }\n\n        /**\n         * 设置获取声音大小\n         * @param {number} value\n         */\n        ,\n        set: function set(value) {\n            if (this._audio) this._audio.volume = value;\n        }\n    }, {\n        key: 'muted',\n        get: function get() {\n            return this._audio ? this._audio.muted : true;\n        }\n\n        /**\n         * 设置获取是否禁音\n         * @param {boolean} value\n         */\n        ,\n        set: function set(value) {\n            this._audio.muted = value;\n        }\n\n        /**\n         * 总帧数\n         */\n\n    }, {\n        key: 'frameCount',\n        get: function get() {\n            return this._player.frameCount;\n        }\n\n        /**\n         * 当前帧\n         */\n\n    }, {\n        key: 'currentFrame',\n        get: function get() {\n            return this._player.currentFrame;\n        }\n\n        /**\n         * 设置获取播放器播放状态\n         */\n\n    }, {\n        key: 'playing',\n        get: function get() {\n            return this._player.playing;\n        },\n        set: function set(bool) {\n            if (bool) this.play();else this.pause();\n        }\n\n        /**\n         * 播放声音对象\n         * @return {AudioElement}\n         */\n\n    }, {\n        key: 'audio',\n        get: function get() {\n            return this._audio;\n        }\n\n        /**\n         * 视频播放器 jsmpeg实现的渲染器\n         * @return {jsmpeg}\n         */\n\n    }, {\n        key: 'player',\n        get: function get() {\n            return this._player;\n        }\n\n        /**\n         * 视频播放器呈现dom元素，cavnas\n         * @return {CavansElement}\n         */\n\n    }, {\n        key: 'el',\n        get: function get() {\n            return this._canvas;\n        }\n    }]);\n    return MpegPlayer;\n}(_EventDispatcher3.default);\n\nvar root = typeof window !== 'undefined' ? window : (typeof process === 'undefined' ? 'undefined' : (0, _typeof3.default)(process)) === 'object' && \"function\" === 'function' && (typeof global === 'undefined' ? 'undefined' : (0, _typeof3.default)(global)) === 'object' ? global : undefined;\n\nvar ds = root.ds = root.ds || {};\nds.media = ds.media || {};\nds.media.MpegPlayer = MpegPlayer;\n\nexports.default = MpegPlayer;\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(15), __webpack_require__(8)))\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/ds/media/MpegPlayer.js\n// module id = 139\n// module chunks = 0\n\n//# sourceURL=webpack:///./src/ds/media/MpegPlayer.js?")},function(module,exports,__webpack_require__){eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/**\n * 老版mepg  基本可以废弃\n */\n(function (window) {\n    'use strict';\n\n    var jsmpeg = window.jsmpeg = function (url, opts) {\n        opts = opts || {};\n        this.benchmark = !!opts.benchmark;\n        this.canvas = opts.canvas || document.createElement('canvas');\n        this.progressShow = !!opts.progressShow;\n\n        this.autoplay = !!opts.autoplay;\n        this.autoload = opts.autoload !== undefined ? opts.autoload : false;\n        // console.log(\tthis.autoload);\n        this.wantsToPlay = this.autoplay;\n        this.loop = !!opts.loop;\n        this.seekable = opts.seekable !== undefined ? opts.seekable : true;\n        this.externalStartLoadCallback = opts.onstartload || null;\n        this.externalLoadCallback = opts.onload || null;\n        this.externalDecodeCallback = opts.ondecodeframe || null;\n        this.externalFinishedCallback = opts.onfinished || null;\n        this.externalProgressCallback = opts.onprogress || null;\n        this.externalplayCallback = opts.onplay || null;\n        this.externalpauseCallback = opts.onpause || null;\n        this.externalcanPlayCallback = opts.canPlay || null;\n        this.externalCanPlayProgressCallback = opts.oncanPlayProgress || null;\n        this.externalupAudioTimeCallback = opts.upAudioTime || null;\n\n        this.duration = opts.duration || 0;\n\n        this.progressive = opts.progressive !== undefined ? opts.progressive : true;\n        this.progressiveThrottled = !!opts.progressiveThrottled;\n        this.progressiveChunkSize = opts.progressiveChunkSize || 1024 * 1024;\n        this.progressiveChunkSizeMax = 50 * 1024 * 1024;\n\n        this.customIntraQuantMatrix = new Uint8Array(64);\n        this.customNonIntraQuantMatrix = new Uint8Array(64);\n        this.blockData = new Int32Array(64);\n        this.zeroBlockData = new Int32Array(64);\n        this.fillArray(this.zeroBlockData, 0);\n\n        // Use WebGL for YCbCrToRGBA conversion if possible (much faster)\n        if (!opts.forceCanvas2D && this.initWebGL()) {\n            this.renderFrame = this.renderFrameGL;\n            this.updateLoader = this.updateLoaderGL;\n        }\n        else {\n            this.canvasContext = this.canvas.getContext('2d');\n            this.renderFrame = this.renderFrame2D;\n            this.updateLoader = this.updateLoader2D;\n        }\n        this.startLoadBool = false;\n        if (url instanceof WebSocket) {\n            this.client = url;\n            this.client.onopen = this.initSocketClient.bind(this);\n        }\n        else if (this.progressive) {\n            if (this.autoload) this.beginProgressiveLoad(url);\n        }\n        else {\n            if (this.autoload) this.load(url);\n        }\n    };\n\n\n// ----------------------------------------------------------------------------\n// Streaming over WebSockets\n\n    jsmpeg.prototype.waitForIntraFrame = true;\n    jsmpeg.prototype.socketBufferSize = 512 * 1024; // 512kb each\n\n    jsmpeg.prototype.initSocketClient = function () {\n        this.buffer = new BitReader(new ArrayBuffer(this.socketBufferSize));\n\n        this.nextPictureBuffer = new BitReader(new ArrayBuffer(this.socketBufferSize));\n        this.nextPictureBuffer.writePos = 0;\n        this.nextPictureBuffer.chunkBegin = 0;\n        this.nextPictureBuffer.lastWriteBeforeWrap = 0;\n\n        this.client.binaryType = 'arraybuffer';\n        this.client.onmessage = this.receiveSocketMessage.bind(this);\n    };\n\n    jsmpeg.prototype.decodeSocketHeader = function (data) {\n        // Custom header sent to all newly connected clients when streaming\n        // over websockets:\n        // struct { char magic[4] = 'jsmp'; unsigned short width, height; };\n        if (\n            data[0] === SOCKET_MAGIC_BYTES.charCodeAt(0) &&\n            data[1] === SOCKET_MAGIC_BYTES.charCodeAt(1) &&\n            data[2] === SOCKET_MAGIC_BYTES.charCodeAt(2) &&\n            data[3] === SOCKET_MAGIC_BYTES.charCodeAt(3)\n        ) {\n            this.width = (data[4] * 256 + data[5]);\n            this.height = (data[6] * 256 + data[7]);\n            this.initBuffers();\n        }\n    };\n\n    jsmpeg.prototype.receiveSocketMessage = function (event) {\n        var messageData = new Uint8Array(event.data);\n\n        if (!this.sequenceStarted) {\n            this.decodeSocketHeader(messageData);\n        }\n\n        var current = this.buffer;\n        var next = this.nextPictureBuffer;\n\n        if (next.writePos + messageData.length > next.length) {\n            next.lastWriteBeforeWrap = next.writePos;\n            next.writePos = 0;\n            next.index = 0;\n        }\n\n        next.bytes.set(messageData, next.writePos);\n        next.writePos += messageData.length;\n\n        var startCode = 0;\n        while (true) {\n            startCode = next.findNextMPEGStartCode();\n            if (\n                startCode === BitReader.NOT_FOUND ||\n                ((next.index >> 3) > next.writePos)\n            ) {\n                // We reached the end with no picture found yet; move back a few bytes\n                // in case we are at the beginning of a start code and exit.\n                next.index = Math.max((next.writePos - 3), 0) << 3;\n                return;\n            }\n            else if (startCode === START_PICTURE) {\n                break;\n            }\n        }\n\n        // If we are still here, we found the next picture start code!\n\n\n        // Skip picture decoding until we find the first intra frame?\n        if (this.waitForIntraFrame) {\n            next.advance(10); // skip temporalReference\n            if (next.getBits(3) === PICTURE_TYPE_I) {\n                this.waitForIntraFrame = false;\n                next.chunkBegin = (next.index - 13) >> 3;\n            }\n            return;\n        }\n\n        // Last picture hasn't been decoded yet? Decode now but skip output\n        // before scheduling the next one\n        if (!this.currentPictureDecoded) {\n            this.decodePicture(DECODE_SKIP_OUTPUT);\n        }\n\n\n        // Copy the picture chunk over to 'this.buffer' and schedule decoding.\n        var chunkEnd = ((next.index) >> 3);\n\n        if (chunkEnd > next.chunkBegin) {\n            // Just copy the current picture chunk\n            current.bytes.set(next.bytes.subarray(next.chunkBegin, chunkEnd));\n            current.writePos = chunkEnd - next.chunkBegin;\n        }\n        else {\n            // We wrapped the nextPictureBuffer around, so we have to copy the last part\n            // till the end, as well as from 0 to the current writePos\n            current.bytes.set(next.bytes.subarray(next.chunkBegin, next.lastWriteBeforeWrap));\n            var written = next.lastWriteBeforeWrap - next.chunkBegin;\n            current.bytes.set(next.bytes.subarray(0, chunkEnd), written);\n            current.writePos = chunkEnd + written;\n        }\n\n        current.index = 0;\n        next.chunkBegin = chunkEnd;\n\n        // Decode!\n        this.currentPictureDecoded = false;\n        setTimeout(function () {\n            this.decodePicture();\n            this.currentPictureDecoded = true;\n        }.bind(this));\n    };\n\n\n// ----------------------------------------------------------------------------\n// Recording from WebSockets\n\n    jsmpeg.prototype.isRecording = false;\n    jsmpeg.prototype.recorderWaitForIntraFrame = false;\n    jsmpeg.prototype.recordedFrames = 0;\n    jsmpeg.prototype.recordedSize = 0;\n    jsmpeg.prototype.didStartRecordingCallback = null;\n\n    jsmpeg.prototype.recordBuffers = [];\n\n    jsmpeg.prototype.canRecord = function () {\n        return (this.client && this.client.readyState === this.client.OPEN);\n    };\n\n    jsmpeg.prototype.startRecording = function (callback) {\n        if (!this.canRecord()) {\n            return;\n        }\n        // Discard old buffers and set for recording\n        this.discardRecordBuffers();\n        this.isRecording = true;\n        this.recorderWaitForIntraFrame = true;\n        this.didStartRecordingCallback = callback || null;\n\n        this.recordedFrames = 0;\n        this.recordedSize = 0;\n\n        // Fudge a simple Sequence Header for the MPEG file\n\n        // 3 bytes width & height, 12 bits each\n        var wh1 = (this.width >> 4),\n            wh2 = ((this.width & 0xf) << 4) | (this.height >> 8),\n            wh3 = (this.height & 0xff);\n\n        this.recordBuffers.push(new Uint8Array([\n            0x00, 0x00, 0x01, 0xb3, // Sequence Start Code\n            wh1, wh2, wh3, // Width & height\n            0x13, // aspect ratio & framerate\n            0xff, 0xff, 0xe1, 0x58, // Meh. Bitrate and other boring stuff\n            0x00, 0x00, 0x01, 0xb8, 0x00, 0x08, 0x00, // GOP\n            0x00, 0x00, 0x00, 0x01, 0x00 // First Picture Start Code\n        ]));\n    };\n\n    jsmpeg.prototype.recordFrameFromCurrentBuffer = function () {\n        if (!this.isRecording) {\n            return;\n        }\n\n        if (this.recorderWaitForIntraFrame) {\n            // Not an intra frame? Exit.\n            if (this.pictureCodingType !== PICTURE_TYPE_I) {\n                return;\n            }\n\n            // Start recording!\n            this.recorderWaitForIntraFrame = false;\n            if (this.didStartRecordingCallback) {\n                this.didStartRecordingCallback(this);\n            }\n        }\n\n        this.recordedFrames++;\n        this.recordedSize += this.buffer.writePos;\n\n        // Copy the actual subrange for the current picture into a new Buffer\n        this.recordBuffers.push(new Uint8Array(this.buffer.bytes.subarray(0, this.buffer.writePos)));\n    };\n\n    jsmpeg.prototype.discardRecordBuffers = function () {\n        this.recordBuffers = [];\n        this.recordedFrames = 0;\n    };\n\n    jsmpeg.prototype.stopRecording = function () {\n        var blob = new Blob(this.recordBuffers, {type: 'video/mpeg'});\n        this.discardRecordBuffers();\n        this.isRecording = false;\n        return blob;\n    };\n\n\n// ----------------------------------------------------------------------------\n// Loading via Ajax\n\n    jsmpeg.prototype.intraFrames = [];\n    jsmpeg.prototype.currentFrame = -1;\n    jsmpeg.prototype.currentTime = 0;\n    jsmpeg.prototype.frameCount = 0;\n    jsmpeg.prototype.duration = 0;\n\n    jsmpeg.prototype.load = function (url) {\n        if (this.startLoadBool) return;\n        this.startLoadBool = true;\n        this.url = url;\n\n        var request = new XMLHttpRequest();\n        var that = this;\n        request.onreadystatechange = function () {\n            if (request.readyState == request.DONE && request.status == 200) {\n                that.loadCallback(request.response);\n            }\n        };\n\n        request.onprogress = this.updateLoader.bind(this);\n        request.open('GET', url);\n        request.responseType = \"arraybuffer\";\n        request.send();\n        if (this.externalStartLoadCallback) this.externalStartLoadCallback();\n    };\n\n    jsmpeg.prototype.updateLoader2D = function (ev) {\n        var\n            p = ev.loaded / ev.total,\n            w = this.canvas.width,\n            h = this.canvas.height,\n            ctx = this.canvasContext;\n        this._progress = p;\n        if (this.externalProgressCallback) {\n            this.externalProgressCallback(this._progress);\n        }\n\n\n        if (!this.progressShow) return;\n        ctx.fillStyle = '#222';\n        ctx.fillRect(0, 0, w, h);\n        ctx.fillStyle = '#fff';\n        ctx.fillRect(0, h - h * p, w, h * p);\n    };\n\n    jsmpeg.prototype.updateLoaderGL = function (ev) {\n        // console.log('updateLoaderGL',ev.loaded/ev.total);\n        this._progress = ev.loaded / ev.total;\n        if (this.externalProgressCallback) {\n            this.externalProgressCallback(this._progress);\n        }\n        if (!this.progressShow) return;\n        var gl = this.gl;\n        gl.uniform1f(gl.getUniformLocation(this.loadingProgram, 'loaded'), (ev.loaded / ev.total));\n        gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);\n    };\n\n    jsmpeg.prototype.loadCallback = function (file) {\n        console.log('loadCallback');\n        this.buffer = new BitReader(file);\n        if (this.seekable) {\n            this.collectIntraFrames();\n            this.buffer.index = 0;\n        }\n\n        this.findStartCode(START_SEQUENCE);\n        this.firstSequenceHeader = this.buffer.index;\n        this.decodeSequenceHeader();\n\n        // Calculate the duration. This only works if the video is seekable and we have a frame count\n        this.duration = this.frameCount / this.pictureRate;\n\n        // Load the first frame\n        this.nextFrame();\n\n        if (this.autoplay) {\n            this.play();\n        }\n\n        if (this.externalLoadCallback) {\n            this.externalLoadCallback(this);\n        }\n    };\n\n    jsmpeg.prototype.collectIntraFrames = function () {\n        // Loop through the whole buffer and collect all intraFrames to build our seek index.\n        // We also keep track of total frame count here\n        var frame;\n        for (frame = 0; this.findStartCode(START_PICTURE) !== BitReader.NOT_FOUND; frame++) {\n\n            // Check if the found picture is an intra frame and remember the position\n            this.buffer.advance(10); // skip temporalReference\n            if (this.buffer.getBits(3) === PICTURE_TYPE_I) {\n                // Remember index 13 bits back, before temporalReference and picture type\n                this.intraFrames.push({frame: frame, index: this.buffer.index - 13});\n            }\n        }\n        console.log('collectIntraFrames:', frame);\n        this.frameCount = frame;\n    };\n\n    jsmpeg.prototype.seekToFrame = function (seekFrame, seekExact) {\n        console.log('jsmpeg.prototype.seekToFrame:', seekFrame, this.frameCount, this.intraFrames.length);\n        console.log('seekToFrame Bool:', seekFrame < 0, seekFrame, this.frameCount, this.intraFrames.length);\n        if (seekFrame < 0 || seekFrame >= this.frameCount || !this.intraFrames.length) {\n            return false;\n        }\n\n        // Find the last intra frame before or equal to seek frame\n        var target = null;\n        for (var i = 0; i < this.intraFrames.length && this.intraFrames[i].frame <= seekFrame; i++) {\n            target = this.intraFrames[i];\n        }\n\n        this.buffer.index = target.index;\n        this.currentFrame = target.frame - 1;\n\n        // If we're seeking to the exact frame, we may have to decode some more frames before\n        // the one we want\n        if (seekExact) {\n            for (var frame = target.frame; frame < seekFrame; frame++) {\n                this.decodePicture(DECODE_SKIP_OUTPUT);\n                this.findStartCode(START_PICTURE);\n            }\n            this.currentFrame = seekFrame - 1;\n        }\n\n        // Decode and display the picture we have seeked to\n        this.decodePicture();\n\n        return true;\n    };\n\n    jsmpeg.prototype.seekToTime = function (time, seekExact) {\n        console.log('jsmpeg.prototype.seekToTime:', time, ((time * this.pictureRate) | 0), seekExact);\n        var _bool = this.seekToFrame((time * this.pictureRate) | 0, seekExact);\n        if (_bool && this.externalupAudioTimeCallback) {\n            this.externalupAudioTimeCallback(time);\n        }\n    };\n\n    jsmpeg.prototype.play = function () {\n        if (this.playing) {\n            return;\n        }\n\n        if (this.progressive) {\n            this.wantsToPlay = true;\n            this.attemptToPlay();\n        }\n        else {\n            this._playNow();\n        }\n    };\n\n    jsmpeg.prototype._playNow = function () {\n        this.targetTime = this.now();\n        this.playing = true;\n        if (this.externalplayCallback) this.externalplayCallback();\n        this.scheduleNextFrame();\n    };\n\n    jsmpeg.prototype.pause = function () {\n        this.playing = false;\n        this.wantsToPlay = false;\n        if (this.externalpauseCallback) this.externalpauseCallback();\n    };\n\n    jsmpeg.prototype.stop = function () {\n        this.currentFrame = -1;\n        this.currentTime = 0;\n        this.wantsToPlay = false;\n        if (this.buffer) {\n            this.buffer.index = this.firstSequenceHeader;\n        }\n        this.playing = false;\n        if (this.client) {\n            this.client.close();\n            this.client = null;\n        }\n    };\n\n\n// ----------------------------------------------------------------------------\n// Progressive loading via AJAX\n\n    jsmpeg.prototype.beginProgressiveLoad = function (url) {\n\n        if (this.startLoadBool) return;\n        this.startLoadBool = true;\n        console.log('mepg beginProgressiveLoad:', url);\n        this.url = url;\n\n        this.progressiveLoadPositon = 0;\n        this.fileSize = 0;\n\n        var request = new XMLHttpRequest();\n        var that = this;\n        request.onreadystatechange = function () {\n            if (request.readyState === request.DONE) {\n                that.fileSize = parseInt(request.getResponseHeader(\"Content-Length\"));\n                that.buffer = new BitReader(new ArrayBuffer(that.fileSize));\n                that.buffer.writePos = 0;\n                that.loadNextChunk();\n            }\n        };\n\n\n        request.open('HEAD', url);\n        request.send();\n        if (this.externalStartLoadCallback) this.externalStartLoadCallback();\n    };\n\n    jsmpeg.prototype.maybeLoadNextChunk = function () {\n        if (\n            !this.chunkIsLoading &&\n            (this.buffer.index >> 3) > this.nextChunkLoadAt &&\n            this.progressiveLoadFails < 5\n        ) {\n            this.loadNextChunk();\n        }\n    };\n\n    jsmpeg.prototype.loadNextChunk = function () {\n        var that = this;\n        var start = this.buffer.writePos,\n            end = Math.min(this.buffer.writePos + that.progressiveChunkSize - 1, this.fileSize - 1);\n\n        if (start >= this.fileSize) {\n            return;\n        }\n\n        this.chunkIsLoading = true;\n        this.chunkLoadStart = Date.now();\n        var request = new XMLHttpRequest();\n\n        request.onreadystatechange = function () {\n            if (\n                request.readyState === request.DONE &&\n                request.status > 200 && request.status < 300\n            ) {\n                that.progressiveLoadFails = 0;\n                that.progressiveLoadCallback(request.response);\n            }\n            else if (request.readyState === request.DONE) {\n                // retry\n                that.chunkIsLoading = false;\n                that.progressiveLoadFails++;\n                that.maybeLoadNextChunk();\n            }\n        };\n        console.log('loadNextChunk start:', start);\n        //改造这个加载进度，我要的是整个视频的加载进度\n        // if (start === 0) {\n        // \trequest.onprogress = this.updateLoader.bind(this);\n        // }\n        request.onprogress = onProgress.bind(that);\n\n        function onProgress(ev) {\n            if (start === 0) {\n                if (that.externalCanPlayProgressCallback) that.externalCanPlayProgressCallback(that.progress);\n            }\n            if (that.externalProgressCallback) {\n                var _progress = (start + ev.loaded) / that.fileSize;\n                that.externalProgressCallback(_progress);\n            }\n        }\n\n        request.open('GET', this.url + '?' + start + \"-\" + end);\n        request.setRequestHeader(\"Range\", \"bytes=\" + start + \"-\" + end);\n        request.responseType = \"arraybuffer\";\n        request.send();\n    };\n\n    jsmpeg.prototype.canPlayThrough = false;\n\n    jsmpeg.prototype.progressiveLoadCallback = function (data) {\n        console.log('progressiveLoadCallback');\n        this.chunkIsLoading = false;\n        var isFirstChunk = (this.buffer.writePos === 0);\n\n        var bytes = new Uint8Array(data);\n        this.buffer.bytes.set(bytes, this.buffer.writePos);\n        this.buffer.writePos += bytes.length;\n\n        if (isFirstChunk) {\n            this.findStartCode(START_SEQUENCE);\n            this.firstSequenceHeader = this.buffer.index;\n            this.decodeSequenceHeader();\n        }\n\n        var loadTime = (Date.now() - this.chunkLoadStart) / 1000;\n\n        // Throttled loading and playback did start already? Calculate when\n        // the next chunk needs to be loaded\n        var playIndex = (this.buffer.index >> 3);\n        var bytesPerSecondLoaded = bytes.length / loadTime;\n        var bytesPerSecondPlayed = 0;\n\n        if (this.currentTime > 0) {\n            bytesPerSecondPlayed = playIndex / this.currentTime;\n        }\n        else {\n            // Playback didn't start - we need to count the frames we got and estimate the bytes per second\n            var currentIndex = this.buffer.index;\n            this.buffer.index = (this.buffer.writePos - bytes.length) << 3;\n            var frames;\n            for (frames = 0; this.findStartCode(START_PICTURE) !== BitReader.NOT_FOUND; frames++) {\n            }\n            this.buffer.index = currentIndex;\n            bytesPerSecondPlayed = bytes.length / (frames / this.pictureRate);\n        }\n\n\n        var remainingTimeToPlay = (this.buffer.writePos - playIndex) / bytesPerSecondPlayed;\n        var remainingTimeToLoad = (this.fileSize - this.buffer.writePos) / bytesPerSecondLoaded;\n        var totalRemainingPlayTime = (this.fileSize - playIndex) / bytesPerSecondPlayed;\n        this.canPlayThrough = totalRemainingPlayTime > remainingTimeToLoad;\n\n        // Do we have a lot more remaining play time than we typically need for loading?\n        // -> Increase the chunk size for the next load\n        if (remainingTimeToPlay > loadTime * 8) {\n            this.progressiveChunkSize = Math.min(this.progressiveChunkSize * 2, this.progressiveChunkSizeMax);\n        }\n\n        // Start loading at the latest when only one chunk is left to play, but subtract twice as\n        // much bytes as the next chunk will take to load than it will to play\n        if (this.progressiveThrottled && this.canPlayThrough) {\n            this.nextChunkLoadAt = this.buffer.writePos\n                - this.progressiveChunkSize * 2\n                - this.progressiveChunkSize * (bytesPerSecondPlayed / bytesPerSecondLoaded) * 4;\n            // console.log('canPlayThrough');\n            this.externalcanPlayCallback && this.externalcanPlayCallback();\n            // console.log('externalcanPlayCallback:',this._progress);\n        }\n        else {\n            this.nextChunkLoadAt = 0;\n        }\n\n        if (this.buffer.writePos >= this.fileSize) {\n            // All loaded. We don't need to schedule another load\n            this.lastFrameIndex = this.buffer.writePos << 3;\n            this.canPlayThrough = true;\n            // console.log('progressiveLoadCallback:',this.seekable);\n            if (this.seekable) {\n                var currentBufferPos = this.buffer.index;\n                this.buffer.index = 0;\n                this.collectIntraFrames();\n                this.buffer.index = currentBufferPos;\n            }\n            if (this.externalLoadCallback) {\n                this.externalLoadCallback(this);\n            }\n        }\n        else {\n            this.lastFrameIndex = this.findLastPictureStartCode();\n            this.maybeLoadNextChunk();\n        }\n\n        this.attemptToPlay();\n    };\n\n    jsmpeg.prototype.findLastPictureStartCode = function () {\n        var bufferBytes = this.buffer.bytes;\n        for (var i = this.buffer.writePos; i > 3; i--) {\n            if (\n                bufferBytes[i] == START_PICTURE &&\n                bufferBytes[i - 1] == 0x01 &&\n                bufferBytes[i - 2] == 0x00 &&\n                bufferBytes[i - 3] == 0x00\n            ) {\n                return (i - 3) << 3;\n            }\n        }\n        return 0;\n    };\n\n    jsmpeg.prototype.attemptToPlay = function () {\n        if (this.playing || !this.wantsToPlay || !this.canPlayThrough) {\n            return;\n        }\n        this._playNow();\n    };\n\n\n// ----------------------------------------------------------------------------\n// Utilities\n\n    jsmpeg.prototype.readCode = function (codeTable) {\n        var state = 0;\n        do {\n            state = codeTable[state + this.buffer.getBits(1)];\n        } while (state >= 0 && codeTable[state] !== 0);\n        return codeTable[state + 2];\n    };\n\n    jsmpeg.prototype.findStartCode = function (code) {\n        var current = 0;\n        while (true) {\n            current = this.buffer.findNextMPEGStartCode();\n            if (current === code || current === BitReader.NOT_FOUND) {\n                return current;\n            }\n        }\n        return BitReader.NOT_FOUND;\n    };\n\n    jsmpeg.prototype.fillArray = function (a, value) {\n        for (var i = 0, length = a.length; i < length; i++) {\n            a[i] = value;\n        }\n    };\n\n\n// ----------------------------------------------------------------------------\n// Sequence Layer\n\n    jsmpeg.prototype.pictureRate = 30;\n    jsmpeg.prototype.lateTime = 0;\n    jsmpeg.prototype.firstSequenceHeader = 0;\n    jsmpeg.prototype.targetTime = 0;\n\n    jsmpeg.prototype.benchmark = false;\n    jsmpeg.prototype.benchFrame = 0;\n    jsmpeg.prototype.benchDecodeTimes = 0;\n    jsmpeg.prototype.benchAvgFrameTime = 0;\n\n    jsmpeg.prototype.now = function () {\n        return window.performance\n            ? window.performance.now()\n            : Date.now();\n    };\n\n    jsmpeg.prototype.nextFrame = function () {\n        if (!this.buffer) {\n            return;\n        }\n        if (!this.buffer.findNextMPEGStartCode) {\n            return;\n        }\n\n        var frameStart = this.now();\n        while (true) {\n            var code = this.buffer.findNextMPEGStartCode();\n\n            if (code === START_SEQUENCE) {\n                this.decodeSequenceHeader();\n            }\n            else if (code === START_PICTURE) {\n                if (this.progressive && this.buffer.index >= this.lastFrameIndex) {\n                    // Starved\n                    this.playing = false;\n                    this.maybeLoadNextChunk();\n                    return;\n                }\n\n                if (this.playing) {\n                    this.scheduleNextFrame();\n                }\n                this.decodePicture();\n                this.benchDecodeTimes += this.now() - frameStart;\n                return this.canvas;\n            }\n            else if (code === BitReader.NOT_FOUND) {\n                this.stop(); // Jump back to the beginning\n\n                if (this.externalFinishedCallback) {\n                    this.externalFinishedCallback(this);\n                }\n\n                // Only loop if we found a sequence header\n                if (this.loop && this.sequenceStarted) {\n                    this.play();\n                }\n                return null;\n            }\n            else {\n                // ignore (GROUP, USER_DATA, EXTENSION, SLICES...)\n            }\n        }\n    };\n\n    jsmpeg.prototype.scheduleNextFrame = function () {\n        this.lateTime = this.now() - this.targetTime;\n        var wait = Math.max(0, (1000 / this.pictureRate) - this.lateTime);\n        this.targetTime = this.now() + wait;\n\n        if (this.benchmark) {\n            this.benchFrame++;\n            if (this.benchFrame >= 120) {\n                this.benchAvgFrameTime = this.benchDecodeTimes / this.benchFrame;\n                this.benchFrame = 0;\n                this.benchDecodeTimes = 0;\n                if (window.console) {\n                    console.log('Average time per frame:', this.benchAvgFrameTime, 'ms');\n                }\n            }\n            setTimeout(this.nextFrame.bind(this), 0);\n        }\n        setTimeout(this.nextFrame.bind(this), Math.max(wait, 1));\n    };\n\n    jsmpeg.prototype.decodeSequenceHeader = function () {\n        this.width = this.buffer.getBits(12);\n        this.height = this.buffer.getBits(12);\n        this.buffer.advance(4); // skip pixel aspect ratio\n        this.pictureRate = PICTURE_RATE[this.buffer.getBits(4)];\n        this.buffer.advance(18 + 1 + 10 + 1); // skip bitRate, marker, bufferSize and constrained bit\n\n        this.initBuffers();\n\n        var i;\n\n        if (this.buffer.getBits(1)) { // load custom intra quant matrix?\n            for (i = 0; i < 64; i++) {\n                this.customIntraQuantMatrix[ZIG_ZAG[i]] = this.buffer.getBits(8);\n            }\n            this.intraQuantMatrix = this.customIntraQuantMatrix;\n        }\n\n        if (this.buffer.getBits(1)) { // load custom non intra quant matrix?\n            for (i = 0; i < 64; i++) {\n                this.customNonIntraQuantMatrix[ZIG_ZAG[i]] = this.buffer.getBits(8);\n            }\n            this.nonIntraQuantMatrix = this.customNonIntraQuantMatrix;\n        }\n    };\n\n    jsmpeg.prototype.initBuffers = function () {\n        this.intraQuantMatrix = DEFAULT_INTRA_QUANT_MATRIX;\n        this.nonIntraQuantMatrix = DEFAULT_NON_INTRA_QUANT_MATRIX;\n\n        this.mbWidth = (this.width + 15) >> 4;\n        this.mbHeight = (this.height + 15) >> 4;\n        this.mbSize = this.mbWidth * this.mbHeight;\n\n        this.codedWidth = this.mbWidth << 4;\n        this.codedHeight = this.mbHeight << 4;\n        this.codedSize = this.codedWidth * this.codedHeight;\n\n        this.halfWidth = this.mbWidth << 3;\n        this.halfHeight = this.mbHeight << 3;\n        this.quarterSize = this.codedSize >> 2;\n\n        // Sequence already started? Don't allocate buffers again\n        if (this.sequenceStarted) {\n            return;\n        }\n        this.sequenceStarted = true;\n\n\n        // Manually clamp values when writing macroblocks for shitty browsers\n        // that don't support Uint8ClampedArray\n        var MaybeClampedUint8Array = window.Uint8ClampedArray || window.Uint8Array;\n        if (!window.Uint8ClampedArray) {\n            this.copyBlockToDestination = this.copyBlockToDestinationClamp;\n            this.addBlockToDestination = this.addBlockToDestinationClamp;\n        }\n\n        // Allocated buffers and resize the canvas\n        this.currentY = new MaybeClampedUint8Array(this.codedSize);\n        this.currentY32 = new Uint32Array(this.currentY.buffer);\n\n        this.currentCr = new MaybeClampedUint8Array(this.codedSize >> 2);\n        this.currentCr32 = new Uint32Array(this.currentCr.buffer);\n\n        this.currentCb = new MaybeClampedUint8Array(this.codedSize >> 2);\n        this.currentCb32 = new Uint32Array(this.currentCb.buffer);\n\n\n        this.forwardY = new MaybeClampedUint8Array(this.codedSize);\n        this.forwardY32 = new Uint32Array(this.forwardY.buffer);\n\n        this.forwardCr = new MaybeClampedUint8Array(this.codedSize >> 2);\n        this.forwardCr32 = new Uint32Array(this.forwardCr.buffer);\n\n        this.forwardCb = new MaybeClampedUint8Array(this.codedSize >> 2);\n        this.forwardCb32 = new Uint32Array(this.forwardCb.buffer);\n\n        this.canvas.width = this.width;\n        this.canvas.height = this.height;\n\n        if (this.gl) {\n            this.gl.useProgram(this.program);\n            this.gl.viewport(0, 0, this.width, this.height);\n        }\n        else {\n            this.currentRGBA = this.canvasContext.getImageData(0, 0, this.width, this.height);\n            this.fillArray(this.currentRGBA.data, 255);\n        }\n    };\n\n\n// ----------------------------------------------------------------------------\n// Picture Layer\n\n    jsmpeg.prototype.currentY = null;\n    jsmpeg.prototype.currentCr = null;\n    jsmpeg.prototype.currentCb = null;\n\n    jsmpeg.prototype.currentRGBA = null;\n\n    jsmpeg.prototype.pictureCodingType = 0;\n\n// Buffers for motion compensation\n    jsmpeg.prototype.forwardY = null;\n    jsmpeg.prototype.forwardCr = null;\n    jsmpeg.prototype.forwardCb = null;\n\n    jsmpeg.prototype.fullPelForward = false;\n    jsmpeg.prototype.forwardFCode = 0;\n    jsmpeg.prototype.forwardRSize = 0;\n    jsmpeg.prototype.forwardF = 0;\n\n\n    jsmpeg.prototype.decodePicture = function (skipOutput) {\n        this.currentFrame++;\n        this.currentTime = this.currentFrame / this.pictureRate;\n\n        if (this.progressive) {\n            this.maybeLoadNextChunk();\n        }\n\n        this.buffer.advance(10); // skip temporalReference\n        this.pictureCodingType = this.buffer.getBits(3);\n        this.buffer.advance(16); // skip vbv_delay\n\n        // Skip B and D frames or unknown coding type\n        if (this.pictureCodingType <= 0 || this.pictureCodingType >= PICTURE_TYPE_B) {\n            return;\n        }\n\n        // full_pel_forward, forward_f_code\n        if (this.pictureCodingType === PICTURE_TYPE_P) {\n            this.fullPelForward = this.buffer.getBits(1);\n            this.forwardFCode = this.buffer.getBits(3);\n            if (this.forwardFCode === 0) {\n                // Ignore picture with zero forward_f_code\n                return;\n            }\n            this.forwardRSize = this.forwardFCode - 1;\n            this.forwardF = 1 << this.forwardRSize;\n        }\n\n        var code = 0;\n        do {\n            code = this.buffer.findNextMPEGStartCode();\n        } while (code === START_EXTENSION || code === START_USER_DATA);\n\n\n        while (code >= START_SLICE_FIRST && code <= START_SLICE_LAST) {\n            this.decodeSlice((code & 0x000000FF));\n            code = this.buffer.findNextMPEGStartCode();\n        }\n\n        // We found the next start code; rewind 32bits and let the main loop handle it.\n        this.buffer.rewind(32);\n\n        // Record this frame, if the recorder wants it\n        this.recordFrameFromCurrentBuffer();\n\n\n        if (skipOutput !== DECODE_SKIP_OUTPUT) {\n            this.renderFrame();\n\n            if (this.externalDecodeCallback) {\n                this.externalDecodeCallback(this, this.canvas);\n            }\n        }\n\n        // If this is a reference picutre then rotate the prediction pointers\n        if (this.pictureCodingType === PICTURE_TYPE_I || this.pictureCodingType === PICTURE_TYPE_P) {\n            var\n                tmpY = this.forwardY,\n                tmpY32 = this.forwardY32,\n                tmpCr = this.forwardCr,\n                tmpCr32 = this.forwardCr32,\n                tmpCb = this.forwardCb,\n                tmpCb32 = this.forwardCb32;\n\n            this.forwardY = this.currentY;\n            this.forwardY32 = this.currentY32;\n            this.forwardCr = this.currentCr;\n            this.forwardCr32 = this.currentCr32;\n            this.forwardCb = this.currentCb;\n            this.forwardCb32 = this.currentCb32;\n\n            this.currentY = tmpY;\n            this.currentY32 = tmpY32;\n            this.currentCr = tmpCr;\n            this.currentCr32 = tmpCr32;\n            this.currentCb = tmpCb;\n            this.currentCb32 = tmpCb32;\n        }\n    };\n\n    jsmpeg.prototype.YCbCrToRGBA = function () {\n        var pY = this.currentY;\n        var pCb = this.currentCb;\n        var pCr = this.currentCr;\n        var pRGBA = this.currentRGBA.data;\n\n        // Chroma values are the same for each block of 4 pixels, so we proccess\n        // 2 lines at a time, 2 neighboring pixels each.\n        // I wish we could use 32bit writes to the RGBA buffer instead of writing\n        // each byte separately, but we need the automatic clamping of the RGBA\n        // buffer.\n\n        var yIndex1 = 0;\n        var yIndex2 = this.codedWidth;\n        var yNext2Lines = this.codedWidth + (this.codedWidth - this.width);\n\n        var cIndex = 0;\n        var cNextLine = this.halfWidth - (this.width >> 1);\n\n        var rgbaIndex1 = 0;\n        var rgbaIndex2 = this.width * 4;\n        var rgbaNext2Lines = this.width * 4;\n\n        var cols = this.width >> 1;\n        var rows = this.height >> 1;\n\n        var cb, cr, r, g, b;\n\n        for (var row = 0; row < rows; row++) {\n            for (var col = 0; col < cols; col++) {\n                cb = pCb[cIndex];\n                cr = pCr[cIndex];\n                cIndex++;\n\n                r = (cr + ((cr * 103) >> 8)) - 179;\n                g = ((cb * 88) >> 8) - 44 + ((cr * 183) >> 8) - 91;\n                b = (cb + ((cb * 198) >> 8)) - 227;\n\n                // Line 1\n                var y1 = pY[yIndex1++];\n                var y2 = pY[yIndex1++];\n                pRGBA[rgbaIndex1] = y1 + r;\n                pRGBA[rgbaIndex1 + 1] = y1 - g;\n                pRGBA[rgbaIndex1 + 2] = y1 + b;\n                pRGBA[rgbaIndex1 + 4] = y2 + r;\n                pRGBA[rgbaIndex1 + 5] = y2 - g;\n                pRGBA[rgbaIndex1 + 6] = y2 + b;\n                rgbaIndex1 += 8;\n\n                // Line 2\n                var y3 = pY[yIndex2++];\n                var y4 = pY[yIndex2++];\n                pRGBA[rgbaIndex2] = y3 + r;\n                pRGBA[rgbaIndex2 + 1] = y3 - g;\n                pRGBA[rgbaIndex2 + 2] = y3 + b;\n                pRGBA[rgbaIndex2 + 4] = y4 + r;\n                pRGBA[rgbaIndex2 + 5] = y4 - g;\n                pRGBA[rgbaIndex2 + 6] = y4 + b;\n                rgbaIndex2 += 8;\n            }\n\n            yIndex1 += yNext2Lines;\n            yIndex2 += yNext2Lines;\n            rgbaIndex1 += rgbaNext2Lines;\n            rgbaIndex2 += rgbaNext2Lines;\n            cIndex += cNextLine;\n        }\n    };\n\n    jsmpeg.prototype.renderFrame2D = function () {\n        this.YCbCrToRGBA();\n        this.canvasContext.putImageData(this.currentRGBA, 0, 0);\n    };\n\n\n// ----------------------------------------------------------------------------\n// Accelerated WebGL YCbCrToRGBA conversion\n\n    jsmpeg.prototype.gl = null;\n    jsmpeg.prototype.program = null;\n    jsmpeg.prototype.YTexture = null;\n    jsmpeg.prototype.CBTexture = null;\n    jsmpeg.prototype.CRTexture = null;\n\n    jsmpeg.prototype.createTexture = function (index, name) {\n        var gl = this.gl;\n        var texture = gl.createTexture();\n\n        gl.bindTexture(gl.TEXTURE_2D, texture);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n        gl.uniform1i(gl.getUniformLocation(this.program, name), index);\n\n        return texture;\n    };\n\n    jsmpeg.prototype.compileShader = function (type, source) {\n        var gl = this.gl;\n        var shader = gl.createShader(type);\n        gl.shaderSource(shader, source);\n        gl.compileShader(shader);\n\n        if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {\n            throw new Error(gl.getShaderInfoLog(shader));\n        }\n\n        return shader;\n    };\n\n    jsmpeg.prototype.initWebGL = function () {\n        var gl;\n\n        // attempt to get a webgl context\n        try {\n            gl = this.gl = this.canvas.getContext('webgl') || this.canvas.getContext('experimental-webgl');\n        } catch (e) {\n            return false;\n        }\n\n        if (!gl) {\n            return false;\n        }\n\n        // init buffers\n        this.buffer = gl.createBuffer();\n        gl.bindBuffer(gl.ARRAY_BUFFER, this.buffer);\n        gl.bufferData(gl.ARRAY_BUFFER, new Float32Array([0, 0, 0, 1, 1, 0, 1, 1]), gl.STATIC_DRAW);\n\n        // The main YCbCrToRGBA Shader\n        this.program = gl.createProgram();\n        gl.attachShader(this.program, this.compileShader(gl.VERTEX_SHADER, SHADER_VERTEX_IDENTITY));\n        gl.attachShader(this.program, this.compileShader(gl.FRAGMENT_SHADER, SHADER_FRAGMENT_YCBCRTORGBA));\n        gl.linkProgram(this.program);\n\n        if (!gl.getProgramParameter(this.program, gl.LINK_STATUS)) {\n            throw new Error(gl.getProgramInfoLog(this.program));\n        }\n\n        gl.useProgram(this.program);\n\n        // setup textures\n        this.YTexture = this.createTexture(0, 'YTexture');\n        this.CBTexture = this.createTexture(1, 'CBTexture');\n        this.CRTexture = this.createTexture(2, 'CRTexture');\n\n        var vertexAttr = gl.getAttribLocation(this.program, 'vertex');\n        gl.enableVertexAttribArray(vertexAttr);\n        gl.vertexAttribPointer(vertexAttr, 2, gl.FLOAT, false, 0, 0);\n\n\n        // Shader for the loading screen\n        this.loadingProgram = gl.createProgram();\n        gl.attachShader(this.loadingProgram, this.compileShader(gl.VERTEX_SHADER, SHADER_VERTEX_IDENTITY));\n        gl.attachShader(this.loadingProgram, this.compileShader(gl.FRAGMENT_SHADER, SHADER_FRAGMENT_LOADING));\n        gl.linkProgram(this.loadingProgram);\n\n        gl.useProgram(this.loadingProgram);\n\n        vertexAttr = gl.getAttribLocation(this.loadingProgram, 'vertex');\n        gl.enableVertexAttribArray(vertexAttr);\n        gl.vertexAttribPointer(vertexAttr, 2, gl.FLOAT, false, 0, 0);\n\n        return true;\n    };\n\n    jsmpeg.prototype.renderFrameGL = function () {\n        var gl = this.gl;\n\n        // WebGL doesn't like Uint8ClampedArrays, so we have to create a Uint8Array view for\n        // each plane\n        var uint8Y = new Uint8Array(this.currentY.buffer),\n            uint8Cr = new Uint8Array(this.currentCr.buffer),\n            uint8Cb = new Uint8Array(this.currentCb.buffer);\n\n        gl.activeTexture(gl.TEXTURE0);\n        gl.bindTexture(gl.TEXTURE_2D, this.YTexture);\n\n        gl.texImage2D(gl.TEXTURE_2D, 0, gl.LUMINANCE, this.codedWidth, this.height, 0, gl.LUMINANCE, gl.UNSIGNED_BYTE, uint8Y);\n\n        gl.activeTexture(gl.TEXTURE1);\n        gl.bindTexture(gl.TEXTURE_2D, this.CBTexture);\n        gl.texImage2D(gl.TEXTURE_2D, 0, gl.LUMINANCE, this.halfWidth, this.height / 2, 0, gl.LUMINANCE, gl.UNSIGNED_BYTE, uint8Cr);\n\n        gl.activeTexture(gl.TEXTURE2);\n        gl.bindTexture(gl.TEXTURE_2D, this.CRTexture);\n        gl.texImage2D(gl.TEXTURE_2D, 0, gl.LUMINANCE, this.halfWidth, this.height / 2, 0, gl.LUMINANCE, gl.UNSIGNED_BYTE, uint8Cb);\n\n        gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);\n    };\n\n\n// ----------------------------------------------------------------------------\n// Slice Layer\n\n    jsmpeg.prototype.quantizerScale = 0;\n    jsmpeg.prototype.sliceBegin = false;\n\n    jsmpeg.prototype.decodeSlice = function (slice) {\n        this.sliceBegin = true;\n        this.macroblockAddress = (slice - 1) * this.mbWidth - 1;\n\n        // Reset motion vectors and DC predictors\n        this.motionFwH = this.motionFwHPrev = 0;\n        this.motionFwV = this.motionFwVPrev = 0;\n        this.dcPredictorY = 128;\n        this.dcPredictorCr = 128;\n        this.dcPredictorCb = 128;\n\n        this.quantizerScale = this.buffer.getBits(5);\n\n        // skip extra bits\n        while (this.buffer.getBits(1)) {\n            this.buffer.advance(8);\n        }\n\n        do {\n            this.decodeMacroblock();\n            // We may have to ignore Video Stream Start Codes here (0xE0)!?\n        } while (!this.buffer.nextBytesAreStartCode());\n    };\n\n\n// ----------------------------------------------------------------------------\n// Macroblock Layer\n\n    jsmpeg.prototype.macroblockAddress = 0;\n    jsmpeg.prototype.mbRow = 0;\n    jsmpeg.prototype.mbCol = 0;\n\n    jsmpeg.prototype.macroblockType = 0;\n    jsmpeg.prototype.macroblockIntra = false;\n    jsmpeg.prototype.macroblockMotFw = false;\n\n    jsmpeg.prototype.motionFwH = 0;\n    jsmpeg.prototype.motionFwV = 0;\n    jsmpeg.prototype.motionFwHPrev = 0;\n    jsmpeg.prototype.motionFwVPrev = 0;\n\n    jsmpeg.prototype.decodeMacroblock = function () {\n        // Decode macroblock_address_increment\n        var\n            increment = 0,\n            t = this.readCode(MACROBLOCK_ADDRESS_INCREMENT);\n\n        while (t === 34) {\n            // macroblock_stuffing\n            t = this.readCode(MACROBLOCK_ADDRESS_INCREMENT);\n        }\n        while (t === 35) {\n            // macroblock_escape\n            increment += 33;\n            t = this.readCode(MACROBLOCK_ADDRESS_INCREMENT);\n        }\n        increment += t;\n\n        // Process any skipped macroblocks\n        if (this.sliceBegin) {\n            // The first macroblock_address_increment of each slice is relative\n            // to beginning of the preverious row, not the preverious macroblock\n            this.sliceBegin = false;\n            this.macroblockAddress += increment;\n        }\n        else {\n            if (this.macroblockAddress + increment >= this.mbSize) {\n                // Illegal (too large) macroblock_address_increment\n                return;\n            }\n            if (increment > 1) {\n                // Skipped macroblocks reset DC predictors\n                this.dcPredictorY = 128;\n                this.dcPredictorCr = 128;\n                this.dcPredictorCb = 128;\n\n                // Skipped macroblocks in P-pictures reset motion vectors\n                if (this.pictureCodingType === PICTURE_TYPE_P) {\n                    this.motionFwH = this.motionFwHPrev = 0;\n                    this.motionFwV = this.motionFwVPrev = 0;\n                }\n            }\n\n            // Predict skipped macroblocks\n            while (increment > 1) {\n                this.macroblockAddress++;\n                this.mbRow = (this.macroblockAddress / this.mbWidth) | 0;\n                this.mbCol = this.macroblockAddress % this.mbWidth;\n                this.copyMacroblock(this.motionFwH, this.motionFwV, this.forwardY, this.forwardCr, this.forwardCb);\n                increment--;\n            }\n            this.macroblockAddress++;\n        }\n        this.mbRow = (this.macroblockAddress / this.mbWidth) | 0;\n        this.mbCol = this.macroblockAddress % this.mbWidth;\n\n        // Process the current macroblock\n        this.macroblockType = this.readCode(MACROBLOCK_TYPE_TABLES[this.pictureCodingType]);\n        this.macroblockIntra = (this.macroblockType & 0x01);\n        this.macroblockMotFw = (this.macroblockType & 0x08);\n\n        // Quantizer scale\n        if ((this.macroblockType & 0x10) !== 0) {\n            this.quantizerScale = this.buffer.getBits(5);\n        }\n\n        if (this.macroblockIntra) {\n            // Intra-coded macroblocks reset motion vectors\n            this.motionFwH = this.motionFwHPrev = 0;\n            this.motionFwV = this.motionFwVPrev = 0;\n        }\n        else {\n            // Non-intra macroblocks reset DC predictors\n            this.dcPredictorY = 128;\n            this.dcPredictorCr = 128;\n            this.dcPredictorCb = 128;\n\n            this.decodeMotionVectors();\n            this.copyMacroblock(this.motionFwH, this.motionFwV, this.forwardY, this.forwardCr, this.forwardCb);\n        }\n\n        // Decode blocks\n        var cbp = ((this.macroblockType & 0x02) !== 0)\n            ? this.readCode(CODE_BLOCK_PATTERN)\n            : (this.macroblockIntra ? 0x3f : 0);\n\n        for (var block = 0, mask = 0x20; block < 6; block++) {\n            if ((cbp & mask) !== 0) {\n                this.decodeBlock(block);\n            }\n            mask >>= 1;\n        }\n    };\n\n\n    jsmpeg.prototype.decodeMotionVectors = function () {\n        var code, d, r = 0;\n\n        // Forward\n        if (this.macroblockMotFw) {\n            // Horizontal forward\n            code = this.readCode(MOTION);\n            if ((code !== 0) && (this.forwardF !== 1)) {\n                r = this.buffer.getBits(this.forwardRSize);\n                d = ((Math.abs(code) - 1) << this.forwardRSize) + r + 1;\n                if (code < 0) {\n                    d = -d;\n                }\n            }\n            else {\n                d = code;\n            }\n\n            this.motionFwHPrev += d;\n            if (this.motionFwHPrev > (this.forwardF << 4) - 1) {\n                this.motionFwHPrev -= this.forwardF << 5;\n            }\n            else if (this.motionFwHPrev < ((-this.forwardF) << 4)) {\n                this.motionFwHPrev += this.forwardF << 5;\n            }\n\n            this.motionFwH = this.motionFwHPrev;\n            if (this.fullPelForward) {\n                this.motionFwH <<= 1;\n            }\n\n            // Vertical forward\n            code = this.readCode(MOTION);\n            if ((code !== 0) && (this.forwardF !== 1)) {\n                r = this.buffer.getBits(this.forwardRSize);\n                d = ((Math.abs(code) - 1) << this.forwardRSize) + r + 1;\n                if (code < 0) {\n                    d = -d;\n                }\n            }\n            else {\n                d = code;\n            }\n\n            this.motionFwVPrev += d;\n            if (this.motionFwVPrev > (this.forwardF << 4) - 1) {\n                this.motionFwVPrev -= this.forwardF << 5;\n            }\n            else if (this.motionFwVPrev < ((-this.forwardF) << 4)) {\n                this.motionFwVPrev += this.forwardF << 5;\n            }\n\n            this.motionFwV = this.motionFwVPrev;\n            if (this.fullPelForward) {\n                this.motionFwV <<= 1;\n            }\n        }\n        else if (this.pictureCodingType === PICTURE_TYPE_P) {\n            // No motion information in P-picture, reset vectors\n            this.motionFwH = this.motionFwHPrev = 0;\n            this.motionFwV = this.motionFwVPrev = 0;\n        }\n    };\n\n    jsmpeg.prototype.copyMacroblock = function (motionH, motionV, sY, sCr, sCb) {\n        var\n            width, scan,\n            H, V, oddH, oddV,\n            src, dest, last;\n\n        // We use 32bit writes here\n        var dY = this.currentY32;\n        var dCb = this.currentCb32;\n        var dCr = this.currentCr32;\n\n        // Luminance\n        width = this.codedWidth;\n        scan = width - 16;\n\n        H = motionH >> 1;\n        V = motionV >> 1;\n        oddH = (motionH & 1) === 1;\n        oddV = (motionV & 1) === 1;\n\n        src = ((this.mbRow << 4) + V) * width + (this.mbCol << 4) + H;\n        dest = (this.mbRow * width + this.mbCol) << 2;\n        last = dest + (width << 2);\n\n        var x;\n        var y1, y2, y;\n        if (oddH) {\n            if (oddV) {\n                while (dest < last) {\n                    y1 = sY[src] + sY[src + width];\n                    src++;\n                    for (x = 0; x < 4; x++) {\n                        y2 = sY[src] + sY[src + width];\n                        src++;\n                        y = (((y1 + y2 + 2) >> 2) & 0xff);\n\n                        y1 = sY[src] + sY[src + width];\n                        src++;\n                        y |= (((y1 + y2 + 2) << 6) & 0xff00);\n\n                        y2 = sY[src] + sY[src + width];\n                        src++;\n                        y |= (((y1 + y2 + 2) << 14) & 0xff0000);\n\n                        y1 = sY[src] + sY[src + width];\n                        src++;\n                        y |= (((y1 + y2 + 2) << 22) & 0xff000000);\n\n                        dY[dest++] = y;\n                    }\n                    dest += scan >> 2;\n                    src += scan - 1;\n                }\n            }\n            else {\n                while (dest < last) {\n                    y1 = sY[src++];\n                    for (x = 0; x < 4; x++) {\n                        y2 = sY[src++];\n                        y = (((y1 + y2 + 1) >> 1) & 0xff);\n\n                        y1 = sY[src++];\n                        y |= (((y1 + y2 + 1) << 7) & 0xff00);\n\n                        y2 = sY[src++];\n                        y |= (((y1 + y2 + 1) << 15) & 0xff0000);\n\n                        y1 = sY[src++];\n                        y |= (((y1 + y2 + 1) << 23) & 0xff000000);\n\n                        dY[dest++] = y;\n                    }\n                    dest += scan >> 2;\n                    src += scan - 1;\n                }\n            }\n        }\n        else {\n            if (oddV) {\n                while (dest < last) {\n                    for (x = 0; x < 4; x++) {\n                        y = (((sY[src] + sY[src + width] + 1) >> 1) & 0xff);\n                        src++;\n                        y |= (((sY[src] + sY[src + width] + 1) << 7) & 0xff00);\n                        src++;\n                        y |= (((sY[src] + sY[src + width] + 1) << 15) & 0xff0000);\n                        src++;\n                        y |= (((sY[src] + sY[src + width] + 1) << 23) & 0xff000000);\n                        src++;\n\n                        dY[dest++] = y;\n                    }\n                    dest += scan >> 2;\n                    src += scan;\n                }\n            }\n            else {\n                while (dest < last) {\n                    for (x = 0; x < 4; x++) {\n                        y = sY[src];\n                        src++;\n                        y |= sY[src] << 8;\n                        src++;\n                        y |= sY[src] << 16;\n                        src++;\n                        y |= sY[src] << 24;\n                        src++;\n\n                        dY[dest++] = y;\n                    }\n                    dest += scan >> 2;\n                    src += scan;\n                }\n            }\n        }\n\n        // Chrominance\n\n        width = this.halfWidth;\n        scan = width - 8;\n\n        H = (motionH / 2) >> 1;\n        V = (motionV / 2) >> 1;\n        oddH = ((motionH / 2) & 1) === 1;\n        oddV = ((motionV / 2) & 1) === 1;\n\n        src = ((this.mbRow << 3) + V) * width + (this.mbCol << 3) + H;\n        dest = (this.mbRow * width + this.mbCol) << 1;\n        last = dest + (width << 1);\n\n        var cr1, cr2, cr;\n        var cb1, cb2, cb;\n        if (oddH) {\n            if (oddV) {\n                while (dest < last) {\n                    cr1 = sCr[src] + sCr[src + width];\n                    cb1 = sCb[src] + sCb[src + width];\n                    src++;\n                    for (x = 0; x < 2; x++) {\n                        cr2 = sCr[src] + sCr[src + width];\n                        cb2 = sCb[src] + sCb[src + width];\n                        src++;\n                        cr = (((cr1 + cr2 + 2) >> 2) & 0xff);\n                        cb = (((cb1 + cb2 + 2) >> 2) & 0xff);\n\n                        cr1 = sCr[src] + sCr[src + width];\n                        cb1 = sCb[src] + sCb[src + width];\n                        src++;\n                        cr |= (((cr1 + cr2 + 2) << 6) & 0xff00);\n                        cb |= (((cb1 + cb2 + 2) << 6) & 0xff00);\n\n                        cr2 = sCr[src] + sCr[src + width];\n                        cb2 = sCb[src] + sCb[src + width];\n                        src++;\n                        cr |= (((cr1 + cr2 + 2) << 14) & 0xff0000);\n                        cb |= (((cb1 + cb2 + 2) << 14) & 0xff0000);\n\n                        cr1 = sCr[src] + sCr[src + width];\n                        cb1 = sCb[src] + sCb[src + width];\n                        src++;\n                        cr |= (((cr1 + cr2 + 2) << 22) & 0xff000000);\n                        cb |= (((cb1 + cb2 + 2) << 22) & 0xff000000);\n\n                        dCr[dest] = cr;\n                        dCb[dest] = cb;\n                        dest++;\n                    }\n                    dest += scan >> 2;\n                    src += scan - 1;\n                }\n            }\n            else {\n                while (dest < last) {\n                    cr1 = sCr[src];\n                    cb1 = sCb[src];\n                    src++;\n                    for (x = 0; x < 2; x++) {\n                        cr2 = sCr[src];\n                        cb2 = sCb[src++];\n                        cr = (((cr1 + cr2 + 1) >> 1) & 0xff);\n                        cb = (((cb1 + cb2 + 1) >> 1) & 0xff);\n\n                        cr1 = sCr[src];\n                        cb1 = sCb[src++];\n                        cr |= (((cr1 + cr2 + 1) << 7) & 0xff00);\n                        cb |= (((cb1 + cb2 + 1) << 7) & 0xff00);\n\n                        cr2 = sCr[src];\n                        cb2 = sCb[src++];\n                        cr |= (((cr1 + cr2 + 1) << 15) & 0xff0000);\n                        cb |= (((cb1 + cb2 + 1) << 15) & 0xff0000);\n\n                        cr1 = sCr[src];\n                        cb1 = sCb[src++];\n                        cr |= (((cr1 + cr2 + 1) << 23) & 0xff000000);\n                        cb |= (((cb1 + cb2 + 1) << 23) & 0xff000000);\n\n                        dCr[dest] = cr;\n                        dCb[dest] = cb;\n                        dest++;\n                    }\n                    dest += scan >> 2;\n                    src += scan - 1;\n                }\n            }\n        }\n        else {\n            if (oddV) {\n                while (dest < last) {\n                    for (x = 0; x < 2; x++) {\n                        cr = (((sCr[src] + sCr[src + width] + 1) >> 1) & 0xff);\n                        cb = (((sCb[src] + sCb[src + width] + 1) >> 1) & 0xff);\n                        src++;\n\n                        cr |= (((sCr[src] + sCr[src + width] + 1) << 7) & 0xff00);\n                        cb |= (((sCb[src] + sCb[src + width] + 1) << 7) & 0xff00);\n                        src++;\n\n                        cr |= (((sCr[src] + sCr[src + width] + 1) << 15) & 0xff0000);\n                        cb |= (((sCb[src] + sCb[src + width] + 1) << 15) & 0xff0000);\n                        src++;\n\n                        cr |= (((sCr[src] + sCr[src + width] + 1) << 23) & 0xff000000);\n                        cb |= (((sCb[src] + sCb[src + width] + 1) << 23) & 0xff000000);\n                        src++;\n\n                        dCr[dest] = cr;\n                        dCb[dest] = cb;\n                        dest++;\n                    }\n                    dest += scan >> 2;\n                    src += scan;\n                }\n            }\n            else {\n                while (dest < last) {\n                    for (x = 0; x < 2; x++) {\n                        cr = sCr[src];\n                        cb = sCb[src];\n                        src++;\n\n                        cr |= sCr[src] << 8;\n                        cb |= sCb[src] << 8;\n                        src++;\n\n                        cr |= sCr[src] << 16;\n                        cb |= sCb[src] << 16;\n                        src++;\n\n                        cr |= sCr[src] << 24;\n                        cb |= sCb[src] << 24;\n                        src++;\n\n                        dCr[dest] = cr;\n                        dCb[dest] = cb;\n                        dest++;\n                    }\n                    dest += scan >> 2;\n                    src += scan;\n                }\n            }\n        }\n    };\n\n\n// ----------------------------------------------------------------------------\n// Block layer\n\n//jsmpeg.prototype.dcPredictorY;\n//jsmpeg.prototype.dcPredictorCr;\n//jsmpeg.prototype.dcPredictorCb;\n\n    jsmpeg.prototype.blockData = null;\n    jsmpeg.prototype.decodeBlock = function (block) {\n\n        var\n            n = 0,\n            quantMatrix;\n\n        // Decode DC coefficient of intra-coded blocks\n        if (this.macroblockIntra) {\n            var\n                predictor,\n                dctSize;\n\n            // DC prediction\n\n            if (block < 4) {\n                predictor = this.dcPredictorY;\n                dctSize = this.readCode(DCT_DC_SIZE_LUMINANCE);\n            }\n            else {\n                predictor = (block === 4 ? this.dcPredictorCr : this.dcPredictorCb);\n                dctSize = this.readCode(DCT_DC_SIZE_CHROMINANCE);\n            }\n\n            // Read DC coeff\n            if (dctSize > 0) {\n                var differential = this.buffer.getBits(dctSize);\n                if ((differential & (1 << (dctSize - 1))) !== 0) {\n                    this.blockData[0] = predictor + differential;\n                }\n                else {\n                    this.blockData[0] = predictor + ((-1 << dctSize) | (differential + 1));\n                }\n            }\n            else {\n                this.blockData[0] = predictor;\n            }\n\n            // Save predictor value\n            if (block < 4) {\n                this.dcPredictorY = this.blockData[0];\n            }\n            else if (block === 4) {\n                this.dcPredictorCr = this.blockData[0];\n            }\n            else {\n                this.dcPredictorCb = this.blockData[0];\n            }\n\n            // Dequantize + premultiply\n            this.blockData[0] <<= (3 + 5);\n\n            quantMatrix = this.intraQuantMatrix;\n            n = 1;\n        }\n        else {\n            quantMatrix = this.nonIntraQuantMatrix;\n        }\n\n        // Decode AC coefficients (+DC for non-intra)\n        var level = 0;\n        while (true) {\n            var\n                run = 0,\n                coeff = this.readCode(DCT_COEFF);\n\n            if ((coeff === 0x0001) && (n > 0) && (this.buffer.getBits(1) === 0)) {\n                // end_of_block\n                break;\n            }\n            if (coeff === 0xffff) {\n                // escape\n                run = this.buffer.getBits(6);\n                level = this.buffer.getBits(8);\n                if (level === 0) {\n                    level = this.buffer.getBits(8);\n                }\n                else if (level === 128) {\n                    level = this.buffer.getBits(8) - 256;\n                }\n                else if (level > 128) {\n                    level = level - 256;\n                }\n            }\n            else {\n                run = coeff >> 8;\n                level = coeff & 0xff;\n                if (this.buffer.getBits(1)) {\n                    level = -level;\n                }\n            }\n\n            n += run;\n            var dezigZagged = ZIG_ZAG[n];\n            n++;\n\n            // Dequantize, oddify, clip\n            level <<= 1;\n            if (!this.macroblockIntra) {\n                level += (level < 0 ? -1 : 1);\n            }\n            level = (level * this.quantizerScale * quantMatrix[dezigZagged]) >> 4;\n            if ((level & 1) === 0) {\n                level -= level > 0 ? 1 : -1;\n            }\n            if (level > 2047) {\n                level = 2047;\n            }\n            else if (level < -2048) {\n                level = -2048;\n            }\n\n            // Save premultiplied coefficient\n            this.blockData[dezigZagged] = level * PREMULTIPLIER_MATRIX[dezigZagged];\n        }\n\n        // Move block to its place\n        var\n            destArray,\n            destIndex,\n            scan;\n\n        if (block < 4) {\n            destArray = this.currentY;\n            scan = this.codedWidth - 8;\n            destIndex = (this.mbRow * this.codedWidth + this.mbCol) << 4;\n            if ((block & 1) !== 0) {\n                destIndex += 8;\n            }\n            if ((block & 2) !== 0) {\n                destIndex += this.codedWidth << 3;\n            }\n        }\n        else {\n            destArray = (block === 4) ? this.currentCb : this.currentCr;\n            scan = (this.codedWidth >> 1) - 8;\n            destIndex = ((this.mbRow * this.codedWidth) << 2) + (this.mbCol << 3);\n        }\n\n        if (this.macroblockIntra) {\n            // Overwrite (no prediction)\n            if (n === 1) {\n                this.copyValueToDestination((this.blockData[0] + 128) >> 8, destArray, destIndex, scan);\n                this.blockData[0] = 0;\n            } else {\n                this.IDCT();\n                this.copyBlockToDestination(this.blockData, destArray, destIndex, scan);\n                this.blockData.set(this.zeroBlockData);\n            }\n        }\n        else {\n            // Add data to the predicted macroblock\n            if (n === 1) {\n                this.addValueToDestination((this.blockData[0] + 128) >> 8, destArray, destIndex, scan);\n                this.blockData[0] = 0;\n            } else {\n                this.IDCT();\n                this.addBlockToDestination(this.blockData, destArray, destIndex, scan);\n                this.blockData.set(this.zeroBlockData);\n            }\n        }\n\n        n = 0;\n    };\n\n    jsmpeg.prototype.copyBlockToDestination = function (blockData, destArray, destIndex, scan) {\n        for (var n = 0; n < 64; n += 8, destIndex += scan + 8) {\n            destArray[destIndex + 0] = blockData[n + 0];\n            destArray[destIndex + 1] = blockData[n + 1];\n            destArray[destIndex + 2] = blockData[n + 2];\n            destArray[destIndex + 3] = blockData[n + 3];\n            destArray[destIndex + 4] = blockData[n + 4];\n            destArray[destIndex + 5] = blockData[n + 5];\n            destArray[destIndex + 6] = blockData[n + 6];\n            destArray[destIndex + 7] = blockData[n + 7];\n        }\n    };\n\n    jsmpeg.prototype.addBlockToDestination = function (blockData, destArray, destIndex, scan) {\n        for (var n = 0; n < 64; n += 8, destIndex += scan + 8) {\n            destArray[destIndex + 0] += blockData[n + 0];\n            destArray[destIndex + 1] += blockData[n + 1];\n            destArray[destIndex + 2] += blockData[n + 2];\n            destArray[destIndex + 3] += blockData[n + 3];\n            destArray[destIndex + 4] += blockData[n + 4];\n            destArray[destIndex + 5] += blockData[n + 5];\n            destArray[destIndex + 6] += blockData[n + 6];\n            destArray[destIndex + 7] += blockData[n + 7];\n        }\n    };\n\n    jsmpeg.prototype.copyValueToDestination = function (value, destArray, destIndex, scan) {\n        for (var n = 0; n < 64; n += 8, destIndex += scan + 8) {\n            destArray[destIndex + 0] = value;\n            destArray[destIndex + 1] = value;\n            destArray[destIndex + 2] = value;\n            destArray[destIndex + 3] = value;\n            destArray[destIndex + 4] = value;\n            destArray[destIndex + 5] = value;\n            destArray[destIndex + 6] = value;\n            destArray[destIndex + 7] = value;\n        }\n    };\n\n    jsmpeg.prototype.addValueToDestination = function (value, destArray, destIndex, scan) {\n        for (var n = 0; n < 64; n += 8, destIndex += scan + 8) {\n            destArray[destIndex + 0] += value;\n            destArray[destIndex + 1] += value;\n            destArray[destIndex + 2] += value;\n            destArray[destIndex + 3] += value;\n            destArray[destIndex + 4] += value;\n            destArray[destIndex + 5] += value;\n            destArray[destIndex + 6] += value;\n            destArray[destIndex + 7] += value;\n        }\n    };\n\n// Clamping version for shitty browsers (IE) that don't support Uint8ClampedArray\n    jsmpeg.prototype.copyBlockToDestinationClamp = function (blockData, destArray, destIndex, scan) {\n        var n = 0;\n        for (var i = 0; i < 8; i++) {\n            for (var j = 0; j < 8; j++) {\n                var p = blockData[n++];\n                destArray[destIndex++] = p > 255 ? 255 : (p < 0 ? 0 : p);\n            }\n            destIndex += scan;\n        }\n    };\n\n    jsmpeg.prototype.addBlockToDestinationClamp = function (blockData, destArray, destIndex, scan) {\n        var n = 0;\n        for (var i = 0; i < 8; i++) {\n            for (var j = 0; j < 8; j++) {\n                var p = blockData[n++] + destArray[destIndex];\n                destArray[destIndex++] = p > 255 ? 255 : (p < 0 ? 0 : p);\n            }\n            destIndex += scan;\n        }\n    };\n\n    jsmpeg.prototype.IDCT = function () {\n        // See http://vsr.informatik.tu-chemnitz.de/~jan/MPEG/HTML/IDCT.html\n        // for more info.\n\n        var\n            b1, b3, b4, b6, b7, tmp1, tmp2, m0,\n            x0, x1, x2, x3, x4, y3, y4, y5, y6, y7,\n            i,\n            blockData = this.blockData;\n\n        // Transform columns\n        for (i = 0; i < 8; ++i) {\n            b1 = blockData[4 * 8 + i];\n            b3 = blockData[2 * 8 + i] + blockData[6 * 8 + i];\n            b4 = blockData[5 * 8 + i] - blockData[3 * 8 + i];\n            tmp1 = blockData[1 * 8 + i] + blockData[7 * 8 + i];\n            tmp2 = blockData[3 * 8 + i] + blockData[5 * 8 + i];\n            b6 = blockData[1 * 8 + i] - blockData[7 * 8 + i];\n            b7 = tmp1 + tmp2;\n            m0 = blockData[0 * 8 + i];\n            x4 = ((b6 * 473 - b4 * 196 + 128) >> 8) - b7;\n            x0 = x4 - (((tmp1 - tmp2) * 362 + 128) >> 8);\n            x1 = m0 - b1;\n            x2 = (((blockData[2 * 8 + i] - blockData[6 * 8 + i]) * 362 + 128) >> 8) - b3;\n            x3 = m0 + b1;\n            y3 = x1 + x2;\n            y4 = x3 + b3;\n            y5 = x1 - x2;\n            y6 = x3 - b3;\n            y7 = -x0 - ((b4 * 473 + b6 * 196 + 128) >> 8);\n            blockData[0 * 8 + i] = b7 + y4;\n            blockData[1 * 8 + i] = x4 + y3;\n            blockData[2 * 8 + i] = y5 - x0;\n            blockData[3 * 8 + i] = y6 - y7;\n            blockData[4 * 8 + i] = y6 + y7;\n            blockData[5 * 8 + i] = x0 + y5;\n            blockData[6 * 8 + i] = y3 - x4;\n            blockData[7 * 8 + i] = y4 - b7;\n        }\n\n        // Transform rows\n        for (i = 0; i < 64; i += 8) {\n            b1 = blockData[4 + i];\n            b3 = blockData[2 + i] + blockData[6 + i];\n            b4 = blockData[5 + i] - blockData[3 + i];\n            tmp1 = blockData[1 + i] + blockData[7 + i];\n            tmp2 = blockData[3 + i] + blockData[5 + i];\n            b6 = blockData[1 + i] - blockData[7 + i];\n            b7 = tmp1 + tmp2;\n            m0 = blockData[0 + i];\n            x4 = ((b6 * 473 - b4 * 196 + 128) >> 8) - b7;\n            x0 = x4 - (((tmp1 - tmp2) * 362 + 128) >> 8);\n            x1 = m0 - b1;\n            x2 = (((blockData[2 + i] - blockData[6 + i]) * 362 + 128) >> 8) - b3;\n            x3 = m0 + b1;\n            y3 = x1 + x2;\n            y4 = x3 + b3;\n            y5 = x1 - x2;\n            y6 = x3 - b3;\n            y7 = -x0 - ((b4 * 473 + b6 * 196 + 128) >> 8);\n            blockData[0 + i] = (b7 + y4 + 128) >> 8;\n            blockData[1 + i] = (x4 + y3 + 128) >> 8;\n            blockData[2 + i] = (y5 - x0 + 128) >> 8;\n            blockData[3 + i] = (y6 - y7 + 128) >> 8;\n            blockData[4 + i] = (y6 + y7 + 128) >> 8;\n            blockData[5 + i] = (x0 + y5 + 128) >> 8;\n            blockData[6 + i] = (y3 - x4 + 128) >> 8;\n            blockData[7 + i] = (y4 - b7 + 128) >> 8;\n        }\n    };\n\n    if (true) {\n        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [exports], __WEBPACK_AMD_DEFINE_RESULT__ = function (exports) {\n            module.exports = jsmpeg\n        }.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n    } else if (typeof exports !== 'undefined') {\n        module.exports = jsmpeg\n    }\n// ----------------------------------------------------------------------------\n// VLC Tables and Constants\n\n    var\n        SOCKET_MAGIC_BYTES = 'jsmp',\n        DECODE_SKIP_OUTPUT = 1,\n        PICTURE_RATE = [\n            0.000, 23.976, 24.000, 25.000, 29.970, 30.000, 50.000, 59.940,\n            60.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000\n        ],\n        ZIG_ZAG = new Uint8Array([\n            0, 1, 8, 16, 9, 2, 3, 10,\n            17, 24, 32, 25, 18, 11, 4, 5,\n            12, 19, 26, 33, 40, 48, 41, 34,\n            27, 20, 13, 6, 7, 14, 21, 28,\n            35, 42, 49, 56, 57, 50, 43, 36,\n            29, 22, 15, 23, 30, 37, 44, 51,\n            58, 59, 52, 45, 38, 31, 39, 46,\n            53, 60, 61, 54, 47, 55, 62, 63\n        ]),\n        DEFAULT_INTRA_QUANT_MATRIX = new Uint8Array([\n            8, 16, 19, 22, 26, 27, 29, 34,\n            16, 16, 22, 24, 27, 29, 34, 37,\n            19, 22, 26, 27, 29, 34, 34, 38,\n            22, 22, 26, 27, 29, 34, 37, 40,\n            22, 26, 27, 29, 32, 35, 40, 48,\n            26, 27, 29, 32, 35, 40, 48, 58,\n            26, 27, 29, 34, 38, 46, 56, 69,\n            27, 29, 35, 38, 46, 56, 69, 83\n        ]),\n        DEFAULT_NON_INTRA_QUANT_MATRIX = new Uint8Array([\n            16, 16, 16, 16, 16, 16, 16, 16,\n            16, 16, 16, 16, 16, 16, 16, 16,\n            16, 16, 16, 16, 16, 16, 16, 16,\n            16, 16, 16, 16, 16, 16, 16, 16,\n            16, 16, 16, 16, 16, 16, 16, 16,\n            16, 16, 16, 16, 16, 16, 16, 16,\n            16, 16, 16, 16, 16, 16, 16, 16,\n            16, 16, 16, 16, 16, 16, 16, 16\n        ]),\n\n        PREMULTIPLIER_MATRIX = new Uint8Array([\n            32, 44, 42, 38, 32, 25, 17, 9,\n            44, 62, 58, 52, 44, 35, 24, 12,\n            42, 58, 55, 49, 42, 33, 23, 12,\n            38, 52, 49, 44, 38, 30, 20, 10,\n            32, 44, 42, 38, 32, 25, 17, 9,\n            25, 35, 33, 30, 25, 20, 14, 7,\n            17, 24, 23, 20, 17, 14, 9, 5,\n            9, 12, 12, 10, 9, 7, 5, 2\n        ]),\n\n        // MPEG-1 VLC\n\n        //  macroblock_stuffing decodes as 34.\n        //  macroblock_escape decodes as 35.\n\n        MACROBLOCK_ADDRESS_INCREMENT = new Int16Array([\n            1 * 3, 2 * 3, 0, //   0\n            3 * 3, 4 * 3, 0, //   1  0\n            0, 0, 1, //   2  1.\n            5 * 3, 6 * 3, 0, //   3  00\n            7 * 3, 8 * 3, 0, //   4  01\n            9 * 3, 10 * 3, 0, //   5  000\n            11 * 3, 12 * 3, 0, //   6  001\n            0, 0, 3, //   7  010.\n            0, 0, 2, //   8  011.\n            13 * 3, 14 * 3, 0, //   9  0000\n            15 * 3, 16 * 3, 0, //  10  0001\n            0, 0, 5, //  11  0010.\n            0, 0, 4, //  12  0011.\n            17 * 3, 18 * 3, 0, //  13  0000 0\n            19 * 3, 20 * 3, 0, //  14  0000 1\n            0, 0, 7, //  15  0001 0.\n            0, 0, 6, //  16  0001 1.\n            21 * 3, 22 * 3, 0, //  17  0000 00\n            23 * 3, 24 * 3, 0, //  18  0000 01\n            25 * 3, 26 * 3, 0, //  19  0000 10\n            27 * 3, 28 * 3, 0, //  20  0000 11\n            -1, 29 * 3, 0, //  21  0000 000\n            -1, 30 * 3, 0, //  22  0000 001\n            31 * 3, 32 * 3, 0, //  23  0000 010\n            33 * 3, 34 * 3, 0, //  24  0000 011\n            35 * 3, 36 * 3, 0, //  25  0000 100\n            37 * 3, 38 * 3, 0, //  26  0000 101\n            0, 0, 9, //  27  0000 110.\n            0, 0, 8, //  28  0000 111.\n            39 * 3, 40 * 3, 0, //  29  0000 0001\n            41 * 3, 42 * 3, 0, //  30  0000 0011\n            43 * 3, 44 * 3, 0, //  31  0000 0100\n            45 * 3, 46 * 3, 0, //  32  0000 0101\n            0, 0, 15, //  33  0000 0110.\n            0, 0, 14, //  34  0000 0111.\n            0, 0, 13, //  35  0000 1000.\n            0, 0, 12, //  36  0000 1001.\n            0, 0, 11, //  37  0000 1010.\n            0, 0, 10, //  38  0000 1011.\n            47 * 3, -1, 0, //  39  0000 0001 0\n            -1, 48 * 3, 0, //  40  0000 0001 1\n            49 * 3, 50 * 3, 0, //  41  0000 0011 0\n            51 * 3, 52 * 3, 0, //  42  0000 0011 1\n            53 * 3, 54 * 3, 0, //  43  0000 0100 0\n            55 * 3, 56 * 3, 0, //  44  0000 0100 1\n            57 * 3, 58 * 3, 0, //  45  0000 0101 0\n            59 * 3, 60 * 3, 0, //  46  0000 0101 1\n            61 * 3, -1, 0, //  47  0000 0001 00\n            -1, 62 * 3, 0, //  48  0000 0001 11\n            63 * 3, 64 * 3, 0, //  49  0000 0011 00\n            65 * 3, 66 * 3, 0, //  50  0000 0011 01\n            67 * 3, 68 * 3, 0, //  51  0000 0011 10\n            69 * 3, 70 * 3, 0, //  52  0000 0011 11\n            71 * 3, 72 * 3, 0, //  53  0000 0100 00\n            73 * 3, 74 * 3, 0, //  54  0000 0100 01\n            0, 0, 21, //  55  0000 0100 10.\n            0, 0, 20, //  56  0000 0100 11.\n            0, 0, 19, //  57  0000 0101 00.\n            0, 0, 18, //  58  0000 0101 01.\n            0, 0, 17, //  59  0000 0101 10.\n            0, 0, 16, //  60  0000 0101 11.\n            0, 0, 35, //  61  0000 0001 000. -- macroblock_escape\n            0, 0, 34, //  62  0000 0001 111. -- macroblock_stuffing\n            0, 0, 33, //  63  0000 0011 000.\n            0, 0, 32, //  64  0000 0011 001.\n            0, 0, 31, //  65  0000 0011 010.\n            0, 0, 30, //  66  0000 0011 011.\n            0, 0, 29, //  67  0000 0011 100.\n            0, 0, 28, //  68  0000 0011 101.\n            0, 0, 27, //  69  0000 0011 110.\n            0, 0, 26, //  70  0000 0011 111.\n            0, 0, 25, //  71  0000 0100 000.\n            0, 0, 24, //  72  0000 0100 001.\n            0, 0, 23, //  73  0000 0100 010.\n            0, 0, 22  //  74  0000 0100 011.\n        ]),\n\n        //  macroblock_type bitmap:\n        //    0x10  macroblock_quant\n        //    0x08  macroblock_motion_forward\n        //    0x04  macroblock_motion_backward\n        //    0x02  macrobkock_pattern\n        //    0x01  macroblock_intra\n        //\n\n        MACROBLOCK_TYPE_I = new Int8Array([\n            1 * 3, 2 * 3, 0, //   0\n            -1, 3 * 3, 0, //   1  0\n            0, 0, 0x01, //   2  1.\n            0, 0, 0x11  //   3  01.\n        ]),\n\n        MACROBLOCK_TYPE_P = new Int8Array([\n            1 * 3, 2 * 3, 0, //  0\n            3 * 3, 4 * 3, 0, //  1  0\n            0, 0, 0x0a, //  2  1.\n            5 * 3, 6 * 3, 0, //  3  00\n            0, 0, 0x02, //  4  01.\n            7 * 3, 8 * 3, 0, //  5  000\n            0, 0, 0x08, //  6  001.\n            9 * 3, 10 * 3, 0, //  7  0000\n            11 * 3, 12 * 3, 0, //  8  0001\n            -1, 13 * 3, 0, //  9  00000\n            0, 0, 0x12, // 10  00001.\n            0, 0, 0x1a, // 11  00010.\n            0, 0, 0x01, // 12  00011.\n            0, 0, 0x11  // 13  000001.\n        ]),\n\n        MACROBLOCK_TYPE_B = new Int8Array([\n            1 * 3, 2 * 3, 0,  //  0\n            3 * 3, 5 * 3, 0,  //  1  0\n            4 * 3, 6 * 3, 0,  //  2  1\n            8 * 3, 7 * 3, 0,  //  3  00\n            0, 0, 0x0c,  //  4  10.\n            9 * 3, 10 * 3, 0,  //  5  01\n            0, 0, 0x0e,  //  6  11.\n            13 * 3, 14 * 3, 0,  //  7  001\n            12 * 3, 11 * 3, 0,  //  8  000\n            0, 0, 0x04,  //  9  010.\n            0, 0, 0x06,  // 10  011.\n            18 * 3, 16 * 3, 0,  // 11  0001\n            15 * 3, 17 * 3, 0,  // 12  0000\n            0, 0, 0x08,  // 13  0010.\n            0, 0, 0x0a,  // 14  0011.\n            -1, 19 * 3, 0,  // 15  00000\n            0, 0, 0x01,  // 16  00011.\n            20 * 3, 21 * 3, 0,  // 17  00001\n            0, 0, 0x1e,  // 18  00010.\n            0, 0, 0x11,  // 19  000001.\n            0, 0, 0x16,  // 20  000010.\n            0, 0, 0x1a   // 21  000011.\n        ]),\n\n        CODE_BLOCK_PATTERN = new Int16Array([\n            2 * 3, 1 * 3, 0,  //   0\n            3 * 3, 6 * 3, 0,  //   1  1\n            4 * 3, 5 * 3, 0,  //   2  0\n            8 * 3, 11 * 3, 0,  //   3  10\n            12 * 3, 13 * 3, 0,  //   4  00\n            9 * 3, 7 * 3, 0,  //   5  01\n            10 * 3, 14 * 3, 0,  //   6  11\n            20 * 3, 19 * 3, 0,  //   7  011\n            18 * 3, 16 * 3, 0,  //   8  100\n            23 * 3, 17 * 3, 0,  //   9  010\n            27 * 3, 25 * 3, 0,  //  10  110\n            21 * 3, 28 * 3, 0,  //  11  101\n            15 * 3, 22 * 3, 0,  //  12  000\n            24 * 3, 26 * 3, 0,  //  13  001\n            0, 0, 60,  //  14  111.\n            35 * 3, 40 * 3, 0,  //  15  0000\n            44 * 3, 48 * 3, 0,  //  16  1001\n            38 * 3, 36 * 3, 0,  //  17  0101\n            42 * 3, 47 * 3, 0,  //  18  1000\n            29 * 3, 31 * 3, 0,  //  19  0111\n            39 * 3, 32 * 3, 0,  //  20  0110\n            0, 0, 32,  //  21  1010.\n            45 * 3, 46 * 3, 0,  //  22  0001\n            33 * 3, 41 * 3, 0,  //  23  0100\n            43 * 3, 34 * 3, 0,  //  24  0010\n            0, 0, 4,  //  25  1101.\n            30 * 3, 37 * 3, 0,  //  26  0011\n            0, 0, 8,  //  27  1100.\n            0, 0, 16,  //  28  1011.\n            0, 0, 44,  //  29  0111 0.\n            50 * 3, 56 * 3, 0,  //  30  0011 0\n            0, 0, 28,  //  31  0111 1.\n            0, 0, 52,  //  32  0110 1.\n            0, 0, 62,  //  33  0100 0.\n            61 * 3, 59 * 3, 0,  //  34  0010 1\n            52 * 3, 60 * 3, 0,  //  35  0000 0\n            0, 0, 1,  //  36  0101 1.\n            55 * 3, 54 * 3, 0,  //  37  0011 1\n            0, 0, 61,  //  38  0101 0.\n            0, 0, 56,  //  39  0110 0.\n            57 * 3, 58 * 3, 0,  //  40  0000 1\n            0, 0, 2,  //  41  0100 1.\n            0, 0, 40,  //  42  1000 0.\n            51 * 3, 62 * 3, 0,  //  43  0010 0\n            0, 0, 48,  //  44  1001 0.\n            64 * 3, 63 * 3, 0,  //  45  0001 0\n            49 * 3, 53 * 3, 0,  //  46  0001 1\n            0, 0, 20,  //  47  1000 1.\n            0, 0, 12,  //  48  1001 1.\n            80 * 3, 83 * 3, 0,  //  49  0001 10\n            0, 0, 63,  //  50  0011 00.\n            77 * 3, 75 * 3, 0,  //  51  0010 00\n            65 * 3, 73 * 3, 0,  //  52  0000 00\n            84 * 3, 66 * 3, 0,  //  53  0001 11\n            0, 0, 24,  //  54  0011 11.\n            0, 0, 36,  //  55  0011 10.\n            0, 0, 3,  //  56  0011 01.\n            69 * 3, 87 * 3, 0,  //  57  0000 10\n            81 * 3, 79 * 3, 0,  //  58  0000 11\n            68 * 3, 71 * 3, 0,  //  59  0010 11\n            70 * 3, 78 * 3, 0,  //  60  0000 01\n            67 * 3, 76 * 3, 0,  //  61  0010 10\n            72 * 3, 74 * 3, 0,  //  62  0010 01\n            86 * 3, 85 * 3, 0,  //  63  0001 01\n            88 * 3, 82 * 3, 0,  //  64  0001 00\n            -1, 94 * 3, 0,  //  65  0000 000\n            95 * 3, 97 * 3, 0,  //  66  0001 111\n            0, 0, 33,  //  67  0010 100.\n            0, 0, 9,  //  68  0010 110.\n            106 * 3, 110 * 3, 0,  //  69  0000 100\n            102 * 3, 116 * 3, 0,  //  70  0000 010\n            0, 0, 5,  //  71  0010 111.\n            0, 0, 10,  //  72  0010 010.\n            93 * 3, 89 * 3, 0,  //  73  0000 001\n            0, 0, 6,  //  74  0010 011.\n            0, 0, 18,  //  75  0010 001.\n            0, 0, 17,  //  76  0010 101.\n            0, 0, 34,  //  77  0010 000.\n            113 * 3, 119 * 3, 0,  //  78  0000 011\n            103 * 3, 104 * 3, 0,  //  79  0000 111\n            90 * 3, 92 * 3, 0,  //  80  0001 100\n            109 * 3, 107 * 3, 0,  //  81  0000 110\n            117 * 3, 118 * 3, 0,  //  82  0001 001\n            101 * 3, 99 * 3, 0,  //  83  0001 101\n            98 * 3, 96 * 3, 0,  //  84  0001 110\n            100 * 3, 91 * 3, 0,  //  85  0001 011\n            114 * 3, 115 * 3, 0,  //  86  0001 010\n            105 * 3, 108 * 3, 0,  //  87  0000 101\n            112 * 3, 111 * 3, 0,  //  88  0001 000\n            121 * 3, 125 * 3, 0,  //  89  0000 0011\n            0, 0, 41,  //  90  0001 1000.\n            0, 0, 14,  //  91  0001 0111.\n            0, 0, 21,  //  92  0001 1001.\n            124 * 3, 122 * 3, 0,  //  93  0000 0010\n            120 * 3, 123 * 3, 0,  //  94  0000 0001\n            0, 0, 11,  //  95  0001 1110.\n            0, 0, 19,  //  96  0001 1101.\n            0, 0, 7,  //  97  0001 1111.\n            0, 0, 35,  //  98  0001 1100.\n            0, 0, 13,  //  99  0001 1011.\n            0, 0, 50,  // 100  0001 0110.\n            0, 0, 49,  // 101  0001 1010.\n            0, 0, 58,  // 102  0000 0100.\n            0, 0, 37,  // 103  0000 1110.\n            0, 0, 25,  // 104  0000 1111.\n            0, 0, 45,  // 105  0000 1010.\n            0, 0, 57,  // 106  0000 1000.\n            0, 0, 26,  // 107  0000 1101.\n            0, 0, 29,  // 108  0000 1011.\n            0, 0, 38,  // 109  0000 1100.\n            0, 0, 53,  // 110  0000 1001.\n            0, 0, 23,  // 111  0001 0001.\n            0, 0, 43,  // 112  0001 0000.\n            0, 0, 46,  // 113  0000 0110.\n            0, 0, 42,  // 114  0001 0100.\n            0, 0, 22,  // 115  0001 0101.\n            0, 0, 54,  // 116  0000 0101.\n            0, 0, 51,  // 117  0001 0010.\n            0, 0, 15,  // 118  0001 0011.\n            0, 0, 30,  // 119  0000 0111.\n            0, 0, 39,  // 120  0000 0001 0.\n            0, 0, 47,  // 121  0000 0011 0.\n            0, 0, 55,  // 122  0000 0010 1.\n            0, 0, 27,  // 123  0000 0001 1.\n            0, 0, 59,  // 124  0000 0010 0.\n            0, 0, 31   // 125  0000 0011 1.\n        ]),\n\n        MOTION = new Int16Array([\n            1 * 3, 2 * 3, 0,  //   0\n            4 * 3, 3 * 3, 0,  //   1  0\n            0, 0, 0,  //   2  1.\n            6 * 3, 5 * 3, 0,  //   3  01\n            8 * 3, 7 * 3, 0,  //   4  00\n            0, 0, -1,  //   5  011.\n            0, 0, 1,  //   6  010.\n            9 * 3, 10 * 3, 0,  //   7  001\n            12 * 3, 11 * 3, 0,  //   8  000\n            0, 0, 2,  //   9  0010.\n            0, 0, -2,  //  10  0011.\n            14 * 3, 15 * 3, 0,  //  11  0001\n            16 * 3, 13 * 3, 0,  //  12  0000\n            20 * 3, 18 * 3, 0,  //  13  0000 1\n            0, 0, 3,  //  14  0001 0.\n            0, 0, -3,  //  15  0001 1.\n            17 * 3, 19 * 3, 0,  //  16  0000 0\n            -1, 23 * 3, 0,  //  17  0000 00\n            27 * 3, 25 * 3, 0,  //  18  0000 11\n            26 * 3, 21 * 3, 0,  //  19  0000 01\n            24 * 3, 22 * 3, 0,  //  20  0000 10\n            32 * 3, 28 * 3, 0,  //  21  0000 011\n            29 * 3, 31 * 3, 0,  //  22  0000 101\n            -1, 33 * 3, 0,  //  23  0000 001\n            36 * 3, 35 * 3, 0,  //  24  0000 100\n            0, 0, -4,  //  25  0000 111.\n            30 * 3, 34 * 3, 0,  //  26  0000 010\n            0, 0, 4,  //  27  0000 110.\n            0, 0, -7,  //  28  0000 0111.\n            0, 0, 5,  //  29  0000 1010.\n            37 * 3, 41 * 3, 0,  //  30  0000 0100\n            0, 0, -5,  //  31  0000 1011.\n            0, 0, 7,  //  32  0000 0110.\n            38 * 3, 40 * 3, 0,  //  33  0000 0011\n            42 * 3, 39 * 3, 0,  //  34  0000 0101\n            0, 0, -6,  //  35  0000 1001.\n            0, 0, 6,  //  36  0000 1000.\n            51 * 3, 54 * 3, 0,  //  37  0000 0100 0\n            50 * 3, 49 * 3, 0,  //  38  0000 0011 0\n            45 * 3, 46 * 3, 0,  //  39  0000 0101 1\n            52 * 3, 47 * 3, 0,  //  40  0000 0011 1\n            43 * 3, 53 * 3, 0,  //  41  0000 0100 1\n            44 * 3, 48 * 3, 0,  //  42  0000 0101 0\n            0, 0, 10,  //  43  0000 0100 10.\n            0, 0, 9,  //  44  0000 0101 00.\n            0, 0, 8,  //  45  0000 0101 10.\n            0, 0, -8,  //  46  0000 0101 11.\n            57 * 3, 66 * 3, 0,  //  47  0000 0011 11\n            0, 0, -9,  //  48  0000 0101 01.\n            60 * 3, 64 * 3, 0,  //  49  0000 0011 01\n            56 * 3, 61 * 3, 0,  //  50  0000 0011 00\n            55 * 3, 62 * 3, 0,  //  51  0000 0100 00\n            58 * 3, 63 * 3, 0,  //  52  0000 0011 10\n            0, 0, -10,  //  53  0000 0100 11.\n            59 * 3, 65 * 3, 0,  //  54  0000 0100 01\n            0, 0, 12,  //  55  0000 0100 000.\n            0, 0, 16,  //  56  0000 0011 000.\n            0, 0, 13,  //  57  0000 0011 110.\n            0, 0, 14,  //  58  0000 0011 100.\n            0, 0, 11,  //  59  0000 0100 010.\n            0, 0, 15,  //  60  0000 0011 010.\n            0, 0, -16,  //  61  0000 0011 001.\n            0, 0, -12,  //  62  0000 0100 001.\n            0, 0, -14,  //  63  0000 0011 101.\n            0, 0, -15,  //  64  0000 0011 011.\n            0, 0, -11,  //  65  0000 0100 011.\n            0, 0, -13   //  66  0000 0011 111.\n        ]),\n\n        DCT_DC_SIZE_LUMINANCE = new Int8Array([\n            2 * 3, 1 * 3, 0,  //   0\n            6 * 3, 5 * 3, 0,  //   1  1\n            3 * 3, 4 * 3, 0,  //   2  0\n            0, 0, 1,  //   3  00.\n            0, 0, 2,  //   4  01.\n            9 * 3, 8 * 3, 0,  //   5  11\n            7 * 3, 10 * 3, 0,  //   6  10\n            0, 0, 0,  //   7  100.\n            12 * 3, 11 * 3, 0,  //   8  111\n            0, 0, 4,  //   9  110.\n            0, 0, 3,  //  10  101.\n            13 * 3, 14 * 3, 0,  //  11  1111\n            0, 0, 5,  //  12  1110.\n            0, 0, 6,  //  13  1111 0.\n            16 * 3, 15 * 3, 0,  //  14  1111 1\n            17 * 3, -1, 0,  //  15  1111 11\n            0, 0, 7,  //  16  1111 10.\n            0, 0, 8   //  17  1111 110.\n        ]),\n\n        DCT_DC_SIZE_CHROMINANCE = new Int8Array([\n            2 * 3, 1 * 3, 0,  //   0\n            4 * 3, 3 * 3, 0,  //   1  1\n            6 * 3, 5 * 3, 0,  //   2  0\n            8 * 3, 7 * 3, 0,  //   3  11\n            0, 0, 2,  //   4  10.\n            0, 0, 1,  //   5  01.\n            0, 0, 0,  //   6  00.\n            10 * 3, 9 * 3, 0,  //   7  111\n            0, 0, 3,  //   8  110.\n            12 * 3, 11 * 3, 0,  //   9  1111\n            0, 0, 4,  //  10  1110.\n            14 * 3, 13 * 3, 0,  //  11  1111 1\n            0, 0, 5,  //  12  1111 0.\n            16 * 3, 15 * 3, 0,  //  13  1111 11\n            0, 0, 6,  //  14  1111 10.\n            17 * 3, -1, 0,  //  15  1111 111\n            0, 0, 7,  //  16  1111 110.\n            0, 0, 8   //  17  1111 1110.\n        ]),\n\n        //  dct_coeff bitmap:\n        //    0xff00  run\n        //    0x00ff  level\n\n        //  Decoded values are unsigned. Sign bit follows in the stream.\n\n        //  Interpretation of the value 0x0001\n        //    for dc_coeff_first:  run=0, level=1\n        //    for dc_coeff_next:   If the next bit is 1: run=0, level=1\n        //                         If the next bit is 0: end_of_block\n\n        //  escape decodes as 0xffff.\n\n        DCT_COEFF = new Int32Array([\n            1 * 3, 2 * 3, 0,  //   0\n            4 * 3, 3 * 3, 0,  //   1  0\n            0, 0, 0x0001,  //   2  1.\n            7 * 3, 8 * 3, 0,  //   3  01\n            6 * 3, 5 * 3, 0,  //   4  00\n            13 * 3, 9 * 3, 0,  //   5  001\n            11 * 3, 10 * 3, 0,  //   6  000\n            14 * 3, 12 * 3, 0,  //   7  010\n            0, 0, 0x0101,  //   8  011.\n            20 * 3, 22 * 3, 0,  //   9  0011\n            18 * 3, 21 * 3, 0,  //  10  0001\n            16 * 3, 19 * 3, 0,  //  11  0000\n            0, 0, 0x0201,  //  12  0101.\n            17 * 3, 15 * 3, 0,  //  13  0010\n            0, 0, 0x0002,  //  14  0100.\n            0, 0, 0x0003,  //  15  0010 1.\n            27 * 3, 25 * 3, 0,  //  16  0000 0\n            29 * 3, 31 * 3, 0,  //  17  0010 0\n            24 * 3, 26 * 3, 0,  //  18  0001 0\n            32 * 3, 30 * 3, 0,  //  19  0000 1\n            0, 0, 0x0401,  //  20  0011 0.\n            23 * 3, 28 * 3, 0,  //  21  0001 1\n            0, 0, 0x0301,  //  22  0011 1.\n            0, 0, 0x0102,  //  23  0001 10.\n            0, 0, 0x0701,  //  24  0001 00.\n            0, 0, 0xffff,  //  25  0000 01. -- escape\n            0, 0, 0x0601,  //  26  0001 01.\n            37 * 3, 36 * 3, 0,  //  27  0000 00\n            0, 0, 0x0501,  //  28  0001 11.\n            35 * 3, 34 * 3, 0,  //  29  0010 00\n            39 * 3, 38 * 3, 0,  //  30  0000 11\n            33 * 3, 42 * 3, 0,  //  31  0010 01\n            40 * 3, 41 * 3, 0,  //  32  0000 10\n            52 * 3, 50 * 3, 0,  //  33  0010 010\n            54 * 3, 53 * 3, 0,  //  34  0010 001\n            48 * 3, 49 * 3, 0,  //  35  0010 000\n            43 * 3, 45 * 3, 0,  //  36  0000 001\n            46 * 3, 44 * 3, 0,  //  37  0000 000\n            0, 0, 0x0801,  //  38  0000 111.\n            0, 0, 0x0004,  //  39  0000 110.\n            0, 0, 0x0202,  //  40  0000 100.\n            0, 0, 0x0901,  //  41  0000 101.\n            51 * 3, 47 * 3, 0,  //  42  0010 011\n            55 * 3, 57 * 3, 0,  //  43  0000 0010\n            60 * 3, 56 * 3, 0,  //  44  0000 0001\n            59 * 3, 58 * 3, 0,  //  45  0000 0011\n            61 * 3, 62 * 3, 0,  //  46  0000 0000\n            0, 0, 0x0a01,  //  47  0010 0111.\n            0, 0, 0x0d01,  //  48  0010 0000.\n            0, 0, 0x0006,  //  49  0010 0001.\n            0, 0, 0x0103,  //  50  0010 0101.\n            0, 0, 0x0005,  //  51  0010 0110.\n            0, 0, 0x0302,  //  52  0010 0100.\n            0, 0, 0x0b01,  //  53  0010 0011.\n            0, 0, 0x0c01,  //  54  0010 0010.\n            76 * 3, 75 * 3, 0,  //  55  0000 0010 0\n            67 * 3, 70 * 3, 0,  //  56  0000 0001 1\n            73 * 3, 71 * 3, 0,  //  57  0000 0010 1\n            78 * 3, 74 * 3, 0,  //  58  0000 0011 1\n            72 * 3, 77 * 3, 0,  //  59  0000 0011 0\n            69 * 3, 64 * 3, 0,  //  60  0000 0001 0\n            68 * 3, 63 * 3, 0,  //  61  0000 0000 0\n            66 * 3, 65 * 3, 0,  //  62  0000 0000 1\n            81 * 3, 87 * 3, 0,  //  63  0000 0000 01\n            91 * 3, 80 * 3, 0,  //  64  0000 0001 01\n            82 * 3, 79 * 3, 0,  //  65  0000 0000 11\n            83 * 3, 86 * 3, 0,  //  66  0000 0000 10\n            93 * 3, 92 * 3, 0,  //  67  0000 0001 10\n            84 * 3, 85 * 3, 0,  //  68  0000 0000 00\n            90 * 3, 94 * 3, 0,  //  69  0000 0001 00\n            88 * 3, 89 * 3, 0,  //  70  0000 0001 11\n            0, 0, 0x0203,  //  71  0000 0010 11.\n            0, 0, 0x0104,  //  72  0000 0011 00.\n            0, 0, 0x0007,  //  73  0000 0010 10.\n            0, 0, 0x0402,  //  74  0000 0011 11.\n            0, 0, 0x0502,  //  75  0000 0010 01.\n            0, 0, 0x1001,  //  76  0000 0010 00.\n            0, 0, 0x0f01,  //  77  0000 0011 01.\n            0, 0, 0x0e01,  //  78  0000 0011 10.\n            105 * 3, 107 * 3, 0,  //  79  0000 0000 111\n            111 * 3, 114 * 3, 0,  //  80  0000 0001 011\n            104 * 3, 97 * 3, 0,  //  81  0000 0000 010\n            125 * 3, 119 * 3, 0,  //  82  0000 0000 110\n            96 * 3, 98 * 3, 0,  //  83  0000 0000 100\n            -1, 123 * 3, 0,  //  84  0000 0000 000\n            95 * 3, 101 * 3, 0,  //  85  0000 0000 001\n            106 * 3, 121 * 3, 0,  //  86  0000 0000 101\n            99 * 3, 102 * 3, 0,  //  87  0000 0000 011\n            113 * 3, 103 * 3, 0,  //  88  0000 0001 110\n            112 * 3, 116 * 3, 0,  //  89  0000 0001 111\n            110 * 3, 100 * 3, 0,  //  90  0000 0001 000\n            124 * 3, 115 * 3, 0,  //  91  0000 0001 010\n            117 * 3, 122 * 3, 0,  //  92  0000 0001 101\n            109 * 3, 118 * 3, 0,  //  93  0000 0001 100\n            120 * 3, 108 * 3, 0,  //  94  0000 0001 001\n            127 * 3, 136 * 3, 0,  //  95  0000 0000 0010\n            139 * 3, 140 * 3, 0,  //  96  0000 0000 1000\n            130 * 3, 126 * 3, 0,  //  97  0000 0000 0101\n            145 * 3, 146 * 3, 0,  //  98  0000 0000 1001\n            128 * 3, 129 * 3, 0,  //  99  0000 0000 0110\n            0, 0, 0x0802,  // 100  0000 0001 0001.\n            132 * 3, 134 * 3, 0,  // 101  0000 0000 0011\n            155 * 3, 154 * 3, 0,  // 102  0000 0000 0111\n            0, 0, 0x0008,  // 103  0000 0001 1101.\n            137 * 3, 133 * 3, 0,  // 104  0000 0000 0100\n            143 * 3, 144 * 3, 0,  // 105  0000 0000 1110\n            151 * 3, 138 * 3, 0,  // 106  0000 0000 1010\n            142 * 3, 141 * 3, 0,  // 107  0000 0000 1111\n            0, 0, 0x000a,  // 108  0000 0001 0011.\n            0, 0, 0x0009,  // 109  0000 0001 1000.\n            0, 0, 0x000b,  // 110  0000 0001 0000.\n            0, 0, 0x1501,  // 111  0000 0001 0110.\n            0, 0, 0x0602,  // 112  0000 0001 1110.\n            0, 0, 0x0303,  // 113  0000 0001 1100.\n            0, 0, 0x1401,  // 114  0000 0001 0111.\n            0, 0, 0x0702,  // 115  0000 0001 0101.\n            0, 0, 0x1101,  // 116  0000 0001 1111.\n            0, 0, 0x1201,  // 117  0000 0001 1010.\n            0, 0, 0x1301,  // 118  0000 0001 1001.\n            148 * 3, 152 * 3, 0,  // 119  0000 0000 1101\n            0, 0, 0x0403,  // 120  0000 0001 0010.\n            153 * 3, 150 * 3, 0,  // 121  0000 0000 1011\n            0, 0, 0x0105,  // 122  0000 0001 1011.\n            131 * 3, 135 * 3, 0,  // 123  0000 0000 0001\n            0, 0, 0x0204,  // 124  0000 0001 0100.\n            149 * 3, 147 * 3, 0,  // 125  0000 0000 1100\n            172 * 3, 173 * 3, 0,  // 126  0000 0000 0101 1\n            162 * 3, 158 * 3, 0,  // 127  0000 0000 0010 0\n            170 * 3, 161 * 3, 0,  // 128  0000 0000 0110 0\n            168 * 3, 166 * 3, 0,  // 129  0000 0000 0110 1\n            157 * 3, 179 * 3, 0,  // 130  0000 0000 0101 0\n            169 * 3, 167 * 3, 0,  // 131  0000 0000 0001 0\n            174 * 3, 171 * 3, 0,  // 132  0000 0000 0011 0\n            178 * 3, 177 * 3, 0,  // 133  0000 0000 0100 1\n            156 * 3, 159 * 3, 0,  // 134  0000 0000 0011 1\n            164 * 3, 165 * 3, 0,  // 135  0000 0000 0001 1\n            183 * 3, 182 * 3, 0,  // 136  0000 0000 0010 1\n            175 * 3, 176 * 3, 0,  // 137  0000 0000 0100 0\n            0, 0, 0x0107,  // 138  0000 0000 1010 1.\n            0, 0, 0x0a02,  // 139  0000 0000 1000 0.\n            0, 0, 0x0902,  // 140  0000 0000 1000 1.\n            0, 0, 0x1601,  // 141  0000 0000 1111 1.\n            0, 0, 0x1701,  // 142  0000 0000 1111 0.\n            0, 0, 0x1901,  // 143  0000 0000 1110 0.\n            0, 0, 0x1801,  // 144  0000 0000 1110 1.\n            0, 0, 0x0503,  // 145  0000 0000 1001 0.\n            0, 0, 0x0304,  // 146  0000 0000 1001 1.\n            0, 0, 0x000d,  // 147  0000 0000 1100 1.\n            0, 0, 0x000c,  // 148  0000 0000 1101 0.\n            0, 0, 0x000e,  // 149  0000 0000 1100 0.\n            0, 0, 0x000f,  // 150  0000 0000 1011 1.\n            0, 0, 0x0205,  // 151  0000 0000 1010 0.\n            0, 0, 0x1a01,  // 152  0000 0000 1101 1.\n            0, 0, 0x0106,  // 153  0000 0000 1011 0.\n            180 * 3, 181 * 3, 0,  // 154  0000 0000 0111 1\n            160 * 3, 163 * 3, 0,  // 155  0000 0000 0111 0\n            196 * 3, 199 * 3, 0,  // 156  0000 0000 0011 10\n            0, 0, 0x001b,  // 157  0000 0000 0101 00.\n            203 * 3, 185 * 3, 0,  // 158  0000 0000 0010 01\n            202 * 3, 201 * 3, 0,  // 159  0000 0000 0011 11\n            0, 0, 0x0013,  // 160  0000 0000 0111 00.\n            0, 0, 0x0016,  // 161  0000 0000 0110 01.\n            197 * 3, 207 * 3, 0,  // 162  0000 0000 0010 00\n            0, 0, 0x0012,  // 163  0000 0000 0111 01.\n            191 * 3, 192 * 3, 0,  // 164  0000 0000 0001 10\n            188 * 3, 190 * 3, 0,  // 165  0000 0000 0001 11\n            0, 0, 0x0014,  // 166  0000 0000 0110 11.\n            184 * 3, 194 * 3, 0,  // 167  0000 0000 0001 01\n            0, 0, 0x0015,  // 168  0000 0000 0110 10.\n            186 * 3, 193 * 3, 0,  // 169  0000 0000 0001 00\n            0, 0, 0x0017,  // 170  0000 0000 0110 00.\n            204 * 3, 198 * 3, 0,  // 171  0000 0000 0011 01\n            0, 0, 0x0019,  // 172  0000 0000 0101 10.\n            0, 0, 0x0018,  // 173  0000 0000 0101 11.\n            200 * 3, 205 * 3, 0,  // 174  0000 0000 0011 00\n            0, 0, 0x001f,  // 175  0000 0000 0100 00.\n            0, 0, 0x001e,  // 176  0000 0000 0100 01.\n            0, 0, 0x001c,  // 177  0000 0000 0100 11.\n            0, 0, 0x001d,  // 178  0000 0000 0100 10.\n            0, 0, 0x001a,  // 179  0000 0000 0101 01.\n            0, 0, 0x0011,  // 180  0000 0000 0111 10.\n            0, 0, 0x0010,  // 181  0000 0000 0111 11.\n            189 * 3, 206 * 3, 0,  // 182  0000 0000 0010 11\n            187 * 3, 195 * 3, 0,  // 183  0000 0000 0010 10\n            218 * 3, 211 * 3, 0,  // 184  0000 0000 0001 010\n            0, 0, 0x0025,  // 185  0000 0000 0010 011.\n            215 * 3, 216 * 3, 0,  // 186  0000 0000 0001 000\n            0, 0, 0x0024,  // 187  0000 0000 0010 100.\n            210 * 3, 212 * 3, 0,  // 188  0000 0000 0001 110\n            0, 0, 0x0022,  // 189  0000 0000 0010 110.\n            213 * 3, 209 * 3, 0,  // 190  0000 0000 0001 111\n            221 * 3, 222 * 3, 0,  // 191  0000 0000 0001 100\n            219 * 3, 208 * 3, 0,  // 192  0000 0000 0001 101\n            217 * 3, 214 * 3, 0,  // 193  0000 0000 0001 001\n            223 * 3, 220 * 3, 0,  // 194  0000 0000 0001 011\n            0, 0, 0x0023,  // 195  0000 0000 0010 101.\n            0, 0, 0x010b,  // 196  0000 0000 0011 100.\n            0, 0, 0x0028,  // 197  0000 0000 0010 000.\n            0, 0, 0x010c,  // 198  0000 0000 0011 011.\n            0, 0, 0x010a,  // 199  0000 0000 0011 101.\n            0, 0, 0x0020,  // 200  0000 0000 0011 000.\n            0, 0, 0x0108,  // 201  0000 0000 0011 111.\n            0, 0, 0x0109,  // 202  0000 0000 0011 110.\n            0, 0, 0x0026,  // 203  0000 0000 0010 010.\n            0, 0, 0x010d,  // 204  0000 0000 0011 010.\n            0, 0, 0x010e,  // 205  0000 0000 0011 001.\n            0, 0, 0x0021,  // 206  0000 0000 0010 111.\n            0, 0, 0x0027,  // 207  0000 0000 0010 001.\n            0, 0, 0x1f01,  // 208  0000 0000 0001 1011.\n            0, 0, 0x1b01,  // 209  0000 0000 0001 1111.\n            0, 0, 0x1e01,  // 210  0000 0000 0001 1100.\n            0, 0, 0x1002,  // 211  0000 0000 0001 0101.\n            0, 0, 0x1d01,  // 212  0000 0000 0001 1101.\n            0, 0, 0x1c01,  // 213  0000 0000 0001 1110.\n            0, 0, 0x010f,  // 214  0000 0000 0001 0011.\n            0, 0, 0x0112,  // 215  0000 0000 0001 0000.\n            0, 0, 0x0111,  // 216  0000 0000 0001 0001.\n            0, 0, 0x0110,  // 217  0000 0000 0001 0010.\n            0, 0, 0x0603,  // 218  0000 0000 0001 0100.\n            0, 0, 0x0b02,  // 219  0000 0000 0001 1010.\n            0, 0, 0x0e02,  // 220  0000 0000 0001 0111.\n            0, 0, 0x0d02,  // 221  0000 0000 0001 1000.\n            0, 0, 0x0c02,  // 222  0000 0000 0001 1001.\n            0, 0, 0x0f02   // 223  0000 0000 0001 0110.\n        ]),\n\n        PICTURE_TYPE_I = 1,\n        PICTURE_TYPE_P = 2,\n        PICTURE_TYPE_B = 3,\n        //PICTURE_TYPE_D = 4,\n\n        START_SEQUENCE = 0xB3,\n        START_SLICE_FIRST = 0x01,\n        START_SLICE_LAST = 0xAF,\n        START_PICTURE = 0x00,\n        START_EXTENSION = 0xB5,\n        START_USER_DATA = 0xB2,\n\n        // Shaders for accelerated WebGL YCbCrToRGBA conversion\n        SHADER_FRAGMENT_YCBCRTORGBA = [\n            'precision mediump float;',\n            'uniform sampler2D YTexture;',\n            'uniform sampler2D CBTexture;',\n            'uniform sampler2D CRTexture;',\n            'varying vec2 texCoord;',\n\n            'void main() {',\n            'float y = texture2D(YTexture, texCoord).r;',\n            'float cr = texture2D(CBTexture, texCoord).r - 0.5;',\n            'float cb = texture2D(CRTexture, texCoord).r - 0.5;',\n\n            'gl_FragColor = vec4(',\n            'y + 1.4 * cr,',\n            'y + -0.343 * cb - 0.711 * cr,',\n            'y + 1.765 * cb,',\n            '1.0',\n            ');',\n            '}'\n        ].join('\\n'),\n\n        SHADER_FRAGMENT_LOADING = [\n            'precision mediump float;',\n            'uniform float loaded;',\n            'varying vec2 texCoord;',\n\n            'void main() {',\n            'float c = ceil(loaded-(1.0-texCoord.y));',\n            'gl_FragColor = vec4(c,c,c,1);',\n            '}'\n        ].join('\\n'),\n\n        SHADER_VERTEX_IDENTITY = [\n            'attribute vec2 vertex;',\n            'varying vec2 texCoord;',\n\n            'void main() {',\n            'texCoord = vertex;',\n            'gl_Position = vec4((vertex * 2.0 - 1.0) * vec2(1, -1), 0.0, 1.0);',\n            '}'\n        ].join('\\n');\n\n    var MACROBLOCK_TYPE_TABLES = [\n        null,\n        MACROBLOCK_TYPE_I,\n        MACROBLOCK_TYPE_P,\n        MACROBLOCK_TYPE_B\n    ];\n\n\n// ----------------------------------------------------------------------------\n// Bit Reader\n\n    var BitReader = function (arrayBuffer) {\n        this.bytes = new Uint8Array(arrayBuffer);\n        this.length = this.bytes.length;\n        this.writePos = this.bytes.length;\n        this.index = 0;\n    };\n\n    BitReader.NOT_FOUND = -1;\n\n    BitReader.prototype.findNextMPEGStartCode = function () {\n        for (var i = (this.index + 7 >> 3); i < this.writePos; i++) {\n            if (\n                this.bytes[i] === 0x00 &&\n                this.bytes[i + 1] === 0x00 &&\n                this.bytes[i + 2] === 0x01\n            ) {\n                this.index = (i + 4) << 3;\n                return this.bytes[i + 3];\n            }\n        }\n        this.index = (this.writePos << 3);\n        return BitReader.NOT_FOUND;\n    };\n\n    BitReader.prototype.nextBytesAreStartCode = function () {\n        var i = (this.index + 7 >> 3);\n        return (\n            i >= this.writePos || (\n                this.bytes[i] === 0x00 &&\n                this.bytes[i + 1] === 0x00 &&\n                this.bytes[i + 2] === 0x01\n            )\n        );\n    };\n\n    BitReader.prototype.nextBits = function (count) {\n        var\n            byteOffset = this.index >> 3,\n            room = (8 - this.index % 8);\n\n        if (room >= count) {\n            return (this.bytes[byteOffset] >> (room - count)) & (0xff >> (8 - count));\n        }\n\n        var\n            leftover = (this.index + count) % 8, // Leftover bits in last byte\n            end = (this.index + count - 1) >> 3,\n            value = this.bytes[byteOffset] & (0xff >> (8 - room)); // Fill out first byte\n\n        for (byteOffset++; byteOffset < end; byteOffset++) {\n            value <<= 8; // Shift and\n            value |= this.bytes[byteOffset]; // Put next byte\n        }\n\n        if (leftover > 0) {\n            value <<= leftover; // Make room for remaining bits\n            value |= (this.bytes[byteOffset] >> (8 - leftover));\n        }\n        else {\n            value <<= 8;\n            value |= this.bytes[byteOffset];\n        }\n\n        return value;\n    };\n\n    BitReader.prototype.getBits = function (count) {\n        var value = this.nextBits(count);\n        this.index += count;\n        return value;\n    };\n\n    BitReader.prototype.advance = function (count) {\n        return (this.index += count);\n    };\n\n    BitReader.prototype.rewind = function (count) {\n        return (this.index -= count);\n    };\n\n})(window);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/libs/media/jsmpg.js\n// module id = 140\n// module chunks = 0\n\n//# sourceURL=webpack:///./src/libs/media/jsmpg.js?")},function(module,exports,__webpack_require__){"use strict";eval("\n\n/**\n * DynamicFont\n * @type {module}\n **/\nfunction DynamicFont() {\n\n    var _Self = this;\n\n    this.name = 'DynamicFont';\n\n    //事件继承\n    // ds.EventDispatcher.extend(this);\n    //主模块\n    var _AppMain = SiteModel.appMain;\n    //如果有用到 pixi 部分代码\n    var _Root, _Stage, _PixiJsModel, _CreateJsModel;\n    if (SiteModel.pixiJsModel) {\n        _PixiJsModel = SiteModel.pixiJsModel;\n        _Root = _PixiJsModel.root;\n        _Stage = _PixiJsModel.stage;\n    } else if (SiteModel.createJsModel) {\n        _CreateJsModel = SiteModel.createJsModel;\n        _Root = _CreateJsModel.root;\n        _Stage = _CreateJsModel.stage;\n    }\n\n    __webpack_require__(142);\n    var _dynamicFontManager = new ds.createjs.DynamicFontManager('./assets/AlzheimerFonts/');\n    //createjs 输入框界面\n    var _view = new lib.DynamicFontPage();\n    //字体显示容器\n    var _box = _view.box;\n    //记录当前文字内容\n    var _currentInfo;\n    var _color = '#ffffff';\n    var _fontSize = 25;\n    //创建输入框\n    var _input = ds.createjs.addInput(_view.textInput, {\n        width: 420,\n        color: '#30004A',\n        size: 22\n    }, '默认输入动态文本');\n\n    //输入框内容改变时候\n    _input.el.on('change', changeDynamicFont);\n    //输入框内容输入时候\n    _input.el.on('input', changeDynamicFont);\n\n    //输入框内容改变事件\n    function changeDynamicFont() {\n        if (_input.el[0].value === _currentInfo) return;\n        _currentInfo = _input.el[0].value;\n        _dynamicFontManager.loadFontsByContent(_currentInfo, dynamicFontLoadEnd);\n    }\n    //输入内容加载完成后\n    function dynamicFontLoadEnd(content) {\n        if (_currentInfo !== content) return;\n        _currentInfo = content;\n        _box.removeAllChildren();\n        for (var i = 0; i < _currentInfo.length; i++) {\n            var _info = _currentInfo[i];\n            var _font = _dynamicFontManager.getShapeFont(_info, _color, _fontSize);\n            _box.addChild(_font);\n\n            _font.x = _fontSize * (i % 21);\n            _font.y = (_fontSize + 8) * (i / 21 >> 0);\n        }\n    }\n    //默认呈现\n    changeDynamicFont();\n\n    var _colors = ['#ffffff', '#FED73C', '#8AFEFE'];\n    for (var i = 0; i < 3; i++) {\n        var _mc = _view['mc' + i];\n        _mc.id = i;\n        _mc.mouseChildren = false;\n        _mc.on('click', function (e) {\n            var _tm = e.target;\n            if (_color !== _colors[_tm.id]) {\n                _color = _colors[_tm.id];\n                console.log('_color:', _color, _tm.id);\n                reDraw();\n            }\n        }, this);\n    }\n    function reDraw() {\n        _box.removeAllChildren();\n        for (var i = 0; i < _currentInfo.length; i++) {\n            var _info = _currentInfo[i];\n            var _font = _dynamicFontManager.getShapeFont(_info, _color, _fontSize);\n            _box.addChild(_font);\n            _font.x = _fontSize * (i % 21);\n            _font.y = (_fontSize + 8) * (i / 21 >> 0);\n        }\n    }\n\n    _view.backBtn.on('click', function () {\n        SiteModel.pager.gotoPage('HomePage');\n    });\n\n    //动画进场\n    this.MovieIn = function () {\n\n        _Root.removeAllChildren();\n        _Root.addChild(_view);\n    };\n}\n\nmodule.exports = new DynamicFont();\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/pages/DynamicFont.js\n// module id = 141\n// module chunks = 0\n\n//# sourceURL=webpack:///./src/app/pages/DynamicFont.js?")},function(module,exports,__webpack_require__){"use strict";eval("/* WEBPACK VAR INJECTION */(function(process, global) {\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _typeof2 = __webpack_require__(9);\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nvar _getPrototypeOf = __webpack_require__(72);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(70);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(71);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(73);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(74);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _EventDispatcher2 = __webpack_require__(69);\n\nvar _EventDispatcher3 = _interopRequireDefault(_EventDispatcher2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * 动态字体类处理类\n * 动态字体资源输出工具[https://github.com/lqloveball/DynamicFontTools](https://github.com/lqloveball/DynamicFontTools)\n * 进行字体的资源生成，生成后是一堆单个字体的绘制描述的txt文件。注意太大的字体，会转换失败。\n * @class\n * @memberof ds.createjs\n * @requires module:libs/createjs/createjs0.8.2.min.js\n * @requires module:ds/core/EventDispatcher.js\n * @example\n require('ds/createjs/DynamicFontManager');\n var _dynamicFontManager = new ds.createjs.DynamicFontManager('./assets/AlzheimerFonts/');\n //createjs 输入框界面\n var _view = new lib.DynamicFontPage();\n //字体显示容器\n var _box = _view.box;\n //记录当前文字内容\n var _currentInfo;\n var _color='#ffffff';\n var _fontSize=25;\n //创建输入框\n var _input = ds.createjs.addInput(_view.textInput, {\n        width: 420,\n        color: '#30004A',\n        size: 22\n    }, '默认输入动态文本');\n\n //输入框内容改变时候\n _input.el.on('change', changeDynamicFont);\n //输入框内容输入时候\n _input.el.on('input', changeDynamicFont);\n\n //输入框内容改变事件\n function changeDynamicFont() {\n        if (_input.el[0].value === _currentInfo) return;\n        _currentInfo = _input.el[0].value;\n        _dynamicFontManager.loadFontsByContent(_currentInfo, dynamicFontLoadEnd);\n    }\n //输入内容加载完成后\n function dynamicFontLoadEnd(content) {\n        if (_currentInfo !== content) return;\n        _currentInfo=content;\n        _box.removeAllChildren();\n        for (var i = 0; i < _currentInfo.length; i++) {\n            var _info=_currentInfo[i];\n            var _font=_dynamicFontManager.getShapeFont(_info,_color,_fontSize);\n            _box.addChild(_font);\n\n            _font.x=_fontSize*(i%21);\n            _font.y=(_fontSize+8)*(i/21>>0);\n        }\n    }\n //默认呈现\n changeDynamicFont();\n */\nvar DynamicFontManager = function (_EventDispatcher) {\n    (0, _inherits3.default)(DynamicFontManager, _EventDispatcher);\n\n    /**\n     * 构造函数\n     * @param {string} path 需要加载的文字资源的路径地址  如：`./fonts/HWXHOTxt/`\n     */\n    function DynamicFontManager(path) {\n        (0, _classCallCheck3.default)(this, DynamicFontManager);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (DynamicFontManager.__proto__ || (0, _getPrototypeOf2.default)(DynamicFontManager)).call(this));\n\n        _this._path = path;\n\n        _this._userFontsDc = {};\n\n        return _this;\n    }\n\n    /**\n     * 根据内容加载需要的字体\n     * @param {string} content 需要绘制的显示对象内容\n     * @param {function} callback  加载完成后执行的函数\n     */\n\n\n    (0, _createClass3.default)(DynamicFontManager, [{\n        key: 'loadFontsByContent',\n        value: function loadFontsByContent(content, callback) {\n\n            var _self = this;\n            //字符打散成数组\n            var _cArr = content.split('');\n            //创造需要加载字符列表字典作为判断不需要重复加载\n            var _textDc = {};\n            //创建需要加载字符列表\n            var _textManifest = [];\n            var _textCodeList = [];\n            for (var i = 0; i < _cArr.length; i++) {\n\n                //str2unicode(textArr[i])//\n                var _info = _cArr[i].charCodeAt(0);\n                // console.log(info);\n                if (!_textDc[_info] && !this._userFontsDc[_info]) {\n                    var _url = this._path + _info + '.txt';\n                    _textDc[_info] = { id: _info, src: _url };\n                    _textManifest.push(_textDc[_info]);\n                    _textCodeList.push(_info);\n                }\n            }\n\n            if (_textManifest.length <= 0) {\n                /**\n                 * 字体加载完成\n                 * @event ds.createjs.DynamicFontManager#complete\n                 * @property {string} content - 加载完成字体内容\n                 */\n                _self.ds({ type: 'complete', content: content });\n                if (callback) callback(content);\n\n                return;\n            }\n\n            var _queue = new createjs.LoadQueue(true);\n            _queue.loadManifest(_textManifest);\n            _queue.on(\"complete\", loadComplete);\n\n            //加载完成需要绘制字体的数据\n            function loadComplete() {\n\n                for (var _i = 0; _i < _textCodeList.length; _i++) {\n\n                    var _code = _textCodeList[_i];\n                    var _drawData = _queue.getResult(_code);\n                    _self._userFontsDc[_code] = _drawData;\n                }\n                /**\n                 * 字体加载完成\n                 * @event ds.createjs.DynamicFontManager#complete\n                 * @property {string} content - 加载完成字体内容\n                 */\n                _self.ds({ type: 'complete', content: content });\n                if (callback) callback(content);\n            }\n        }\n\n        /**\n         * 获取font字体描述数据\n         * @param {sring} value  单字\n         * @return {string}\n         */\n\n    }, {\n        key: 'getFontData',\n        value: function getFontData(value) {\n            if (value.length !== 1) return undefined;\n            var _code = value.charCodeAt(0);\n            return this._userFontsDc[_code];\n        }\n\n        /**\n         *  获取转义过的font字体描述数据\n         * @param value 单字\n         * @return {array}\n         */\n\n    }, {\n        key: 'getFontPathData',\n        value: function getFontPathData(value) {\n            var _path = this.getFontData(value);\n            if (!_path) return null;\n            return this.analysisPathData(_path);\n        }\n\n        /**\n         * 获取一个字体的绘制显示对象\n         * @param {string} value 字体文本\n         * @param {sring} color 字体颜色\n         * @param {number} size 字体大小\n         * @return {createjs.Container} 返回的是一个容器显示对象，字体文件是font.shape\n         */\n\n    }, {\n        key: 'getShapeFont',\n        value: function getShapeFont(value, color, size) {\n\n            var _path = this.getFontPathData(value);\n            var _font = new createjs.Container();\n            if (!_path) return _font;\n\n            var _shape = this.drawFontByPath(_path, color);\n            _font.shape = _shape;\n            _font.size = size || 1000;\n            _font.addChild(_shape);\n            _shape.scaleY = -1;\n            _shape.y = 1000;\n\n            if (size !== undefined) {\n\n                var _s = size / 1000;\n                _shape.scaleY = -_s;\n                _shape.scaleX = _s;\n                _shape.y = 1000 * _s;\n            }\n\n            return _font;\n        }\n\n        /**\n         * 根据绘制数据进行绘制一个字体显示对象\n         * @param {array} path\n         * @param {string} color\n         * @return {createjs.Shape}\n         */\n\n    }, {\n        key: 'drawFontByPath',\n        value: function drawFontByPath(path, color) {\n\n            var _shape = new createjs.Shape();\n\n            if (!path || path.length === 0) return _shape;\n\n            var g = _shape.graphics;\n            g.beginFill(color);\n\n            for (var i = 0; i < path.length; i++) {\n                // let _gd=path[i];\n                _draw(path[i], i);\n            }\n\n            g.endFill();\n\n            function _draw(gd, i) {\n\n                var type = gd.type;\n                var arr = gd.arr;\n                // console.log(i,'draw ',type,arr);\n                if (type === 'M') g.moveTo(arr[0], arr[1]);\n                if (type === 'L') g.lineTo(arr[0], arr[1]);\n                if (type === 'BC') g.bezierCurveTo(arr[0], arr[1], arr[2], arr[3], arr[4], arr[5]);\n                if (type === 'QC') g.quadraticCurveTo(arr[0], arr[1], arr[2], arr[3]);\n                if (type === 'E') g.endFill();\n            }\n\n            return _shape;\n        }\n\n        /**\n         * 动态字体字典\n         * @return {object}\n         */\n\n    }, {\n        key: 'analysisPathData',\n\n\n        /**\n         * 分析font字体描述数据 转换成可以使用的绘制数据\n         * @param {string} path font字体描述数据\n         * @return {array} 转义过的font字体描述数据\n         */\n        value: function analysisPathData(path) {\n            // log('AnalysisPathData1')\n            var _result = [];\n            if (!path) return _result;\n            // log('AnalysisPathData2')\n            // var d = path;\n            var _currentPt = [0, 0];\n            var _lastPt = [0, 0];\n            var _action = /([a-z])([^a-z]*)/gi;\n            var _type = void 0,\n                _param = void 0,\n                _drawData = void 0;\n            for (var _reg = \"1\"; _reg;) {\n                _reg = _action.exec(path);\n                if (_reg) {\n                    _type = (_reg[1] + \"\").toLocaleUpperCase();\n                    _param = _reg[2];\n                    _drawData = { type: _type };\n                    _result.push(_drawData);\n                    // log(type,param.length);\n                    switch (_type) {\n                        case \"M\":\n                            _param = _param.replace(/,/g, \" \");\n                            _param = _param.replace(/-/g, \" -\");\n                            _param = _param.trim().split(\" \");\n                            _currentPt[0] = +_param[0];\n                            _currentPt[1] = +_param[1];\n                            _drawData.type = 'M';\n                            _drawData.arr = [_currentPt[0], _currentPt[1]];\n                            break;\n                        case \"L\":\n                            _param = _param.replace(/,/g, \" \");\n                            _param = _param.replace(/-/g, \" -\");\n                            _param = _param.trim().split(\" \");\n                            _currentPt[0] = +_param[0];\n                            _currentPt[1] = +_param[1];\n                            _drawData.type = 'L';\n                            _drawData.arr = [_currentPt[0], _currentPt[1]];\n                            break;\n                        case \"H\":\n                            _currentPt[0] = +_param;\n                            _drawData.type = 'H';\n                            _drawData.arr = [_currentPt[0], _currentPt[1]];\n                            break;\n                        case \"V\":\n                            _currentPt[1] = +param;\n                            _drawData.type = 'V';\n                            _drawData.arr = [_currentPt[0], _currentPt[1]];\n                            break;\n                        case \"Z\":\n                            _drawData.type = 'E';\n                            _drawData.arr = [];\n                            break;\n                        case \"C\":\n                            _param = _param.replace(/,/g, \" \");\n                            _param = _param.replace(/-/g, \" -\");\n                            _param = _param.trim().split(\" \");\n                            _param[0] = +_param[0];\n                            _param[1] = +_param[1];\n                            _param[2] = +_param[2];\n                            _param[3] = +_param[3];\n                            _param[4] = +_param[4];\n                            _param[5] = +_param[5];\n                            // ctx.bezierCurveTo.apply(ctx,param);\n                            _drawData.type = 'BC';\n                            _drawData.arr = [_param[0], _param[1], _param[2], _param[3], _param[4], _param[5]];\n\n                            _currentPt = [_param[4], _param[5]];\n                            _lastPt = [2 * _param[4] - _param[2], 2 * _param[5] - _param[3]];\n                            break;\n                        case \"S\":\n                            _param = _param.replace(/,/g, \" \");\n                            _param = _param.replace(/-/g, \" -\");\n                            _param = _param.trim().split(\" \");\n                            _param[0] = +_param[0];\n                            _param[1] = +_param[1];\n                            _param[2] = +_param[2];\n                            _param[3] = +_param[3];\n                            _param = _lastPt.concat(_param);\n                            // ctx.bezierCurveTo.apply(ctx,param);\n                            _drawData.type = 'QC';\n                            _drawData.arr = [_param[0], _param[1], _param[2], _param[3]];\n                            _currentPt = [_param[4], _param[5]];\n                            _lastPt = [2 * _param[4] - _param[2], 2 * _param[5] - _param[3]];\n                            break;\n                        case \"Q\":\n                            _param = _param.replace(/,/g, \" \");\n                            _param = _param.replace(/-/g, \" -\");\n                            _param = _param.trim().split(\" \");\n                            // log(\"Q\",param)\n                            var arr = [];\n                            _param[0] = Number(_param[0]);\n                            _param[1] = Number(_param[1]);\n                            _param[2] = Number(_param[2]);\n                            _param[3] = Number(_param[3]);\n                            // param = lastControl.concat(param);\n                            // ctx.bezierCurveTo.apply(ctx,param);\n                            _drawData.type = 'QC';\n                            _drawData.arr = [_param[0], _param[1], _param[2], _param[3]];\n                            _currentPt = [_param[4], _param[5]];\n                            _lastPt = [2 * _param[4] - _param[2], 2 * _param[5] - _param[3]];\n                            break;\n                        default:\n                    }\n                }\n            }\n            return _result;\n        }\n    }, {\n        key: 'userFontsDc',\n        get: function get() {\n            return this._userFontsDc;\n        }\n\n        /**\n         * 动态字体路径\n         * @return {string}\n         */\n\n    }, {\n        key: 'path',\n        get: function get() {\n            return this._path;\n        }\n    }]);\n    return DynamicFontManager;\n}(_EventDispatcher3.default);\n\nvar root = typeof window !== 'undefined' ? window : (typeof process === 'undefined' ? 'undefined' : (0, _typeof3.default)(process)) === 'object' && \"function\" === 'function' && (typeof global === 'undefined' ? 'undefined' : (0, _typeof3.default)(global)) === 'object' ? global : undefined;\n\nvar ds = root.ds = root.ds || {};\nds.createjs = ds.createjs || {};\nds.createjs.DynamicFontManager = DynamicFontManager;\n\nexports.default = DynamicFontManager;\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(15), __webpack_require__(8)))\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/ds/createjs/DynamicFontManager.js\n// module id = 142\n// module chunks = 0\n\n//# sourceURL=webpack:///./src/ds/createjs/DynamicFontManager.js?")},function(module,exports,__webpack_require__){"use strict";eval("\n\n/**\n * HtmlPage 测试Html DOM为主的页面模块\n * 1、使用JsTween运动引擎做粒子动画\n * 2、webpack打包html模块\n * 3、webpack打包css模块\n * 4、非当前页面动画停止判断\n * 5、自适应\n * 6、webpack导入dom 绑定点击事件\n * 7、页面跳转时候，本页面dom 从页面上删除\n * @type {module}\n **/\nfunction HtmlPage() {\n\n    var _Self = this;\n\n    this.name = 'HtmlPage';\n\n    //事件继承\n    // ds.EventDispatcher.extend(this);\n    //主模块\n    var _AppMain = SiteModel.appMain;\n    //如果有用到 pixi 部分代码\n    var _Root, _Stage, _PixiJsModel, _CreateJsModel;\n    if (SiteModel.pixiJsModel) {\n        _PixiJsModel = SiteModel.pixiJsModel;\n        _Root = _PixiJsModel.root;\n        _Stage = _PixiJsModel.stage;\n    } else if (SiteModel.createJsModel) {\n        _CreateJsModel = SiteModel.createJsModel;\n        _Root = _CreateJsModel.root;\n        _Stage = _CreateJsModel.stage;\n    }\n\n    //使用webpack打包css进来，但推荐还是用less目录下打包，不要重新刷新页面，只刷样式\n    __webpack_require__(144);\n    //webpack方式打包html的dom元素进来，使用zepto进行封装对象，便于操作\n    var _Dom = $(__webpack_require__(148));\n    var _Box = _Dom.find('.bgBox');\n\n    //找到按钮进行按钮的绑定 返回首页\n    _Dom.find('.btn').on('click', function () {\n        _AppMain.gotoPage('HomePage');\n        _Dom.remove();\n        // $('#domBox').html('');\n    });\n\n    var _temp = $(document.createElement('div'));\n    _temp.css({\n        background: '#fff',\n        width: 20,\n        height: 20,\n        borderRadius: 10\n    });\n\n    var _Particles = [];\n    function InitMovieParticle() {\n        _Box.html('');\n\n        _Particles = [];\n        for (var i = 0; i < 50; i++) {\n            var _obj = _temp.clone();\n            _Particles.push(_obj);\n            _Box.append(_obj);\n            var _s = 2 * Math.random();\n            TweenMax.set(_obj, { x: Math.random() * 640, y: Math.random() * 1000,\n                scaleX: _s, scaleY: _s,\n                opacity: Math.random()\n            });\n            MovieParticle(_obj);\n        }\n    }\n\n    function MovieParticle(obj) {\n\n        var _s = 2 * Math.random();\n        obj.tw = TweenMax.to(obj, 0.5 + Math.random(), {\n            x: Math.random() * 640,\n            y: Math.random() * SiteModel.resizeModel.actualH,\n            scaleX: _s, scaleY: _s,\n            opacity: Math.random(),\n            onComplete: function onComplete() {\n                if (_Self.name !== SiteModel.pager.pageLabel) return;\n                MovieParticle(obj);\n            }\n        });\n    }\n\n    //动画进场\n    this.MovieIn = function () {\n\n        _Root.removeAllChildren();\n\n        $('#domBox').html('');\n        $('#domBox').append(_Dom);\n\n        InitMovieParticle();\n\n        ReSize();\n    };\n\n    SiteModel.resizeModel.on('resize', ReSize);\n\n    function ReSize() {\n        var _resizeModel = SiteModel.resizeModel;\n        var _width = _resizeModel.width;\n        var _height = _resizeModel.height;\n        var _actualH = _resizeModel.actualH;\n        var _pageScale = _resizeModel.pageScale;\n        var _isInputState = _resizeModel.isInputState;\n        var _horizontal = _resizeModel.horizontal;\n        var _screenWidth = _resizeModel.screenWidth;\n        var _densityDpi = _resizeModel.densityDpi;\n\n        _Dom.find('#HtmlPage').css({\n            width: 640,\n            height: _actualH\n        });\n\n        if (_Self.name !== SiteModel.pager.pageLabel) return;\n\n        if (_horizontal) {\n            SiteModel.resizeModel.showOrientationTip(true);\n        } else {\n            SiteModel.resizeModel.hideOrientationTip();\n        }\n    }\n}\n\nmodule.exports = new HtmlPage();\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/pages/HtmlPage.js\n// module id = 143\n// module chunks = 0\n\n//# sourceURL=webpack:///./src/app/pages/HtmlPage.js?")},function(module,exports,__webpack_require__){eval("// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(145);\nif(typeof content === 'string') content = [[module.i, content, '']];\n// add the styles to the DOM\nvar update = __webpack_require__(147)(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(false) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../../node_modules/_css-loader@0.26.4@css-loader/index.js!../../../../../node_modules/_less-loader@2.2.3@less-loader/index.js!./HtmlPage.less\", function() {\n\t\t\tvar newContent = require(\"!!../../../../../node_modules/_css-loader@0.26.4@css-loader/index.js!../../../../../node_modules/_less-loader@2.2.3@less-loader/index.js!./HtmlPage.less\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/pages/HtmlPage.less\n// module id = 144\n// module chunks = 0\n\n//# sourceURL=webpack:///./src/app/pages/HtmlPage.less?")},function(module,exports,__webpack_require__){eval('exports = module.exports = __webpack_require__(146)();\n// imports\n\n\n// module\nexports.push([module.i, "#HtmlPage{width:640px;height:1040px;background:#57037b}#HtmlPage,#HtmlPage .bgBox{position:absolute;left:0;top:0}#HtmlPage .bgBox{width:100%;height:100%}#HtmlPage .title{left:0;top:30%;width:100%;color:#fff;font-size:30px}#HtmlPage .btn,#HtmlPage .title{position:absolute;text-align:center}#HtmlPage .btn{left:50%;top:40%;margin-left:-20%;width:40%;height:50px;background:#fff;color:#7b0358;font-size:25px;line-height:50px}", ""]);\n\n// exports\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/maksim/Works/node_modules/_css-loader@0.26.4@css-loader!/Users/maksim/Works/node_modules/_less-loader@2.2.3@less-loader!./src/app/pages/HtmlPage.less\n// module id = 145\n// module chunks = 0\n\n//# sourceURL=webpack:///./src/app/pages/HtmlPage.less?/Users/maksim/Works/node_modules/_css-loader@0.26.4@css-loader!/Users/maksim/Works/node_modules/_less-loader@2.2.3@less-loader')},function(module,exports){eval('/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function() {\n\tvar list = [];\n\n\t// return the list of modules as css string\n\tlist.toString = function toString() {\n\t\tvar result = [];\n\t\tfor(var i = 0; i < this.length; i++) {\n\t\t\tvar item = this[i];\n\t\t\tif(item[2]) {\n\t\t\t\tresult.push("@media " + item[2] + "{" + item[1] + "}");\n\t\t\t} else {\n\t\t\t\tresult.push(item[1]);\n\t\t\t}\n\t\t}\n\t\treturn result.join("");\n\t};\n\n\t// import a list of modules into the list\n\tlist.i = function(modules, mediaQuery) {\n\t\tif(typeof modules === "string")\n\t\t\tmodules = [[null, modules, ""]];\n\t\tvar alreadyImportedModules = {};\n\t\tfor(var i = 0; i < this.length; i++) {\n\t\t\tvar id = this[i][0];\n\t\t\tif(typeof id === "number")\n\t\t\t\talreadyImportedModules[id] = true;\n\t\t}\n\t\tfor(i = 0; i < modules.length; i++) {\n\t\t\tvar item = modules[i];\n\t\t\t// skip already imported module\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\n\t\t\t//  when a module is imported multiple times with different media queries.\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\n\t\t\tif(typeof item[0] !== "number" || !alreadyImportedModules[item[0]]) {\n\t\t\t\tif(mediaQuery && !item[2]) {\n\t\t\t\t\titem[2] = mediaQuery;\n\t\t\t\t} else if(mediaQuery) {\n\t\t\t\t\titem[2] = "(" + item[2] + ") and (" + mediaQuery + ")";\n\t\t\t\t}\n\t\t\t\tlist.push(item);\n\t\t\t}\n\t\t}\n\t};\n\treturn list;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/maksim/Works/node_modules/_css-loader@0.26.4@css-loader/lib/css-base.js\n// module id = 146\n// module chunks = 0\n\n//# sourceURL=webpack:////Users/maksim/Works/node_modules/_css-loader@0.26.4@css-loader/lib/css-base.js?')},function(module,exports){eval('/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\nvar stylesInDom = {},\n\tmemoize = function(fn) {\n\t\tvar memo;\n\t\treturn function () {\n\t\t\tif (typeof memo === "undefined") memo = fn.apply(this, arguments);\n\t\t\treturn memo;\n\t\t};\n\t},\n\tisOldIE = memoize(function() {\n\t\treturn /msie [6-9]\\b/.test(self.navigator.userAgent.toLowerCase());\n\t}),\n\tgetHeadElement = memoize(function () {\n\t\treturn document.head || document.getElementsByTagName("head")[0];\n\t}),\n\tsingletonElement = null,\n\tsingletonCounter = 0,\n\tstyleElementsInsertedAtTop = [];\n\nmodule.exports = function(list, options) {\n\tif(typeof DEBUG !== "undefined" && DEBUG) {\n\t\tif(typeof document !== "object") throw new Error("The style-loader cannot be used in a non-browser environment");\n\t}\n\n\toptions = options || {};\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n\t// tags it will allow on a page\n\tif (typeof options.singleton === "undefined") options.singleton = isOldIE();\n\n\t// By default, add <style> tags to the bottom of <head>.\n\tif (typeof options.insertAt === "undefined") options.insertAt = "bottom";\n\n\tvar styles = listToStyles(list);\n\taddStylesToDom(styles, options);\n\n\treturn function update(newList) {\n\t\tvar mayRemove = [];\n\t\tfor(var i = 0; i < styles.length; i++) {\n\t\t\tvar item = styles[i];\n\t\t\tvar domStyle = stylesInDom[item.id];\n\t\t\tdomStyle.refs--;\n\t\t\tmayRemove.push(domStyle);\n\t\t}\n\t\tif(newList) {\n\t\t\tvar newStyles = listToStyles(newList);\n\t\t\taddStylesToDom(newStyles, options);\n\t\t}\n\t\tfor(var i = 0; i < mayRemove.length; i++) {\n\t\t\tvar domStyle = mayRemove[i];\n\t\t\tif(domStyle.refs === 0) {\n\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++)\n\t\t\t\t\tdomStyle.parts[j]();\n\t\t\t\tdelete stylesInDom[domStyle.id];\n\t\t\t}\n\t\t}\n\t};\n}\n\nfunction addStylesToDom(styles, options) {\n\tfor(var i = 0; i < styles.length; i++) {\n\t\tvar item = styles[i];\n\t\tvar domStyle = stylesInDom[item.id];\n\t\tif(domStyle) {\n\t\t\tdomStyle.refs++;\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\n\t\t\t}\n\t\t\tfor(; j < item.parts.length; j++) {\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t} else {\n\t\t\tvar parts = [];\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\n\t\t}\n\t}\n}\n\nfunction listToStyles(list) {\n\tvar styles = [];\n\tvar newStyles = {};\n\tfor(var i = 0; i < list.length; i++) {\n\t\tvar item = list[i];\n\t\tvar id = item[0];\n\t\tvar css = item[1];\n\t\tvar media = item[2];\n\t\tvar sourceMap = item[3];\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\n\t\tif(!newStyles[id])\n\t\t\tstyles.push(newStyles[id] = {id: id, parts: [part]});\n\t\telse\n\t\t\tnewStyles[id].parts.push(part);\n\t}\n\treturn styles;\n}\n\nfunction insertStyleElement(options, styleElement) {\n\tvar head = getHeadElement();\n\tvar lastStyleElementInsertedAtTop = styleElementsInsertedAtTop[styleElementsInsertedAtTop.length - 1];\n\tif (options.insertAt === "top") {\n\t\tif(!lastStyleElementInsertedAtTop) {\n\t\t\thead.insertBefore(styleElement, head.firstChild);\n\t\t} else if(lastStyleElementInsertedAtTop.nextSibling) {\n\t\t\thead.insertBefore(styleElement, lastStyleElementInsertedAtTop.nextSibling);\n\t\t} else {\n\t\t\thead.appendChild(styleElement);\n\t\t}\n\t\tstyleElementsInsertedAtTop.push(styleElement);\n\t} else if (options.insertAt === "bottom") {\n\t\thead.appendChild(styleElement);\n\t} else {\n\t\tthrow new Error("Invalid value for parameter \'insertAt\'. Must be \'top\' or \'bottom\'.");\n\t}\n}\n\nfunction removeStyleElement(styleElement) {\n\tstyleElement.parentNode.removeChild(styleElement);\n\tvar idx = styleElementsInsertedAtTop.indexOf(styleElement);\n\tif(idx >= 0) {\n\t\tstyleElementsInsertedAtTop.splice(idx, 1);\n\t}\n}\n\nfunction createStyleElement(options) {\n\tvar styleElement = document.createElement("style");\n\tstyleElement.type = "text/css";\n\tinsertStyleElement(options, styleElement);\n\treturn styleElement;\n}\n\nfunction createLinkElement(options) {\n\tvar linkElement = document.createElement("link");\n\tlinkElement.rel = "stylesheet";\n\tinsertStyleElement(options, linkElement);\n\treturn linkElement;\n}\n\nfunction addStyle(obj, options) {\n\tvar styleElement, update, remove;\n\n\tif (options.singleton) {\n\t\tvar styleIndex = singletonCounter++;\n\t\tstyleElement = singletonElement || (singletonElement = createStyleElement(options));\n\t\tupdate = applyToSingletonTag.bind(null, styleElement, styleIndex, false);\n\t\tremove = applyToSingletonTag.bind(null, styleElement, styleIndex, true);\n\t} else if(obj.sourceMap &&\n\t\ttypeof URL === "function" &&\n\t\ttypeof URL.createObjectURL === "function" &&\n\t\ttypeof URL.revokeObjectURL === "function" &&\n\t\ttypeof Blob === "function" &&\n\t\ttypeof btoa === "function") {\n\t\tstyleElement = createLinkElement(options);\n\t\tupdate = updateLink.bind(null, styleElement);\n\t\tremove = function() {\n\t\t\tremoveStyleElement(styleElement);\n\t\t\tif(styleElement.href)\n\t\t\t\tURL.revokeObjectURL(styleElement.href);\n\t\t};\n\t} else {\n\t\tstyleElement = createStyleElement(options);\n\t\tupdate = applyToTag.bind(null, styleElement);\n\t\tremove = function() {\n\t\t\tremoveStyleElement(styleElement);\n\t\t};\n\t}\n\n\tupdate(obj);\n\n\treturn function updateStyle(newObj) {\n\t\tif(newObj) {\n\t\t\tif(newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap)\n\t\t\t\treturn;\n\t\t\tupdate(obj = newObj);\n\t\t} else {\n\t\t\tremove();\n\t\t}\n\t};\n}\n\nvar replaceText = (function () {\n\tvar textStore = [];\n\n\treturn function (index, replacement) {\n\t\ttextStore[index] = replacement;\n\t\treturn textStore.filter(Boolean).join(\'\\n\');\n\t};\n})();\n\nfunction applyToSingletonTag(styleElement, index, remove, obj) {\n\tvar css = remove ? "" : obj.css;\n\n\tif (styleElement.styleSheet) {\n\t\tstyleElement.styleSheet.cssText = replaceText(index, css);\n\t} else {\n\t\tvar cssNode = document.createTextNode(css);\n\t\tvar childNodes = styleElement.childNodes;\n\t\tif (childNodes[index]) styleElement.removeChild(childNodes[index]);\n\t\tif (childNodes.length) {\n\t\t\tstyleElement.insertBefore(cssNode, childNodes[index]);\n\t\t} else {\n\t\t\tstyleElement.appendChild(cssNode);\n\t\t}\n\t}\n}\n\nfunction applyToTag(styleElement, obj) {\n\tvar css = obj.css;\n\tvar media = obj.media;\n\n\tif(media) {\n\t\tstyleElement.setAttribute("media", media)\n\t}\n\n\tif(styleElement.styleSheet) {\n\t\tstyleElement.styleSheet.cssText = css;\n\t} else {\n\t\twhile(styleElement.firstChild) {\n\t\t\tstyleElement.removeChild(styleElement.firstChild);\n\t\t}\n\t\tstyleElement.appendChild(document.createTextNode(css));\n\t}\n}\n\nfunction updateLink(linkElement, obj) {\n\tvar css = obj.css;\n\tvar sourceMap = obj.sourceMap;\n\n\tif(sourceMap) {\n\t\t// http://stackoverflow.com/a/26603875\n\t\tcss += "\\n/*# sourceMappingURL=data:application/json;base64," + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + " */";\n\t}\n\n\tvar blob = new Blob([css], { type: "text/css" });\n\n\tvar oldSrc = linkElement.href;\n\n\tlinkElement.href = URL.createObjectURL(blob);\n\n\tif(oldSrc)\n\t\tURL.revokeObjectURL(oldSrc);\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/maksim/Works/node_modules/_style-loader@0.13.2@style-loader/addStyles.js\n// module id = 147\n// module chunks = 0\n\n//# sourceURL=webpack:////Users/maksim/Works/node_modules/_style-loader@0.13.2@style-loader/addStyles.js?')},function(module,exports){eval('module.exports = "<div> <div id=HtmlPage> <div class=bgBox> </div> <div class=title> webpack require html page </div> <div class=btn>Back</div> </div> </div>";\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/pages/HtmlPage.html\n// module id = 148\n// module chunks = 0\n\n//# sourceURL=webpack:///./src/app/pages/HtmlPage.html?')},function(module,exports,__webpack_require__){"use strict";eval("\n\n/**\n * SelectImages\n * @type {module}\n **/\nfunction SelectImages() {\n\n    var _Self = this;\n\n    this.name = 'SelectImages';\n\n    //事件继承\n    // ds.EventDispatcher.extend(this);\n    //主模块\n    var _AppMain = SiteModel.appMain;\n    //如果有用到 pixi 部分代码\n    var _Root, _Stage, _PixiJsModel, _CreateJsModel;\n    if (SiteModel.pixiJsModel) {\n        _PixiJsModel = SiteModel.pixiJsModel;\n        _Root = _PixiJsModel.root;\n        _Stage = _PixiJsModel.stage;\n    } else if (SiteModel.createJsModel) {\n        _CreateJsModel = SiteModel.createJsModel;\n        _Root = _CreateJsModel.root;\n        _Stage = _CreateJsModel.stage;\n    }\n\n    __webpack_require__(150);\n\n    var _View = new lib.SelectImagesPage();\n\n    var _SelectUpImager = new ds.createjs.SelectUpImager(250, 250, _View.selectBox.box, { size: 800 });\n\n    _View.selectBtn.on('click', function () {\n\n        _SelectUpImager.select();\n    });\n\n    _View.outBtn.on('click', function () {\n\n        var _bmp = _SelectUpImager.cacheBitmap();\n\n        _View.outPutBox.box.removeAllChildren();\n        _View.outPutBox.box.addChild(_bmp);\n    });\n\n    _View.backBtn.on('click', function () {\n\n        _AppMain.gotoPage('HomePage');\n    });\n\n    _SelectUpImager.on('update', function (e) {});\n\n    //动画进场\n    this.MovieIn = function () {\n\n        _Root.removeAllChildren();\n        _Root.addChild(_View);\n\n        ReSize();\n    };\n\n    SiteModel.resizeModel.on('resize', ReSize);\n\n    function ReSize() {\n\n        var _resizeModel = SiteModel.resizeModel;\n        var _width = _resizeModel.width;\n        var _height = _resizeModel.height;\n        var _actualH = _resizeModel.actualH;\n        var _pageScale = _resizeModel.pageScale;\n        var _isInputState = _resizeModel.isInputState;\n        var _horizontal = _resizeModel.horizontal;\n        var _screenWidth = _resizeModel.screenWidth;\n        var _densityDpi = _resizeModel.densityDpi;\n\n        if (_Self.name !== SiteModel.pager.pageLabel) return;\n        if (_horizontal) {\n            SiteModel.resizeModel.showOrientationTip(true);\n        } else {\n            SiteModel.resizeModel.hideOrientationTip();\n        }\n    }\n}\n\nmodule.exports = new SelectImages();\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/pages/SelectImages.js\n// module id = 149\n// module chunks = 0\n\n//# sourceURL=webpack:///./src/app/pages/SelectImages.js?")},function(module,exports,__webpack_require__){"use strict";eval("/* WEBPACK VAR INJECTION */(function(process, global) {var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;\n\nvar _typeof2 = __webpack_require__(9);\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n//这个类使用老js方法，有可能直接插入html标签内使用\n!function (factory) {\n\n    var root = typeof window !== 'undefined' ? window : (typeof process === 'undefined' ? 'undefined' : (0, _typeof3.default)(process)) === 'object' && \"function\" === 'function' && (typeof global === 'undefined' ? 'undefined' : (0, _typeof3.default)(global)) === 'object' ? global : this;\n\n    if (true) {\n\n        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [exports], __WEBPACK_AMD_DEFINE_RESULT__ = function (exports) {\n            __webpack_require__(151);\n            module.exports = factory(root, exports);\n        }.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n    } else if (typeof exports !== 'undefined') {\n        require('libs/shrek/imgslterV.js');\n        module.exports = factory(root, exports);\n    } else {\n\n        factory(root, {});\n    }\n}(function (root, Model) {\n\n    var ds = root.ds = root.ds || {};\n    ds.createjs = ds.createjs || {};\n\n    /**\n     * createjs下选择图片上传管理器\n     * @class ds.createjs.SelectUpImager\n     * @classdesc 实现createjs下选择图片上传，触摸的 拖拽、旋转、缩放\n     * @param {number} width  图片显示容器宽\n     * @param {number} height  图片显示容器高\n     * @param {createjs.Container} container 选择好的图片会放添加到什么容器内，可以不设置\n     * @param {object} opts  图片选择器的配置参数\n     * @param {number} opts.size  选择器对选择的图片进行缩放尺寸。如：设置100，那选择上传的图片的图片 宽与高 都不可能小于100px。默认不设置会使用width或height的最大值\n     * @param {string} [opts.layout='outSide']  默认：'outSide'  撑满容器 使用'inSide' 缩放到容器内\n     * - SelectUpImager.LAYOUT_OUTSIDE='outSide'\n     * - SelectUpImager.LAYOUT_INSIDE='inSide'\n     * @param {number} [opts.scaleMax=0.2 ] 允许缩放最大比例\n     * @param {number} [opts.scaleMin=3]    允许缩放最小比例\n     * @param {boolean} [opts.look=false]   是否锁定 锁定不能缩放 不能拖动 不能旋转\n     * @param {boolean} [opts.drag=true]  是否可以拖拽\n     * @param {boolean} [opts.zoom=true]  是否可以缩放\n     * @param {boolean} [opts.rotation=true] 是否可以旋转\n     * @param {createjs.Rectangle} [opts.dragRect=undefined] 设置拖拽访问\n     * @param {boolean} [opts.hasRect=false] 设置true 按width height 创建拖拽范围\n     * @param {boolean} [opts.clear=true] 选择新相片是否自动清空之前编辑对象\n     * @param {number} [opts.selectDelay=2] 选择延迟，距离上次选择多少秒时间内不能触发选择\n     * @param {string} [opts.capture=undefined]  选择方式 默认null ，比如：camera 照相机；camcorder 摄像机；microphone 录音。\n     * @requires libs/shrek/imgslterV.js\n     * @requires libs/touch/touch.min.js\n     * @example\n     *\n     *  require('ds/createjs/SelectUpImager');\n     *  var _selectUpImager=new ds.createjs.SelectUpImager(250,250,_box);\n     *  _SelectUpImager.on('update',function (e) {\n     *      //选择了一张图片上来时候触发\n     *  });\n     *\n     */\n    ds.createjs.SelectUpImager = SelectUpImager;\n\n    function SelectUpImager(width, height, container, opts) {\n\n        opts = opts || {};\n\n        var _self = this;\n        ds.EventDispatcher.extend(this);\n\n        if (!width && !height) console.warn('ds.createjs.SelectUpImager No Has width height?');\n\n        var _width = width || 1000;\n        var _height = height || _width;\n\n        //选择器选择上来图片大小\n        var _size = opts.size || Math.max(_width, _height);\n\n        /**\n         * 拖拽缩放使用的容器\n         * @member ds.createjs.SelectUpImager.prototype.container\n         * @type {createjs.Container}\n         * @readonly\n         */\n        var _container = container || new createjs.Container();\n        Object.defineProperty(this, \"container\", {\n            get: function get() {\n                return _container;\n            }\n        });\n\n        /**\n         * 是否可以拖拽\n         * @member ds.createjs.SelectUpImager.prototype.drag\n         * @type {boolean}\n         */\n        var _drag = opts.drag !== undefined ? opts.drag : true;\n        Object.defineProperty(this, \"drag\", {\n            get: function get() {\n                return _drag;\n            },\n            set: function set(value) {\n                _drag = value;\n            }\n        });\n\n        /**\n         * 是否允许缩放\n         * @member ds.createjs.SelectUpImager.prototype.zoom\n         * @type {boolean}\n         */\n        var _zoom = opts.zoom !== undefined ? opts.zoom : true;\n        Object.defineProperty(this, \"zoom\", {\n            get: function get() {\n                return _zoom;\n            },\n            set: function set(value) {\n                _zoom = value;\n            }\n        });\n\n        /**\n         * 是否允许旋转\n         * @member ds.createjs.SelectUpImager.prototype.rotation\n         * @type {boolean}\n         */\n        var _rotation = opts.rotation !== undefined ? opts.rotation : true;\n        Object.defineProperty(this, \"rotation\", {\n            get: function get() {\n                return _rotation;\n            },\n            set: function set(value) {\n                _rotation = value;\n            }\n        });\n\n        /**\n         * 是否锁定 不能拖到 缩放 旋转\n         * @member ds.createjs.SelectUpImager.prototype.look\n         * @type {boolean}\n         */\n        var _look = opts.look !== undefined ? opts.look : false;\n        Object.defineProperty(this, \"look\", {\n            get: function get() {\n                return _look;\n            },\n            set: function set(value) {\n                _look = value;\n            }\n        });\n\n        //添加新元素时候是否清空容器\n        var _clear = opts.clear !== undefined ? opts.clear : true;\n\n        //outSide撑满容器 inSide缩放到容器内\n        /**\n         * 选择图片到显示容器内画面布局\n         * - 'outSide' 撑满容器\n         * - 'inSide' 缩放到容器内\n         * @member ds.createjs.SelectUpImager.prototype.layout\n         * @default 'outSide'\n         * @type {string}\n         */\n        var _layout = opts.layout !== undefined ? opts.layout : 'outSide';\n        Object.defineProperty(this, \"layout\", {\n            get: function get() {\n                return _layout;\n            },\n            set: function set(value) {\n                _layout = value;\n            }\n        });\n\n        /**\n         * 拖拽缩放触发的dom对象\n         * @member ds.createjs.SelectUpImager.prototype.touchDom\n         * @type {HTMLElement}\n         */\n        var _touchDom;\n        Object.defineProperty(this, \"touchDom\", {\n            get: function get() {\n                return _touchDom;\n            },\n            set: function set(value) {\n\n                if (_touchDom == value) return;\n                if (_touchDom) {\n\n                    touch.off(_touchDom, 'pinch', pinch);\n                    touch.off(_touchDom, 'pinchstart', pinchstart);\n                    touch.off(_touchDom, 'pinchend', pinchend);\n                    touch.off(_touchDom, 'rotate', rotate);\n                }\n\n                _touchDom = value;\n                touch.on(_touchDom, 'pinch', pinch);\n                touch.on(_touchDom, 'pinchstart', pinchstart);\n                touch.on(_touchDom, 'pinchend', pinchend);\n                touch.on(_touchDom, 'rotate', rotate);\n            }\n        });\n\n        //处理默认配置\n        var _tempTouchDom;\n        if (opts.touchDom) _tempTouchDom = getHTMLElement(opts.touchDom);\n        if (!_tempTouchDom) _tempTouchDom = $('body')[0];\n        this.touchDom = _tempTouchDom;\n\n        /**\n         * 设置拖拽区域\n         * - null 不选择拖拽区域\n         * @member ds.createjs.SelectUpImager.prototype.dragRect\n         * @type {createjs.Rectangle}\n         */\n        var _dragRect = opts.dragRect;\n        Object.defineProperty(this, \"dragRect\", {\n            get: function get() {\n                return _dragRect;\n            },\n            set: function set(value) {\n\n                if (value === undefined || value === null) {\n                    _dragRect = null;\n                } else if (value instanceof createjs.Rectangle) {\n                    _dragRect = value;\n                }\n            }\n        });\n\n        //是否自动创建一个拖拽选区\n        // if(opts.hasRect===undefined) opts.hasRect=true;\n        if (opts.hasRect && !_dragRect) _dragRect = new createjs.Rectangle(0, 0, _width, _height);\n\n        /**\n         * 选择图片选择器\n         * @member ds.createjs.SelectUpImager.prototype.selecter\n         * @type {ImgSlter}\n         */\n        var _selecter;\n        Object.defineProperty(this, \"selecter\", {\n            get: function get() {\n                return _selecter;\n            }\n        });\n        /**\n         * 上传图片转化编辑对象\n         * @member ds.createjs.SelectUpImager.prototype.element\n         * @type {createjs.Container}\n         */\n        var _element;\n        Object.defineProperty(this, \"element\", {\n            get: function get() {\n                return _element;\n            }\n        });\n\n        //点击选择延迟\n        var _selectDelay = opts.selectDelay !== undefined ? opts.selectDelay * 1000 : 2 * 1000;\n        //点击计时\n        var _selectTime = new Date().getTime() - _selectDelay;\n\n        var _scale = 1;\n        //开始拖动时候缩放比例\n        var _scaleStart;\n        var _scaleMax = opts.scaleMax !== undefined ? opts.scaleMax : 3;\n        var _scaleMin = opts.scaleMin !== undefined ? opts.scaleMin : 0.2;\n\n        var _objRotation = 0;\n        var _objRotationStart;\n\n        function pinch(e) {\n\n            if (_look) return;\n            if (!_zoom) return;\n\n            var _temp = e.scale - 1;\n            _temp = _scaleStart + _temp;\n            if (_temp >= _scaleMax) _temp = _scaleMax;\n            if (_temp <= _scaleMin) _temp = _scaleMin;\n            _scale = _temp;\n\n            if (_element) _element.scaleX = _element.scaleY = _scale;\n        }\n\n        function pinchend(e) {\n\n            if (_look) return;\n            if (!_zoom) return;\n            _scaleStart = _scale;\n        }\n\n        function pinchstart(e) {\n\n            if (_look) return;\n            if (_rotation) _objRotationStart = _objRotation;\n            if (_zoom) _scaleStart = _scale;\n        }\n\n        function rotate(e) {\n\n            if (_look) return;\n            if (!_rotation) return;\n\n            _objRotation = _objRotationStart + e.rotation;\n            if (_element) _element.rotation = _objRotation;\n        }\n\n        var _pointerID;\n\n        //拖拽事件\n        function onDragStart(e) {\n\n            var _obj = _element;\n            var _stage = _obj.stage;\n\n            if (_look) return;\n            if (!_drag) return;\n            if (!_obj) return;\n            if (!_stage) return;\n\n            if (_obj.draging && _obj.draging > 0) return;\n\n            _pointerID = e.pointerID;\n\n            //记录拖动状态\n            _obj.draging = 1;\n\n            _obj.dragGlobalStart = new createjs.Point(_stage.mouseX, _stage.mouseY);\n            _obj.dragPointerStart = _obj.parent.globalToLocal(_stage.mouseX, _stage.mouseY);\n            _obj.dragObjStart = new createjs.Point(_obj.x, _obj.y);\n\n            _stage.addEventListener('stagemousemove', onDragMove);\n            _stage.addEventListener('stagemouseup', onDragEnd);\n        }\n\n        function onDragMove(e) {\n\n            var _obj = _element;\n            var _stage = _obj.stage;\n\n            if (_look) return;\n            if (!_drag) return;\n            if (!_obj) return;\n            if (!_stage) return;\n            if (!_obj.draging) return;\n            if (_pointerID !== e.pointerID) return;\n\n            if (_obj.draging === 1) {\n                var _spt = _obj.dragGlobalStart;\n                //开始拖动  判断 x  y偏移和超过3 说明开始拖动\n                if (Math.abs(_spt.x - _stage.mouseX) + Math.abs(_spt.y - _stage.mouseY) >= 3) _obj.draging = 2;\n                // _obj.ds('dragStart');\n            }\n\n            //已经开始拖动\n            if (_obj.draging === 2) {\n\n                //鼠标指针转换成相对父亲内坐标\n                var _dragPointerEnd = _obj.parent.globalToLocal(_stage.mouseX, _stage.mouseY);\n                // 开始拖动\n                var _x = _obj.dragObjStart.x + (_dragPointerEnd.x - _obj.dragPointerStart.x);\n                var _y = _obj.dragObjStart.y + (_dragPointerEnd.y - _obj.dragPointerStart.y);\n\n                if (_dragRect) {\n\n                    _x = Math.max(_dragRect.x, _x);\n                    _x = Math.min(_dragRect.x + _dragRect.width, _x);\n                    _y = Math.max(_dragRect.y, _y);\n                    _y = Math.min(_dragRect.y + _dragRect.height, _y);\n                    // console.log(_x,_y);\n                    _obj.x = _x;\n                    _obj.y = _y;\n                } else {\n\n                    _obj.x = _x;\n                    _obj.y = _y;\n                }\n                // _obj.ds('draging', e);\n            }\n        }\n\n        function onDragEnd(e) {\n\n            var _obj = _element;\n            var _stage = _obj.stage;\n            if (_look) return;\n            if (_pointerID !== e.pointerID) return;\n\n            _obj.draging = 0;\n\n            _obj.removeEventListener('stagemousemove', onDragMove);\n            _obj.removeEventListener('stagemouseup', onDragEnd);\n        }\n\n        //创建选择图片选择器\n        function createSelectImager() {\n\n            _selecter = new ImgSlter({\n                capture: opts.capture !== undefined ? opts.capture : null,\n                size: _size\n            });\n\n            _selecter.handler = upImageData;\n\n            _selectTime = new Date().getTime() - _selectDelay;\n\n            /**\n             * 创建新的图片选择对象\n             * @event ds.createjs.SelectUpImager#create\n             * @type {object}\n             * @property {string} [type='create'] - 事件类型\n             * @property {ImgSlter} selecter - 图片选择器\n             * @property {selecter.el} el - 图片选择器的input对象\n             * @property {string} id - 图片选择器的input对象的id值\n             */\n            _self.ds({\n                type: 'create',\n                //选择器\n                selecter: _selecter,\n                //选择器dom元素\n                el: _selecter.el,\n                //选择器id\n                id: _selecter.el.id\n            });\n        }\n\n        //图片选择成功\n        function upImageData(data) {\n\n            var _img = new Image();\n            var _base64 = data.img;\n            _img.onload = complete;\n            _img.src = _base64;\n\n            function complete() {\n\n                //处理上传上来素材----\n                var _s = 1;\n                var _w = _width,\n                    _h = _height;\n                var _sw = _w / _img.width,\n                    _sh = _h / _img.height;\n                if (_layout === 'inSide') _s = Math.min(_sw, _sh);else _s = Math.max(_sw, _sh);\n\n                var _bitmap = new createjs.Bitmap(_img);\n                var _tempElement = new createjs.Container();\n                _tempElement.addChild(_bitmap);\n                _tempElement.bitmap = _bitmap;\n                _bitmap.scaleX = _bitmap.scaleY = _s;\n\n                _tempElement.width = _bitmap.width = _img.width * _s;\n                _tempElement.height = _bitmap.height = _img.height * _s;\n\n                _bitmap.x = -_bitmap.width / 2;\n                _bitmap.y = -_bitmap.height / 2;\n\n                _tempElement.x = _width / 2;\n                _tempElement.y = _height / 2;\n\n                _container.uncache();\n\n                if (_clear) {\n                    _container.removeAllChildren();\n                    if (_element) removeEvent(_element);\n                }\n\n                if (_container) _container.addChild(_tempElement);\n\n                _element = _tempElement;\n                addEvent(_element);\n\n                _scale = 1;\n                _objRotation = 0;\n\n                /**\n                 * 图片选择更新\n                 * @event ds.createjs.SelectUpImager#update\n                 * @type {object}\n                 * @property {string} [type='update'] - 事件类型\n                 * @property {ImageElement} img - 图片\n                 * @property {number} width - 图片宽\n                 * @property {number} height - 图片高\n                 * @property {string} base64 - 图片base64数据\n                 * @property {createjs.Container} element - 编辑对象\n                 * @property {createjs.Bitmap} bitmap - Bitmap对象\n                 */\n                _self.ds({\n                    type: 'update',\n                    //上传后生成的images标签\n                    img: _img,\n                    //images宽\n                    width: _img.width,\n                    //images高\n                    height: _img.height,\n                    //上传生成的base64数据\n                    base64: _base64,\n                    //创建出来编辑对象\n                    element: _element,\n                    ///创建出来Bitmap对象\n                    bitmap: _bitmap\n                });\n            }\n\n            if (_selecter) _selecter.destroy();\n            createSelectImager();\n        }\n\n        function addEvent(displayObject) {\n\n            displayObject.mouseChildren = false;\n            displayObject.draging = 0;\n            displayObject.addEventListener('mousedown', onDragStart);\n        }\n\n        function removeEvent(displayObject) {\n\n            displayObject.removeEventListener('mousedown', onDragStart);\n        }\n\n        /**\n         * 选择上传的图片\n         * @method ds.createjs.SelectUpImager.prototype.select\n         * @function\n         */\n        this.select = function () {\n\n            if (new Date().getTime() - _selectTime < _selectDelay) return;\n\n            if (_selecter) _selecter.select();\n        };\n\n        /**\n         * 清空容器\n         * @method ds.createjs.SelectUpImager.prototype.clear\n         * @function\n         */\n        this.clear = function () {\n\n            var _temp;\n            if (_element) {\n                _temp = _element;\n                removeEvent(_element);\n            }\n\n            if (_container && _container.contains(_element)) _container.removeChild(_element);\n            _element = undefined;\n\n            /**\n             * 图片选择更新\n             * @event ds.createjs.SelectUpImager#clear\n             * @type {object}\n             * @property {string} [type='clear'] - 事件类型\n             * @property {createjs.Container} element - 编辑对象\n             */\n            _self.ds({\n                type: 'clear',\n                element: _temp\n            });\n        };\n\n        /**\n         * 缓存出一个Base64数据\n         * @method ds.createjs.SelectUpImager.prototype.cacheBase64\n         * @function\n         * @param {object} opts 截图配置参数 详见：{@link ds.createjs.getBase64 }\n         * @return {string} Base64数据\n         */\n        this.cacheBase64 = function (opts) {\n\n            opts = opts || {};\n            var _base64;\n\n            opts.width = _width;\n            opts.height = _height;\n\n            _base64 = ds.createjs.getBase64(_container, opts);\n\n            return _base64;\n        };\n\n        /**\n         * 缓存出一个Bitmap对象\n         * @method ds.createjs.SelectUpImager.prototype.cacheBitmap\n         * @function\n         * @param {object} opts 截图配置参数 详见：{@link ds.createjs.getBase64 }\n         * @return {createjs.Bitmap}\n         */\n        this.cacheBitmap = function (opts) {\n\n            opts = opts || {};\n            var _base64;\n\n            _base64 = _self.cacheBase64(opts);\n            var _img = new Image();\n            var _bitmap = new createjs.Bitmap(_img);\n            _bitmap.image.src = _base64;\n\n            return _bitmap;\n        };\n\n        /*\n         * 获取是否dom  可以是一个dom对象 或者 zepto与jquery对象\n         * @param dom\n         * @return {HTMLElement}\n         */\n        function getHTMLElement(dom) {\n            if (dom instanceof HTMLElement) return dom;else if (!(dom instanceof HTMLElement) && dom[0] instanceof HTMLElement) return dom[0];else return null;\n        }\n\n        //初始化创建图片选择器\n        createSelectImager();\n    }\n\n    SelectUpImager.LAYOUT_OUTSIDE = 'outSide';\n    SelectUpImager.LAYOUT_INSIDE = 'inSide';\n\n    return ds.createjs.SelectUpImager;\n});\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(15), __webpack_require__(8)))\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/ds/createjs/SelectUpImager.js\n// module id = 150\n// module chunks = 0\n\n//# sourceURL=webpack:///./src/ds/createjs/SelectUpImager.js?")},function(module,exports,__webpack_require__){eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!\n * VERSION: 0.1.0\n * DATE: 2015-09-24\n * GIT: https://github.com/shrekshrek/image-selecter\n * @author: Shrek.wang\n **/\n\n(function (factory) {\n\n    if (true) {\n        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(152), exports], __WEBPACK_AMD_DEFINE_RESULT__ = function (EXIF, exports) {\n            window.ImgSlter = factory(exports, EXIF);\n        }.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n    } else if (typeof exports !== 'undefined') {\n        var EXIF = require('./exif');\n        factory(exports, EXIF);\n    } else {\n        window.ImgSlter = factory({}, window.EXIF);\n    }\n\n}(function (ImgSlter, EXIF) {\n\n    function uaParser() {\n        var u = navigator.userAgent;\n        return {\n            ios: !!u.match(/\\(i[^;]+;( U;)? CPU.+Mac OS X/),\n            iosv: u.substr(u.indexOf('iPhone OS') + 9, 3)\n        };\n    }\n\n    ImgSlter = function () {\n        this.initialize.apply(this, arguments);\n    };\n\n    ImgSlter.prototype = {\n        initialize: function (config) {\n            var _config = config || {};\n            this.el = _config.el || function () {\n\n                var input = document.createElement(\"INPUT\");\n\n                input.id = 'SelectImage_' + new Date().getTime();\n                input.type = 'file';\n                // input.accept = 'image/png,image/jpeg,image/gif';\n                input.accept = 'image/*';\n                //是否多选择\n                var _multiple = config.multiple !== undefined ? true : false;\n                input.multiple = _multiple;\n                // var _capture=config.capture!==undefined?config.capture:null;\n                if (config.capture) input.capture = config.capture;\n\n                return input;\n\n            }();\n\n            this.size = _config.size || 500;\n            this.type = _config.type || 'jpeg';\n            this.quality = _config.quality || 0.7;\n            this.handler = _config.handler || function () {\n            };\n\n            this.color = _config.color;\n\n            this.ua = uaParser();\n            this.cvs = document.createElement('canvas');\n            this.ctx = this.cvs.getContext('2d');\n\n            this._changeHandler = this._changeHandler.bind(this);\n            this.el.addEventListener('change', this._changeHandler, false);\n\n        },\n        _changeHandler: function (evt) {\n\n            var _self = this;\n\n            var _file = evt.target.files[0];\n\n            if (_file == undefined) {\n                console.log('没有选择');\n                return;\n            }\n\n            var imgW, imgW2, tmpImgW;\n            var imgH, imgH2, tmpImgH;\n\n            window.URL = window.URL || window.webkitURL;\n            var src = window.URL.createObjectURL(_file);\n\n            var img = new Image();\n            img.src = src;\n            img.onload = function () {\n                EXIF.getData(img, function () {\n                    var Orientation = EXIF.getTag(this, 'Orientation') || 0;\n\n                    imgW = img.width;\n                    imgH = img.height;\n\n                    if (imgW >= imgH) {\n                        imgW2 = _self.size;\n                        imgH2 = imgW2 * imgH / imgW;\n                        tmpImgW = imgW;\n                        tmpImgH = imgH;\n                    } else {\n                        imgH2 = _self.size;\n                        imgW2 = imgH2 * imgW / imgH;\n                        tmpImgW = imgH;\n                        tmpImgH = imgW;\n                    }\n\n                    var _w, _h, _r;\n                    switch (Orientation) {\n                        case 3:\n                            _w = imgW2;\n                            _h = imgH2;\n                            _r = 180;\n                            break;\n                        case 6:\n                            _w = imgH2;\n                            _h = imgW2;\n                            _r = 90;\n                            break;\n                        case 8:\n                            _w = imgH2;\n                            _h = imgW2;\n                            _r = 270;\n                            break;\n                        default:\n                            _w = imgW2;\n                            _h = imgH2;\n                            _r = 0;\n                            break;\n                    }\n\n                    _self.cvs.width = _w;\n                    _self.cvs.height = _h;\n                    _self.ctx.clearRect(0, 0, _w, _h);\n\n                    if (_self.color) {\n                        _self.ctx.fillStyle = _self.color;\n                        _self.ctx.fillRect(0, 0, _w, _h);\n                    }\n\n                    _self.ctx.translate(_w / 2, _h / 2);\n                    _self.ctx.rotate(_r * Math.PI / 180);\n\n                    if (3260 < tmpImgW || tmpImgH > 2440) {\n                        if (_self.ua.ios) {\n                            if (parseInt(_self.ua.iosv) >= 8) {\n                                _self.ctx.drawImage(img, 0, 0, imgW, imgH, -imgW2 / 2, -imgH2 / 2, imgW2, imgH2);\n                            } else {\n                                _self.ctx.drawImage(img, 0, 0, imgW / 2, imgH / 2, -imgW2 / 2, -imgH2 / 2, imgW2, imgH2);\n                            }\n                        } else {\n                            _self.ctx.drawImage(img, 0, 0, imgW, imgH, -imgW2 / 2, -imgH2 / 2, imgW2, imgH2);\n                        }\n                    } else {\n                        _self.ctx.drawImage(img, -imgW2 / 2, -imgH2 / 2, imgW2, imgH2);\n                    }\n\n                    _self.handler.call(this, {\n                        img: _self.cvs.toDataURL('image/' + _self.type, _self.quality),\n                        width: _self.cvs.width,\n                        height: _self.cvs.height\n                    });\n\n                    window.URL.revokeObjectURL(_file);\n                });\n            };\n        },\n        select: function () {\n\n            if (this.el) this.el.click();\n\n        },\n        destroy: function () {\n\n            this.el.removeEventListener('change', this._changeHandler, false);\n            delete this.ua;\n            delete this.ctx;\n            delete this.cvs;\n            delete this.el;\n\n        }\n    };\n\n    return ImgSlter;\n}));\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/libs/shrek/imgslterV.js\n// module id = 151\n// module chunks = 0\n\n//# sourceURL=webpack:///./src/libs/shrek/imgslterV.js?")},function(module,exports,__webpack_require__){eval('var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function() {\n\n    var debug = false;\n\n    var root = this;\n\n    var EXIF = function(obj) {\n        if (obj instanceof EXIF) return obj;\n        if (!(this instanceof EXIF)) return new EXIF(obj);\n        this.EXIFwrapped = obj;\n    };\n\n    if (true) {\n        if (typeof module !== \'undefined\' && module.exports) {\n            exports = module.exports = EXIF;\n        }\n        exports.EXIF = EXIF;\n    } else {\n        root.EXIF = EXIF;\n    }\n\n    var ExifTags = EXIF.Tags = {\n\n        // version tags\n        0x9000 : "ExifVersion",             // EXIF version\n        0xA000 : "FlashpixVersion",         // Flashpix format version\n\n        // colorspace tags\n        0xA001 : "ColorSpace",              // Color space information tag\n\n        // image configuration\n        0xA002 : "PixelXDimension",         // Valid width of meaningful image\n        0xA003 : "PixelYDimension",         // Valid height of meaningful image\n        0x9101 : "ComponentsConfiguration", // Information about channels\n        0x9102 : "CompressedBitsPerPixel",  // Compressed bits per pixel\n\n        // user information\n        0x927C : "MakerNote",               // Any desired information written by the manufacturer\n        0x9286 : "UserComment",             // Comments by user\n\n        // related file\n        0xA004 : "RelatedSoundFile",        // Name of related sound file\n\n        // date and time\n        0x9003 : "DateTimeOriginal",        // Date and time when the original image was generated\n        0x9004 : "DateTimeDigitized",       // Date and time when the image was stored digitally\n        0x9290 : "SubsecTime",              // Fractions of seconds for DateTime\n        0x9291 : "SubsecTimeOriginal",      // Fractions of seconds for DateTimeOriginal\n        0x9292 : "SubsecTimeDigitized",     // Fractions of seconds for DateTimeDigitized\n\n        // picture-taking conditions\n        0x829A : "ExposureTime",            // Exposure time (in seconds)\n        0x829D : "FNumber",                 // F number\n        0x8822 : "ExposureProgram",         // Exposure program\n        0x8824 : "SpectralSensitivity",     // Spectral sensitivity\n        0x8827 : "ISOSpeedRatings",         // ISO speed rating\n        0x8828 : "OECF",                    // Optoelectric conversion factor\n        0x9201 : "ShutterSpeedValue",       // Shutter speed\n        0x9202 : "ApertureValue",           // Lens aperture\n        0x9203 : "BrightnessValue",         // Value of brightness\n        0x9204 : "ExposureBias",            // Exposure bias\n        0x9205 : "MaxApertureValue",        // Smallest F number of lens\n        0x9206 : "SubjectDistance",         // Distance to subject in meters\n        0x9207 : "MeteringMode",            // Metering mode\n        0x9208 : "LightSource",             // Kind of light source\n        0x9209 : "Flash",                   // Flash status\n        0x9214 : "SubjectArea",             // Location and area of main subject\n        0x920A : "FocalLength",             // Focal length of the lens in mm\n        0xA20B : "FlashEnergy",             // Strobe energy in BCPS\n        0xA20C : "SpatialFrequencyResponse",    //\n        0xA20E : "FocalPlaneXResolution",   // Number of pixels in width direction per FocalPlaneResolutionUnit\n        0xA20F : "FocalPlaneYResolution",   // Number of pixels in height direction per FocalPlaneResolutionUnit\n        0xA210 : "FocalPlaneResolutionUnit",    // Unit for measuring FocalPlaneXResolution and FocalPlaneYResolution\n        0xA214 : "SubjectLocation",         // Location of subject in image\n        0xA215 : "ExposureIndex",           // Exposure index selected on camera\n        0xA217 : "SensingMethod",           // Image sensor type\n        0xA300 : "FileSource",              // Image source (3 == DSC)\n        0xA301 : "SceneType",               // Scene type (1 == directly photographed)\n        0xA302 : "CFAPattern",              // Color filter array geometric pattern\n        0xA401 : "CustomRendered",          // Special processing\n        0xA402 : "ExposureMode",            // Exposure mode\n        0xA403 : "WhiteBalance",            // 1 = auto white balance, 2 = manual\n        0xA404 : "DigitalZoomRation",       // Digital zoom ratio\n        0xA405 : "FocalLengthIn35mmFilm",   // Equivalent foacl length assuming 35mm film camera (in mm)\n        0xA406 : "SceneCaptureType",        // Type of scene\n        0xA407 : "GainControl",             // Degree of overall image gain adjustment\n        0xA408 : "Contrast",                // Direction of contrast processing applied by camera\n        0xA409 : "Saturation",              // Direction of saturation processing applied by camera\n        0xA40A : "Sharpness",               // Direction of sharpness processing applied by camera\n        0xA40B : "DeviceSettingDescription",    //\n        0xA40C : "SubjectDistanceRange",    // Distance to subject\n\n        // other tags\n        0xA005 : "InteroperabilityIFDPointer",\n        0xA420 : "ImageUniqueID"            // Identifier assigned uniquely to each image\n    };\n\n    var TiffTags = EXIF.TiffTags = {\n        0x0100 : "ImageWidth",\n        0x0101 : "ImageHeight",\n        0x8769 : "ExifIFDPointer",\n        0x8825 : "GPSInfoIFDPointer",\n        0xA005 : "InteroperabilityIFDPointer",\n        0x0102 : "BitsPerSample",\n        0x0103 : "Compression",\n        0x0106 : "PhotometricInterpretation",\n        0x0112 : "Orientation",\n        0x0115 : "SamplesPerPixel",\n        0x011C : "PlanarConfiguration",\n        0x0212 : "YCbCrSubSampling",\n        0x0213 : "YCbCrPositioning",\n        0x011A : "XResolution",\n        0x011B : "YResolution",\n        0x0128 : "ResolutionUnit",\n        0x0111 : "StripOffsets",\n        0x0116 : "RowsPerStrip",\n        0x0117 : "StripByteCounts",\n        0x0201 : "JPEGInterchangeFormat",\n        0x0202 : "JPEGInterchangeFormatLength",\n        0x012D : "TransferFunction",\n        0x013E : "WhitePoint",\n        0x013F : "PrimaryChromaticities",\n        0x0211 : "YCbCrCoefficients",\n        0x0214 : "ReferenceBlackWhite",\n        0x0132 : "DateTime",\n        0x010E : "ImageDescription",\n        0x010F : "Make",\n        0x0110 : "Model",\n        0x0131 : "Software",\n        0x013B : "Artist",\n        0x8298 : "Copyright"\n    };\n\n    var GPSTags = EXIF.GPSTags = {\n        0x0000 : "GPSVersionID",\n        0x0001 : "GPSLatitudeRef",\n        0x0002 : "GPSLatitude",\n        0x0003 : "GPSLongitudeRef",\n        0x0004 : "GPSLongitude",\n        0x0005 : "GPSAltitudeRef",\n        0x0006 : "GPSAltitude",\n        0x0007 : "GPSTimeStamp",\n        0x0008 : "GPSSatellites",\n        0x0009 : "GPSStatus",\n        0x000A : "GPSMeasureMode",\n        0x000B : "GPSDOP",\n        0x000C : "GPSSpeedRef",\n        0x000D : "GPSSpeed",\n        0x000E : "GPSTrackRef",\n        0x000F : "GPSTrack",\n        0x0010 : "GPSImgDirectionRef",\n        0x0011 : "GPSImgDirection",\n        0x0012 : "GPSMapDatum",\n        0x0013 : "GPSDestLatitudeRef",\n        0x0014 : "GPSDestLatitude",\n        0x0015 : "GPSDestLongitudeRef",\n        0x0016 : "GPSDestLongitude",\n        0x0017 : "GPSDestBearingRef",\n        0x0018 : "GPSDestBearing",\n        0x0019 : "GPSDestDistanceRef",\n        0x001A : "GPSDestDistance",\n        0x001B : "GPSProcessingMethod",\n        0x001C : "GPSAreaInformation",\n        0x001D : "GPSDateStamp",\n        0x001E : "GPSDifferential"\n    };\n\n    var StringValues = EXIF.StringValues = {\n        ExposureProgram : {\n            0 : "Not defined",\n            1 : "Manual",\n            2 : "Normal program",\n            3 : "Aperture priority",\n            4 : "Shutter priority",\n            5 : "Creative program",\n            6 : "Action program",\n            7 : "Portrait mode",\n            8 : "Landscape mode"\n        },\n        MeteringMode : {\n            0 : "Unknown",\n            1 : "Average",\n            2 : "CenterWeightedAverage",\n            3 : "Spot",\n            4 : "MultiSpot",\n            5 : "Pattern",\n            6 : "Partial",\n            255 : "Other"\n        },\n        LightSource : {\n            0 : "Unknown",\n            1 : "Daylight",\n            2 : "Fluorescent",\n            3 : "Tungsten (incandescent light)",\n            4 : "Flash",\n            9 : "Fine weather",\n            10 : "Cloudy weather",\n            11 : "Shade",\n            12 : "Daylight fluorescent (D 5700 - 7100K)",\n            13 : "Day white fluorescent (N 4600 - 5400K)",\n            14 : "Cool white fluorescent (W 3900 - 4500K)",\n            15 : "White fluorescent (WW 3200 - 3700K)",\n            17 : "Standard light A",\n            18 : "Standard light B",\n            19 : "Standard light C",\n            20 : "D55",\n            21 : "D65",\n            22 : "D75",\n            23 : "D50",\n            24 : "ISO studio tungsten",\n            255 : "Other"\n        },\n        Flash : {\n            0x0000 : "Flash did not fire",\n            0x0001 : "Flash fired",\n            0x0005 : "Strobe return light not detected",\n            0x0007 : "Strobe return light detected",\n            0x0009 : "Flash fired, compulsory flash mode",\n            0x000D : "Flash fired, compulsory flash mode, return light not detected",\n            0x000F : "Flash fired, compulsory flash mode, return light detected",\n            0x0010 : "Flash did not fire, compulsory flash mode",\n            0x0018 : "Flash did not fire, auto mode",\n            0x0019 : "Flash fired, auto mode",\n            0x001D : "Flash fired, auto mode, return light not detected",\n            0x001F : "Flash fired, auto mode, return light detected",\n            0x0020 : "No flash function",\n            0x0041 : "Flash fired, red-eye reduction mode",\n            0x0045 : "Flash fired, red-eye reduction mode, return light not detected",\n            0x0047 : "Flash fired, red-eye reduction mode, return light detected",\n            0x0049 : "Flash fired, compulsory flash mode, red-eye reduction mode",\n            0x004D : "Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",\n            0x004F : "Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",\n            0x0059 : "Flash fired, auto mode, red-eye reduction mode",\n            0x005D : "Flash fired, auto mode, return light not detected, red-eye reduction mode",\n            0x005F : "Flash fired, auto mode, return light detected, red-eye reduction mode"\n        },\n        SensingMethod : {\n            1 : "Not defined",\n            2 : "One-chip color area sensor",\n            3 : "Two-chip color area sensor",\n            4 : "Three-chip color area sensor",\n            5 : "Color sequential area sensor",\n            7 : "Trilinear sensor",\n            8 : "Color sequential linear sensor"\n        },\n        SceneCaptureType : {\n            0 : "Standard",\n            1 : "Landscape",\n            2 : "Portrait",\n            3 : "Night scene"\n        },\n        SceneType : {\n            1 : "Directly photographed"\n        },\n        CustomRendered : {\n            0 : "Normal process",\n            1 : "Custom process"\n        },\n        WhiteBalance : {\n            0 : "Auto white balance",\n            1 : "Manual white balance"\n        },\n        GainControl : {\n            0 : "None",\n            1 : "Low gain up",\n            2 : "High gain up",\n            3 : "Low gain down",\n            4 : "High gain down"\n        },\n        Contrast : {\n            0 : "Normal",\n            1 : "Soft",\n            2 : "Hard"\n        },\n        Saturation : {\n            0 : "Normal",\n            1 : "Low saturation",\n            2 : "High saturation"\n        },\n        Sharpness : {\n            0 : "Normal",\n            1 : "Soft",\n            2 : "Hard"\n        },\n        SubjectDistanceRange : {\n            0 : "Unknown",\n            1 : "Macro",\n            2 : "Close view",\n            3 : "Distant view"\n        },\n        FileSource : {\n            3 : "DSC"\n        },\n\n        Components : {\n            0 : "",\n            1 : "Y",\n            2 : "Cb",\n            3 : "Cr",\n            4 : "R",\n            5 : "G",\n            6 : "B"\n        }\n    };\n\n    function addEvent(element, event, handler) {\n        if (element.addEventListener) {\n            element.addEventListener(event, handler, false);\n        } else if (element.attachEvent) {\n            element.attachEvent("on" + event, handler);\n        }\n    }\n\n    function imageHasData(img) {\n        return !!(img.exifdata);\n    }\n\n\n    function base64ToArrayBuffer(base64, contentType) {\n        contentType = contentType || base64.match(/^data\\:([^\\;]+)\\;base64,/mi)[1] || \'\'; // e.g. \'data:image/jpeg;base64,...\' => \'image/jpeg\'\n        base64 = base64.replace(/^data\\:([^\\;]+)\\;base64,/gmi, \'\');\n        var binary = atob(base64);\n        var len = binary.length;\n        var buffer = new ArrayBuffer(len);\n        var view = new Uint8Array(buffer);\n        for (var i = 0; i < len; i++) {\n            view[i] = binary.charCodeAt(i);\n        }\n        return buffer;\n    }\n\n    function objectURLToBlob(url, callback) {\n        var http = new XMLHttpRequest();\n        http.open("GET", url, true);\n        http.responseType = "blob";\n        http.onload = function(e) {\n            if (this.status == 200 || this.status === 0) {\n                callback(this.response);\n            }\n        };\n        http.send();\n    }\n\n    function getImageData(img, callback) {\n        function handleBinaryFile(binFile) {\n            var data = findEXIFinJPEG(binFile);\n            var iptcdata = findIPTCinJPEG(binFile);\n            img.exifdata = data || {};\n            img.iptcdata = iptcdata || {};\n            if (callback) {\n                callback.call(img);\n            }\n        }\n\n        if (img.src) {\n            if (/^data\\:/i.test(img.src)) { // Data URI\n                var arrayBuffer = base64ToArrayBuffer(img.src);\n                handleBinaryFile(arrayBuffer);\n\n            } else if (/^blob\\:/i.test(img.src)) { // Object URL\n                var fileReader = new FileReader();\n                fileReader.onload = function(e) {\n                    handleBinaryFile(e.target.result);\n                };\n                objectURLToBlob(img.src, function (blob) {\n                    fileReader.readAsArrayBuffer(blob);\n                });\n            } else {\n                var http = new XMLHttpRequest();\n                http.onload = function() {\n                    if (this.status == 200 || this.status === 0) {\n                        handleBinaryFile(http.response);\n                    } else {\n                        throw "Could not load image";\n                    }\n                    http = null;\n                };\n                http.open("GET", img.src, true);\n                http.responseType = "arraybuffer";\n                http.send(null);\n            }\n        } else if (window.FileReader && (img instanceof window.Blob || img instanceof window.File)) {\n            var fileReader = new FileReader();\n            fileReader.onload = function(e) {\n                if (debug) console.log("Got file of length " + e.target.result.byteLength);\n                handleBinaryFile(e.target.result);\n            };\n\n            fileReader.readAsArrayBuffer(img);\n        }\n    }\n\n    function findEXIFinJPEG(file) {\n        var dataView = new DataView(file);\n\n        if (debug) console.log("Got file of length " + file.byteLength);\n        if ((dataView.getUint8(0) != 0xFF) || (dataView.getUint8(1) != 0xD8)) {\n            if (debug) console.log("Not a valid JPEG");\n            return false; // not a valid jpeg\n        }\n\n        var offset = 2,\n            length = file.byteLength,\n            marker;\n\n        while (offset < length) {\n            if (dataView.getUint8(offset) != 0xFF) {\n                if (debug) console.log("Not a valid marker at offset " + offset + ", found: " + dataView.getUint8(offset));\n                return false; // not a valid marker, something is wrong\n            }\n\n            marker = dataView.getUint8(offset + 1);\n            if (debug) console.log(marker);\n\n            // we could implement handling for other markers here,\n            // but we\'re only looking for 0xFFE1 for EXIF data\n\n            if (marker == 225) {\n                if (debug) console.log("Found 0xFFE1 marker");\n\n                return readEXIFData(dataView, offset + 4, dataView.getUint16(offset + 2) - 2);\n\n                // offset += 2 + file.getShortAt(offset+2, true);\n\n            } else {\n                offset += 2 + dataView.getUint16(offset+2);\n            }\n\n        }\n\n    }\n\n    function findIPTCinJPEG(file) {\n        var dataView = new DataView(file);\n\n        if (debug) console.log("Got file of length " + file.byteLength);\n        if ((dataView.getUint8(0) != 0xFF) || (dataView.getUint8(1) != 0xD8)) {\n            if (debug) console.log("Not a valid JPEG");\n            return false; // not a valid jpeg\n        }\n\n        var offset = 2,\n            length = file.byteLength;\n\n\n        var isFieldSegmentStart = function(dataView, offset){\n            return (\n                dataView.getUint8(offset) === 0x38 &&\n                dataView.getUint8(offset+1) === 0x42 &&\n                dataView.getUint8(offset+2) === 0x49 &&\n                dataView.getUint8(offset+3) === 0x4D &&\n                dataView.getUint8(offset+4) === 0x04 &&\n                dataView.getUint8(offset+5) === 0x04\n            );\n        };\n\n        while (offset < length) {\n\n            if ( isFieldSegmentStart(dataView, offset )){\n\n                // Get the length of the name header (which is padded to an even number of bytes)\n                var nameHeaderLength = dataView.getUint8(offset+7);\n                if(nameHeaderLength % 2 !== 0) nameHeaderLength += 1;\n                // Check for pre photoshop 6 format\n                if(nameHeaderLength === 0) {\n                    // Always 4\n                    nameHeaderLength = 4;\n                }\n\n                var startOffset = offset + 8 + nameHeaderLength;\n                var sectionLength = dataView.getUint16(offset + 6 + nameHeaderLength);\n\n                return readIPTCData(file, startOffset, sectionLength);\n\n                break;\n\n            }\n\n\n            // Not the marker, continue searching\n            offset++;\n\n        }\n\n    }\n    var IptcFieldMap = {\n        0x78 : \'caption\',\n        0x6E : \'credit\',\n        0x19 : \'keywords\',\n        0x37 : \'dateCreated\',\n        0x50 : \'byline\',\n        0x55 : \'bylineTitle\',\n        0x7A : \'captionWriter\',\n        0x69 : \'headline\',\n        0x74 : \'copyright\',\n        0x0F : \'category\'\n    };\n    function readIPTCData(file, startOffset, sectionLength){\n        var dataView = new DataView(file);\n        var data = {};\n        var fieldValue, fieldName, dataSize, segmentType, segmentSize;\n        var segmentStartPos = startOffset;\n        while(segmentStartPos < startOffset+sectionLength) {\n            if(dataView.getUint8(segmentStartPos) === 0x1C && dataView.getUint8(segmentStartPos+1) === 0x02){\n                segmentType = dataView.getUint8(segmentStartPos+2);\n                if(segmentType in IptcFieldMap) {\n                    dataSize = dataView.getInt16(segmentStartPos+3);\n                    segmentSize = dataSize + 5;\n                    fieldName = IptcFieldMap[segmentType];\n                    fieldValue = getStringFromDB(dataView, segmentStartPos+5, dataSize);\n                    // Check if we already stored a value with this name\n                    if(data.hasOwnProperty(fieldName)) {\n                        // Value already stored with this name, create multivalue field\n                        if(data[fieldName] instanceof Array) {\n                            data[fieldName].push(fieldValue);\n                        }\n                        else {\n                            data[fieldName] = [data[fieldName], fieldValue];\n                        }\n                    }\n                    else {\n                        data[fieldName] = fieldValue;\n                    }\n                }\n\n            }\n            segmentStartPos++;\n        }\n        return data;\n    }\n\n\n\n    function readTags(file, tiffStart, dirStart, strings, bigEnd) {\n        var entries = file.getUint16(dirStart, !bigEnd),\n            tags = {},\n            entryOffset, tag,\n            i;\n\n        for (i=0;i<entries;i++) {\n            entryOffset = dirStart + i*12 + 2;\n            tag = strings[file.getUint16(entryOffset, !bigEnd)];\n            if (!tag && debug) console.log("Unknown tag: " + file.getUint16(entryOffset, !bigEnd));\n            tags[tag] = readTagValue(file, entryOffset, tiffStart, dirStart, bigEnd);\n        }\n        return tags;\n    }\n\n\n    function readTagValue(file, entryOffset, tiffStart, dirStart, bigEnd) {\n        var type = file.getUint16(entryOffset+2, !bigEnd),\n            numValues = file.getUint32(entryOffset+4, !bigEnd),\n            valueOffset = file.getUint32(entryOffset+8, !bigEnd) + tiffStart,\n            offset,\n            vals, val, n,\n            numerator, denominator;\n\n        switch (type) {\n            case 1: // byte, 8-bit unsigned int\n            case 7: // undefined, 8-bit byte, value depending on field\n                if (numValues == 1) {\n                    return file.getUint8(entryOffset + 8, !bigEnd);\n                } else {\n                    offset = numValues > 4 ? valueOffset : (entryOffset + 8);\n                    vals = [];\n                    for (n=0;n<numValues;n++) {\n                        vals[n] = file.getUint8(offset + n);\n                    }\n                    return vals;\n                }\n\n            case 2: // ascii, 8-bit byte\n                offset = numValues > 4 ? valueOffset : (entryOffset + 8);\n                return getStringFromDB(file, offset, numValues-1);\n\n            case 3: // short, 16 bit int\n                if (numValues == 1) {\n                    return file.getUint16(entryOffset + 8, !bigEnd);\n                } else {\n                    offset = numValues > 2 ? valueOffset : (entryOffset + 8);\n                    vals = [];\n                    for (n=0;n<numValues;n++) {\n                        vals[n] = file.getUint16(offset + 2*n, !bigEnd);\n                    }\n                    return vals;\n                }\n\n            case 4: // long, 32 bit int\n                if (numValues == 1) {\n                    return file.getUint32(entryOffset + 8, !bigEnd);\n                } else {\n                    vals = [];\n                    for (n=0;n<numValues;n++) {\n                        vals[n] = file.getUint32(valueOffset + 4*n, !bigEnd);\n                    }\n                    return vals;\n                }\n\n            case 5:    // rational = two long values, first is numerator, second is denominator\n                if (numValues == 1) {\n                    numerator = file.getUint32(valueOffset, !bigEnd);\n                    denominator = file.getUint32(valueOffset+4, !bigEnd);\n                    val = new Number(numerator / denominator);\n                    val.numerator = numerator;\n                    val.denominator = denominator;\n                    return val;\n                } else {\n                    vals = [];\n                    for (n=0;n<numValues;n++) {\n                        numerator = file.getUint32(valueOffset + 8*n, !bigEnd);\n                        denominator = file.getUint32(valueOffset+4 + 8*n, !bigEnd);\n                        vals[n] = new Number(numerator / denominator);\n                        vals[n].numerator = numerator;\n                        vals[n].denominator = denominator;\n                    }\n                    return vals;\n                }\n\n            case 9: // slong, 32 bit signed int\n                if (numValues == 1) {\n                    return file.getInt32(entryOffset + 8, !bigEnd);\n                } else {\n                    vals = [];\n                    for (n=0;n<numValues;n++) {\n                        vals[n] = file.getInt32(valueOffset + 4*n, !bigEnd);\n                    }\n                    return vals;\n                }\n\n            case 10: // signed rational, two slongs, first is numerator, second is denominator\n                if (numValues == 1) {\n                    return file.getInt32(valueOffset, !bigEnd) / file.getInt32(valueOffset+4, !bigEnd);\n                } else {\n                    vals = [];\n                    for (n=0;n<numValues;n++) {\n                        vals[n] = file.getInt32(valueOffset + 8*n, !bigEnd) / file.getInt32(valueOffset+4 + 8*n, !bigEnd);\n                    }\n                    return vals;\n                }\n        }\n    }\n\n    function getStringFromDB(buffer, start, length) {\n        var outstr = "";\n        for (n = start; n < start+length; n++) {\n            outstr += String.fromCharCode(buffer.getUint8(n));\n        }\n        return outstr;\n    }\n\n    function readEXIFData(file, start) {\n        if (getStringFromDB(file, start, 4) != "Exif") {\n            if (debug) console.log("Not valid EXIF data! " + getStringFromDB(file, start, 4));\n            return false;\n        }\n\n        var bigEnd,\n            tags, tag,\n            exifData, gpsData,\n            tiffOffset = start + 6;\n\n        // test for TIFF validity and endianness\n        if (file.getUint16(tiffOffset) == 0x4949) {\n            bigEnd = false;\n        } else if (file.getUint16(tiffOffset) == 0x4D4D) {\n            bigEnd = true;\n        } else {\n            if (debug) console.log("Not valid TIFF data! (no 0x4949 or 0x4D4D)");\n            return false;\n        }\n\n        if (file.getUint16(tiffOffset+2, !bigEnd) != 0x002A) {\n            if (debug) console.log("Not valid TIFF data! (no 0x002A)");\n            return false;\n        }\n\n        var firstIFDOffset = file.getUint32(tiffOffset+4, !bigEnd);\n\n        if (firstIFDOffset < 0x00000008) {\n            if (debug) console.log("Not valid TIFF data! (First offset less than 8)", file.getUint32(tiffOffset+4, !bigEnd));\n            return false;\n        }\n\n        tags = readTags(file, tiffOffset, tiffOffset + firstIFDOffset, TiffTags, bigEnd);\n\n        if (tags.ExifIFDPointer) {\n            exifData = readTags(file, tiffOffset, tiffOffset + tags.ExifIFDPointer, ExifTags, bigEnd);\n            for (tag in exifData) {\n                switch (tag) {\n                    case "LightSource" :\n                    case "Flash" :\n                    case "MeteringMode" :\n                    case "ExposureProgram" :\n                    case "SensingMethod" :\n                    case "SceneCaptureType" :\n                    case "SceneType" :\n                    case "CustomRendered" :\n                    case "WhiteBalance" :\n                    case "GainControl" :\n                    case "Contrast" :\n                    case "Saturation" :\n                    case "Sharpness" :\n                    case "SubjectDistanceRange" :\n                    case "FileSource" :\n                        exifData[tag] = StringValues[tag][exifData[tag]];\n                        break;\n\n                    case "ExifVersion" :\n                    case "FlashpixVersion" :\n                        exifData[tag] = String.fromCharCode(exifData[tag][0], exifData[tag][1], exifData[tag][2], exifData[tag][3]);\n                        break;\n\n                    case "ComponentsConfiguration" :\n                        exifData[tag] =\n                            StringValues.Components[exifData[tag][0]] +\n                            StringValues.Components[exifData[tag][1]] +\n                            StringValues.Components[exifData[tag][2]] +\n                            StringValues.Components[exifData[tag][3]];\n                        break;\n                }\n                tags[tag] = exifData[tag];\n            }\n        }\n\n        if (tags.GPSInfoIFDPointer) {\n            gpsData = readTags(file, tiffOffset, tiffOffset + tags.GPSInfoIFDPointer, GPSTags, bigEnd);\n            for (tag in gpsData) {\n                switch (tag) {\n                    case "GPSVersionID" :\n                        gpsData[tag] = gpsData[tag][0] +\n                            "." + gpsData[tag][1] +\n                            "." + gpsData[tag][2] +\n                            "." + gpsData[tag][3];\n                        break;\n                }\n                tags[tag] = gpsData[tag];\n            }\n        }\n\n        return tags;\n    }\n\n    EXIF.getData = function(img, callback) {\n        if ((img instanceof Image || img instanceof HTMLImageElement) && !img.complete) return false;\n\n        if (!imageHasData(img)) {\n            getImageData(img, callback);\n        } else {\n            if (callback) {\n                callback.call(img);\n            }\n        }\n        return true;\n    };\n\n    EXIF.getTag = function(img, tag) {\n        if (!imageHasData(img)) return;\n        return img.exifdata[tag];\n    };\n\n    EXIF.getAllTags = function(img) {\n        if (!imageHasData(img)) return {};\n        var a,\n            data = img.exifdata,\n            tags = {};\n        for (a in data) {\n            if (data.hasOwnProperty(a)) {\n                tags[a] = data[a];\n            }\n        }\n        return tags;\n    };\n\n    EXIF.pretty = function(img) {\n        if (!imageHasData(img)) return "";\n        var a,\n            data = img.exifdata,\n            strPretty = "";\n        for (a in data) {\n            if (data.hasOwnProperty(a)) {\n                if (typeof data[a] == "object") {\n                    if (data[a] instanceof Number) {\n                        strPretty += a + " : " + data[a] + " [" + data[a].numerator + "/" + data[a].denominator + "]\\r\\n";\n                    } else {\n                        strPretty += a + " : [" + data[a].length + " values]\\r\\n";\n                    }\n                } else {\n                    strPretty += a + " : " + data[a] + "\\r\\n";\n                }\n            }\n        }\n        return strPretty;\n    };\n\n    EXIF.readFromBinaryFile = function(file) {\n        return findEXIFinJPEG(file);\n    };\n\n    if (true) {\n        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = function() {\n            return EXIF;\n        }.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n    }\n}.call(this));\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/libs/shrek/exif.js\n// module id = 152\n// module chunks = 0\n\n//# sourceURL=webpack:///./src/libs/shrek/exif.js?')},function(module,exports,__webpack_require__){"use strict";eval("\n\n/**\n * WebGL2Stage\n * @type {module}\n **/\nfunction WebGL2Stage() {\n\n    var _Self = this;\n\n    this.name = 'WebGL2Stage';\n\n    //事件继承\n    // ds.EventDispatcher.extend(this);\n    //主模块\n    var _AppMain = SiteModel.appMain;\n    //如果有用到 pixi 部分代码\n    var _Root, _Stage, _PixiJsModel, _CreateJsModel;\n\n    var _Root3d, _Stage3D;\n    if (SiteModel.pixiJsModel) {\n        _PixiJsModel = SiteModel.pixiJsModel;\n        _Root = _PixiJsModel.root;\n        _Stage = _PixiJsModel.stage;\n    } else if (SiteModel.createJsModel) {\n        _CreateJsModel = SiteModel.createJsModel;\n\n        _Root = _CreateJsModel.root;\n        _Stage = _CreateJsModel.stage;\n\n        if (_CreateJsModel.isWebGL) {\n            _Root3d = _CreateJsModel.root3d;\n            _Stage3D = _CreateJsModel.stage3d;\n        }\n    }\n\n    var _View = new lib.WebGL2StagePage();\n\n    var _Box0 = _View.box0.clone();\n    // _View.autoReset=false;\n    _View.backBtn.on('click', function () {\n        _AppMain.gotoPage('HomePage');\n        _Box0.removeAllChildren();\n        _View.box1.removeAllChildren();\n    });\n\n    _View.removeChild(_View.box0);\n\n    function InitMovie() {\n\n        _Box0.removeAllChildren();\n        _View.box1.removeAllChildren();\n\n        var _mc;\n        for (var i = 0; i < 5; i++) {\n\n            _mc = new lib.NPCMovie();\n            _Box0.addChild(_mc);\n\n            _mc.x = 300 * Math.random();\n            _mc.y = 50 * Math.random();\n            _mc.mouseChildren = false;\n\n            _mc.on('click', function (e) {\n                console.log(e.target.stage.name);\n                if (e.target.parent) e.target.parent.removeChild(e.target);\n            });\n        }\n\n        for (var i = 0; i < 100; i++) {\n\n            _mc = new lib.NPCMovie();\n            _View.box1.addChild(_mc);\n            _mc.mouseChildren = false;\n\n            _mc.x = 500 * Math.random();\n            _mc.y = 150 * Math.random();\n\n            _mc.on('click', function (e) {\n                console.log(e.target.stage.name);\n                if (e.target.parent) e.target.parent.removeChild(e.target);\n            });\n        }\n    }\n\n    //动画进场\n    this.MovieIn = function () {\n\n        if (!_CreateJsModel.isWebGL) return;\n\n        _Root3d.removeAllChildren();\n        _Root3d.addChild(_View);\n\n        _Root.removeAllChildren();\n        _Root.addChild(_Box0);\n\n        InitMovie();\n\n        ReSize();\n    };\n\n    SiteModel.resizeModel.on('resize', ReSize);\n\n    function ReSize() {\n\n        var _resizeModel = SiteModel.resizeModel;\n        var _width = _resizeModel.width;\n        var _height = _resizeModel.height;\n        var _actualH = _resizeModel.actualH;\n        var _pageScale = _resizeModel.pageScale;\n        var _isInputState = _resizeModel.isInputState;\n        var _horizontal = _resizeModel.horizontal;\n        var _screenWidth = _resizeModel.screenWidth;\n        var _densityDpi = _resizeModel.densityDpi;\n\n        if (_Self.name !== SiteModel.pager.pageLabel) return;\n        if (_horizontal) {\n            SiteModel.resizeModel.showOrientationTip(true);\n        } else {\n            SiteModel.resizeModel.hideOrientationTip();\n        }\n    }\n}\n\nmodule.exports = new WebGL2Stage();\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/pages/WebGL2Stage.js\n// module id = 153\n// module chunks = 0\n\n//# sourceURL=webpack:///./src/app/pages/WebGL2Stage.js?")},function(module,exports,__webpack_require__){"use strict";eval("\n\nwindow.Stats = __webpack_require__(155);\n__webpack_require__(156);\n__webpack_require__(106);\n__webpack_require__(160);\n\n/**\n * ThreejsPage\n * @type {module}\n **/\nfunction ThreejsPage() {\n\n    var _Self = this;\n\n    this.name = 'ThreejsPage';\n\n    //事件继承\n    // ds.EventDispatcher.extend(this);\n    //主模块\n    var _AppMain = SiteModel.appMain;\n    //如果有用到 pixi 部分代码\n    var _Root, _Stage, _PixiJsModel, _CreateJsModel;\n    if (SiteModel.pixiJsModel) {\n        _PixiJsModel = SiteModel.pixiJsModel;\n        _Root = _PixiJsModel.root;\n        _Stage = _PixiJsModel.stage;\n    } else if (SiteModel.createJsModel) {\n        _CreateJsModel = SiteModel.createJsModel;\n        _Root = _CreateJsModel.root;\n        _Stage = _CreateJsModel.stage;\n    }\n\n    var _Btn = $(__webpack_require__(163));\n    _Btn.on('click', function () {\n        closeThisPage();\n        SiteModel.pager.gotoPage('HomePage');\n    });\n\n    var _ThreeJsModel = SiteModel.threeJsModel;\n    // _ThreeJsModel.createTestBox();\n    // _ThreeJsModel.createControls();\n\n    var _ScrollLampConfig = {\n        page1: {\n            bg: './assets/3d/bg0.png',\n            children: []\n        },\n        page2: {\n            bg: './assets/3d/bg1.png',\n            children: []\n        },\n        page21: {\n            bg: './assets/3d/bg1.png',\n            children: []\n        },\n        page22: {\n            bg: './assets/3d/bg1.png',\n            children: []\n        },\n        page23: {\n            bg: './assets/3d/bg1.png',\n            children: []\n        },\n        page24: {\n            bg: './assets/3d/bg1.png',\n            children: []\n        },\n        page25: {\n            bg: './assets/3d/bg1.png',\n            children: []\n        },\n        page26: {\n            bg: './assets/3d/bg1.png',\n            children: []\n        },\n        page27: {\n            bg: './assets/3d/bg1.png',\n            children: []\n        },\n        page28: {\n            bg: './assets/3d/bg1.png',\n            children: []\n        },\n        page29: {\n            bg: './assets/3d/bg1.png',\n            children: []\n        },\n        page3: {\n            bg: './assets/3d/bg1.png',\n            children: [{\n                src: './assets/3d/test.png',\n                x: 50, y: 300,\n                angle: 10,\n                s: 1\n            }]\n        },\n        page4: {\n            bg: './assets/3d/bg1.png',\n            children: []\n        },\n        page5: {\n            bg: './assets/3d/bg1.png',\n            children: []\n        },\n        page6: {\n            bg: './assets/3d/bg1.png',\n            children: []\n        },\n        page7: {\n            bg: './assets/3d/bg1.png',\n            children: []\n        },\n        page8: {\n            bg: './assets/3d/bg1.png',\n            children: [{\n                src: './assets/3d/test.png',\n                x: 50, y: 300,\n                angle: 10,\n                s: 1\n            }]\n        },\n        page9: {\n            bg: './assets/3d/bg0.png',\n            children: []\n        }\n\n    };\n    //跑马灯\n    var _ScrollLamp = new ds.threejs.ScrollLamp(null, { touchDom: '#threejsBox canvas' });\n    //初始化\n    _ScrollLamp.create(_ScrollLampConfig, false);\n\n    _ScrollLamp.on('createScene', function () {\n        console.log('createScene end');\n        var _mash = _ScrollLamp.pageDc.page3.children[0].obj2;\n        _mash.name = 'click1';\n        _ThreeJsModel.intersectObjects.push(_mash);\n\n        _mash = _ScrollLamp.pageDc.page8.children[0].obj2;\n        _mash.name = 'click2';\n        _ThreeJsModel.intersectObjects.push(_mash);\n\n        $(_ThreeJsModel.render.domElement).on('click', function () {\n            console.log('click', _intersectObject);\n            if (_intersectObject) {\n                console.log('click name:', _intersectObject.name);\n                if (_intersectObject.name == 'click2') {\n                    closeThisPage();\n                    SiteModel.pager.gotoPage('HomePage');\n                }\n            }\n        });\n    });\n\n    var _intersectObject;\n    _ThreeJsModel.on('intersects', function (e) {\n        var _intersects = e.intersects;\n        if (_intersects.length > 0) {\n            _intersectObject = _intersects[0].object;\n        } else {\n            _intersectObject = null;\n        }\n    });\n\n    function ShowScrollLamp() {\n\n        console.log('ShowScrollLamp');\n        _ThreeJsModel.screen.add(_ScrollLamp.view);\n        _ScrollLamp.view.position.x = 320;\n        _ScrollLamp.lock = false;\n        _ScrollLamp.startLoad();\n    }\n\n    //动画进场\n    this.MovieIn = function () {\n\n        console.log('MovieIn');\n\n        _Root.removeAllChildren();\n        $('#domBox').html('');\n        $('#cjsBox').hide();\n        $('#screen').append(_Btn);\n\n        _ThreeJsModel.pause = false;\n        _ThreeJsModel.showStats();\n\n        ShowScrollLamp();\n    };\n\n    function closeThisPage() {\n        _Btn.remove();\n        $('#cjsBox').show();\n        _ThreeJsModel.pause = true;\n        _ScrollLamp.lock = true;\n        _ThreeJsModel.hideStates();\n        if (_ScrollLamp.view.parent) _ScrollLamp.view.parent.remove(_ScrollLamp.view);\n    }\n\n    SiteModel.pager.on('update', function (e) {\n\n        if (e.label != _Self.name && e.oldLabel == _Self.name && _ThreeJsModel) {}\n    });\n}\n\nmodule.exports = new ThreejsPage();\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/pages/ThreejsPage.js\n// module id = 154\n// module chunks = 0\n\n//# sourceURL=webpack:///./src/app/pages/ThreejsPage.js?")},function(module,exports){eval('// stats.js - http://github.com/mrdoob/stats.js\nvar Stats=function(){function h(a){c.appendChild(a.dom);return a}function k(a){for(var d=0;d<c.children.length;d++)c.children[d].style.display=d===a?"block":"none";l=a}var l=0,c=document.createElement("div");c.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000";c.addEventListener("click",function(a){a.preventDefault();k(++l%c.children.length)},!1);var g=(performance||Date).now(),e=g,a=0,r=h(new Stats.Panel("FPS","#0ff","#002")),f=h(new Stats.Panel("MS","#0f0","#020"));\nif(self.performance&&self.performance.memory)var t=h(new Stats.Panel("MB","#f08","#201"));k(0);return{REVISION:16,dom:c,addPanel:h,showPanel:k,begin:function(){g=(performance||Date).now()},end:function(){a++;var c=(performance||Date).now();f.update(c-g,200);if(c>e+1E3&&(r.update(1E3*a/(c-e),100),e=c,a=0,t)){var d=performance.memory;t.update(d.usedJSHeapSize/1048576,d.jsHeapSizeLimit/1048576)}return c},update:function(){g=this.end()},domElement:c,setMode:k}};\nStats.Panel=function(h,k,l){var c=Infinity,g=0,e=Math.round,a=e(window.devicePixelRatio||1),r=80*a,f=48*a,t=3*a,u=2*a,d=3*a,m=15*a,n=74*a,p=30*a,q=document.createElement("canvas");q.width=r;q.height=f;q.style.cssText="width:80px;height:48px";var b=q.getContext("2d");b.font="bold "+9*a+"px Helvetica,Arial,sans-serif";b.textBaseline="top";b.fillStyle=l;b.fillRect(0,0,r,f);b.fillStyle=k;b.fillText(h,t,u);b.fillRect(d,m,n,p);b.fillStyle=l;b.globalAlpha=.9;b.fillRect(d,m,n,p);return{dom:q,update:function(f,\nv){c=Math.min(c,f);g=Math.max(g,f);b.fillStyle=l;b.globalAlpha=1;b.fillRect(0,0,r,m);b.fillStyle=k;b.fillText(e(f)+" "+h+" ("+e(c)+"-"+e(g)+")",t,u);b.drawImage(q,d+a,m,n-a,p,d,m,n-a,p);b.fillRect(d+n-a,m,a,p);b.fillStyle=l;b.globalAlpha=.9;b.fillRect(d+n-a,m,a,e((1-f/v)*p))}}};"object"===typeof module&&(module.exports=Stats);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/threejs/libs/stats.min.js\n// module id = 155\n// module chunks = 0\n\n//# sourceURL=webpack:///./src/threejs/libs/stats.min.js?')},function(module,exports,__webpack_require__){"use strict";eval("\n\nvar _defineProperties = __webpack_require__(157);\n\nvar _defineProperties2 = _interopRequireDefault(_defineProperties);\n\nvar _create = __webpack_require__(75);\n\nvar _create2 = _interopRequireDefault(_create);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @author qiao / https://github.com/qiao\n * @author mrdoob / http://mrdoob.com\n * @author alteredq / http://alteredqualia.com/\n * @author WestLangley / http://github.com/WestLangley\n * @author erich666 / http://erichaines.com\n */\n\n// This set of controls performs orbiting, dollying (zooming), and panning.\n// Unlike TrackballControls, it maintains the \"up\" direction object.up (+Y by default).\n//\n//    Orbit - left mouse / touch: one finger move\n//    Zoom - middle mouse, or mousewheel / touch: two finger spread or squish\n//    Pan - right mouse, or arrow keys / touch: three finger swipe\n\nTHREE.OrbitControls = function (object, domElement) {\n\n\tthis.object = object;\n\n\tthis.domElement = domElement !== undefined ? domElement : document;\n\n\t// Set to false to disable this control\n\tthis.enabled = true;\n\n\t// \"target\" sets the location of focus, where the object orbits around\n\tthis.target = new THREE.Vector3();\n\n\t// How far you can dolly in and out ( PerspectiveCamera only )\n\tthis.minDistance = 0;\n\tthis.maxDistance = Infinity;\n\n\t// How far you can zoom in and out ( OrthographicCamera only )\n\tthis.minZoom = 0;\n\tthis.maxZoom = Infinity;\n\n\t// How far you can orbit vertically, upper and lower limits.\n\t// Range is 0 to Math.PI radians.\n\tthis.minPolarAngle = 0; // radians\n\tthis.maxPolarAngle = Math.PI; // radians\n\n\t// How far you can orbit horizontally, upper and lower limits.\n\t// If set, must be a sub-interval of the interval [ - Math.PI, Math.PI ].\n\tthis.minAzimuthAngle = -Infinity; // radians\n\tthis.maxAzimuthAngle = Infinity; // radians\n\n\t// Set to true to enable damping (inertia)\n\t// If damping is enabled, you must call controls.update() in your animation loop\n\tthis.enableDamping = false;\n\tthis.dampingFactor = 0.25;\n\n\t// This option actually enables dollying in and out; left as \"zoom\" for backwards compatibility.\n\t// Set to false to disable zooming\n\tthis.enableZoom = true;\n\tthis.zoomSpeed = 1.0;\n\n\t// Set to false to disable rotating\n\tthis.enableRotate = true;\n\tthis.rotateSpeed = 1.0;\n\n\t// Set to false to disable panning\n\tthis.enablePan = true;\n\tthis.keyPanSpeed = 7.0; // pixels moved per arrow key push\n\n\t// Set to true to automatically rotate around the target\n\t// If auto-rotate is enabled, you must call controls.update() in your animation loop\n\tthis.autoRotate = false;\n\tthis.autoRotateSpeed = 2.0; // 30 seconds per round when fps is 60\n\n\t// Set to false to disable use of the keys\n\tthis.enableKeys = true;\n\n\t// The four arrow keys\n\tthis.keys = { LEFT: 37, UP: 38, RIGHT: 39, BOTTOM: 40 };\n\n\t// Mouse buttons\n\tthis.mouseButtons = { ORBIT: THREE.MOUSE.LEFT, ZOOM: THREE.MOUSE.MIDDLE, PAN: THREE.MOUSE.RIGHT };\n\n\t// for reset\n\tthis.target0 = this.target.clone();\n\tthis.position0 = this.object.position.clone();\n\tthis.zoom0 = this.object.zoom;\n\n\t//\n\t// public methods\n\t//\n\n\tthis.getPolarAngle = function () {\n\n\t\treturn spherical.phi;\n\t};\n\n\tthis.getAzimuthalAngle = function () {\n\n\t\treturn spherical.theta;\n\t};\n\n\tthis.saveState = function () {\n\n\t\tscope.target0.copy(scope.target);\n\t\tscope.position0.copy(scope.object.position);\n\t\tscope.zoom0 = scope.object.zoom;\n\t};\n\n\tthis.reset = function () {\n\n\t\tscope.target.copy(scope.target0);\n\t\tscope.object.position.copy(scope.position0);\n\t\tscope.object.zoom = scope.zoom0;\n\n\t\tscope.object.updateProjectionMatrix();\n\t\tscope.dispatchEvent(changeEvent);\n\n\t\tscope.update();\n\n\t\tstate = STATE.NONE;\n\t};\n\n\t// this method is exposed, but perhaps it would be better if we can make it private...\n\tthis.update = function () {\n\n\t\tvar offset = new THREE.Vector3();\n\n\t\t// so camera.up is the orbit axis\n\t\tvar quat = new THREE.Quaternion().setFromUnitVectors(object.up, new THREE.Vector3(0, 1, 0));\n\t\tvar quatInverse = quat.clone().inverse();\n\n\t\tvar lastPosition = new THREE.Vector3();\n\t\tvar lastQuaternion = new THREE.Quaternion();\n\n\t\treturn function update() {\n\n\t\t\tvar position = scope.object.position;\n\n\t\t\toffset.copy(position).sub(scope.target);\n\n\t\t\t// rotate offset to \"y-axis-is-up\" space\n\t\t\toffset.applyQuaternion(quat);\n\n\t\t\t// angle from z-axis around y-axis\n\t\t\tspherical.setFromVector3(offset);\n\n\t\t\tif (scope.autoRotate && state === STATE.NONE) {\n\n\t\t\t\trotateLeft(getAutoRotationAngle());\n\t\t\t}\n\n\t\t\tspherical.theta += sphericalDelta.theta;\n\t\t\tspherical.phi += sphericalDelta.phi;\n\n\t\t\t// restrict theta to be between desired limits\n\t\t\tspherical.theta = Math.max(scope.minAzimuthAngle, Math.min(scope.maxAzimuthAngle, spherical.theta));\n\n\t\t\t// restrict phi to be between desired limits\n\t\t\tspherical.phi = Math.max(scope.minPolarAngle, Math.min(scope.maxPolarAngle, spherical.phi));\n\n\t\t\tspherical.makeSafe();\n\n\t\t\tspherical.radius *= scale;\n\n\t\t\t// restrict radius to be between desired limits\n\t\t\tspherical.radius = Math.max(scope.minDistance, Math.min(scope.maxDistance, spherical.radius));\n\n\t\t\t// move target to panned location\n\t\t\tscope.target.add(panOffset);\n\n\t\t\toffset.setFromSpherical(spherical);\n\n\t\t\t// rotate offset back to \"camera-up-vector-is-up\" space\n\t\t\toffset.applyQuaternion(quatInverse);\n\n\t\t\tposition.copy(scope.target).add(offset);\n\n\t\t\tscope.object.lookAt(scope.target);\n\n\t\t\tif (scope.enableDamping === true) {\n\n\t\t\t\tsphericalDelta.theta *= 1 - scope.dampingFactor;\n\t\t\t\tsphericalDelta.phi *= 1 - scope.dampingFactor;\n\t\t\t} else {\n\n\t\t\t\tsphericalDelta.set(0, 0, 0);\n\t\t\t}\n\n\t\t\tscale = 1;\n\t\t\tpanOffset.set(0, 0, 0);\n\n\t\t\t// update condition is:\n\t\t\t// min(camera displacement, camera rotation in radians)^2 > EPS\n\t\t\t// using small-angle approximation cos(x/2) = 1 - x^2 / 8\n\n\t\t\tif (zoomChanged || lastPosition.distanceToSquared(scope.object.position) > EPS || 8 * (1 - lastQuaternion.dot(scope.object.quaternion)) > EPS) {\n\n\t\t\t\tscope.dispatchEvent(changeEvent);\n\n\t\t\t\tlastPosition.copy(scope.object.position);\n\t\t\t\tlastQuaternion.copy(scope.object.quaternion);\n\t\t\t\tzoomChanged = false;\n\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\treturn false;\n\t\t};\n\t}();\n\n\tthis.dispose = function () {\n\n\t\tscope.domElement.removeEventListener('contextmenu', onContextMenu, false);\n\t\tscope.domElement.removeEventListener('mousedown', onMouseDown, false);\n\t\tscope.domElement.removeEventListener('wheel', onMouseWheel, false);\n\n\t\tscope.domElement.removeEventListener('touchstart', onTouchStart, false);\n\t\tscope.domElement.removeEventListener('touchend', onTouchEnd, false);\n\t\tscope.domElement.removeEventListener('touchmove', onTouchMove, false);\n\n\t\tdocument.removeEventListener('mousemove', onMouseMove, false);\n\t\tdocument.removeEventListener('mouseup', onMouseUp, false);\n\n\t\twindow.removeEventListener('keydown', onKeyDown, false);\n\n\t\t//scope.dispatchEvent( { type: 'dispose' } ); // should this be added here?\n\t};\n\n\t//\n\t// internals\n\t//\n\n\tvar scope = this;\n\n\tvar changeEvent = { type: 'change' };\n\tvar startEvent = { type: 'start' };\n\tvar endEvent = { type: 'end' };\n\n\tvar STATE = { NONE: -1, ROTATE: 0, DOLLY: 1, PAN: 2, TOUCH_ROTATE: 3, TOUCH_DOLLY: 4, TOUCH_PAN: 5 };\n\n\tvar state = STATE.NONE;\n\n\tvar EPS = 0.000001;\n\n\t// current position in spherical coordinates\n\tvar spherical = new THREE.Spherical();\n\tvar sphericalDelta = new THREE.Spherical();\n\n\tvar scale = 1;\n\tvar panOffset = new THREE.Vector3();\n\tvar zoomChanged = false;\n\n\tvar rotateStart = new THREE.Vector2();\n\tvar rotateEnd = new THREE.Vector2();\n\tvar rotateDelta = new THREE.Vector2();\n\n\tvar panStart = new THREE.Vector2();\n\tvar panEnd = new THREE.Vector2();\n\tvar panDelta = new THREE.Vector2();\n\n\tvar dollyStart = new THREE.Vector2();\n\tvar dollyEnd = new THREE.Vector2();\n\tvar dollyDelta = new THREE.Vector2();\n\n\tfunction getAutoRotationAngle() {\n\n\t\treturn 2 * Math.PI / 60 / 60 * scope.autoRotateSpeed;\n\t}\n\n\tfunction getZoomScale() {\n\n\t\treturn Math.pow(0.95, scope.zoomSpeed);\n\t}\n\n\tfunction rotateLeft(angle) {\n\n\t\tsphericalDelta.theta -= angle;\n\t}\n\n\tfunction rotateUp(angle) {\n\n\t\tsphericalDelta.phi -= angle;\n\t}\n\n\tvar panLeft = function () {\n\n\t\tvar v = new THREE.Vector3();\n\n\t\treturn function panLeft(distance, objectMatrix) {\n\n\t\t\tv.setFromMatrixColumn(objectMatrix, 0); // get X column of objectMatrix\n\t\t\tv.multiplyScalar(-distance);\n\n\t\t\tpanOffset.add(v);\n\t\t};\n\t}();\n\n\tvar panUp = function () {\n\n\t\tvar v = new THREE.Vector3();\n\n\t\treturn function panUp(distance, objectMatrix) {\n\n\t\t\tv.setFromMatrixColumn(objectMatrix, 1); // get Y column of objectMatrix\n\t\t\tv.multiplyScalar(distance);\n\n\t\t\tpanOffset.add(v);\n\t\t};\n\t}();\n\n\t// deltaX and deltaY are in pixels; right and down are positive\n\tvar pan = function () {\n\n\t\tvar offset = new THREE.Vector3();\n\n\t\treturn function pan(deltaX, deltaY) {\n\n\t\t\tvar element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n\n\t\t\tif (scope.object.isPerspectiveCamera) {\n\n\t\t\t\t// perspective\n\t\t\t\tvar position = scope.object.position;\n\t\t\t\toffset.copy(position).sub(scope.target);\n\t\t\t\tvar targetDistance = offset.length();\n\n\t\t\t\t// half of the fov is center to top of screen\n\t\t\t\ttargetDistance *= Math.tan(scope.object.fov / 2 * Math.PI / 180.0);\n\n\t\t\t\t// we actually don't use screenWidth, since perspective camera is fixed to screen height\n\t\t\t\tpanLeft(2 * deltaX * targetDistance / element.clientHeight, scope.object.matrix);\n\t\t\t\tpanUp(2 * deltaY * targetDistance / element.clientHeight, scope.object.matrix);\n\t\t\t} else if (scope.object.isOrthographicCamera) {\n\n\t\t\t\t// orthographic\n\t\t\t\tpanLeft(deltaX * (scope.object.right - scope.object.left) / scope.object.zoom / element.clientWidth, scope.object.matrix);\n\t\t\t\tpanUp(deltaY * (scope.object.top - scope.object.bottom) / scope.object.zoom / element.clientHeight, scope.object.matrix);\n\t\t\t} else {\n\n\t\t\t\t// camera neither orthographic nor perspective\n\t\t\t\tconsole.warn('WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.');\n\t\t\t\tscope.enablePan = false;\n\t\t\t}\n\t\t};\n\t}();\n\n\tfunction dollyIn(dollyScale) {\n\n\t\tif (scope.object.isPerspectiveCamera) {\n\n\t\t\tscale /= dollyScale;\n\t\t} else if (scope.object.isOrthographicCamera) {\n\n\t\t\tscope.object.zoom = Math.max(scope.minZoom, Math.min(scope.maxZoom, scope.object.zoom * dollyScale));\n\t\t\tscope.object.updateProjectionMatrix();\n\t\t\tzoomChanged = true;\n\t\t} else {\n\n\t\t\tconsole.warn('WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.');\n\t\t\tscope.enableZoom = false;\n\t\t}\n\t}\n\n\tfunction dollyOut(dollyScale) {\n\n\t\tif (scope.object.isPerspectiveCamera) {\n\n\t\t\tscale *= dollyScale;\n\t\t} else if (scope.object.isOrthographicCamera) {\n\n\t\t\tscope.object.zoom = Math.max(scope.minZoom, Math.min(scope.maxZoom, scope.object.zoom / dollyScale));\n\t\t\tscope.object.updateProjectionMatrix();\n\t\t\tzoomChanged = true;\n\t\t} else {\n\n\t\t\tconsole.warn('WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.');\n\t\t\tscope.enableZoom = false;\n\t\t}\n\t}\n\n\t//\n\t// event callbacks - update the object state\n\t//\n\n\tfunction handleMouseDownRotate(event) {\n\n\t\t//console.log( 'handleMouseDownRotate' );\n\n\t\trotateStart.set(event.clientX, event.clientY);\n\t}\n\n\tfunction handleMouseDownDolly(event) {\n\n\t\t//console.log( 'handleMouseDownDolly' );\n\n\t\tdollyStart.set(event.clientX, event.clientY);\n\t}\n\n\tfunction handleMouseDownPan(event) {\n\n\t\t//console.log( 'handleMouseDownPan' );\n\n\t\tpanStart.set(event.clientX, event.clientY);\n\t}\n\n\tfunction handleMouseMoveRotate(event) {\n\n\t\t//console.log( 'handleMouseMoveRotate' );\n\n\t\trotateEnd.set(event.clientX, event.clientY);\n\t\trotateDelta.subVectors(rotateEnd, rotateStart);\n\n\t\tvar element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n\n\t\t// rotating across whole screen goes 360 degrees around\n\t\trotateLeft(2 * Math.PI * rotateDelta.x / element.clientWidth * scope.rotateSpeed);\n\n\t\t// rotating up and down along whole screen attempts to go 360, but limited to 180\n\t\trotateUp(2 * Math.PI * rotateDelta.y / element.clientHeight * scope.rotateSpeed);\n\n\t\trotateStart.copy(rotateEnd);\n\n\t\tscope.update();\n\t}\n\n\tfunction handleMouseMoveDolly(event) {\n\n\t\t//console.log( 'handleMouseMoveDolly' );\n\n\t\tdollyEnd.set(event.clientX, event.clientY);\n\n\t\tdollyDelta.subVectors(dollyEnd, dollyStart);\n\n\t\tif (dollyDelta.y > 0) {\n\n\t\t\tdollyIn(getZoomScale());\n\t\t} else if (dollyDelta.y < 0) {\n\n\t\t\tdollyOut(getZoomScale());\n\t\t}\n\n\t\tdollyStart.copy(dollyEnd);\n\n\t\tscope.update();\n\t}\n\n\tfunction handleMouseMovePan(event) {\n\n\t\t//console.log( 'handleMouseMovePan' );\n\n\t\tpanEnd.set(event.clientX, event.clientY);\n\n\t\tpanDelta.subVectors(panEnd, panStart);\n\n\t\tpan(panDelta.x, panDelta.y);\n\n\t\tpanStart.copy(panEnd);\n\n\t\tscope.update();\n\t}\n\n\tfunction handleMouseUp(event) {\n\n\t\t// console.log( 'handleMouseUp' );\n\n\t}\n\n\tfunction handleMouseWheel(event) {\n\n\t\t// console.log( 'handleMouseWheel' );\n\n\t\tif (event.deltaY < 0) {\n\n\t\t\tdollyOut(getZoomScale());\n\t\t} else if (event.deltaY > 0) {\n\n\t\t\tdollyIn(getZoomScale());\n\t\t}\n\n\t\tscope.update();\n\t}\n\n\tfunction handleKeyDown(event) {\n\n\t\t//console.log( 'handleKeyDown' );\n\n\t\tswitch (event.keyCode) {\n\n\t\t\tcase scope.keys.UP:\n\t\t\t\tpan(0, scope.keyPanSpeed);\n\t\t\t\tscope.update();\n\t\t\t\tbreak;\n\n\t\t\tcase scope.keys.BOTTOM:\n\t\t\t\tpan(0, -scope.keyPanSpeed);\n\t\t\t\tscope.update();\n\t\t\t\tbreak;\n\n\t\t\tcase scope.keys.LEFT:\n\t\t\t\tpan(scope.keyPanSpeed, 0);\n\t\t\t\tscope.update();\n\t\t\t\tbreak;\n\n\t\t\tcase scope.keys.RIGHT:\n\t\t\t\tpan(-scope.keyPanSpeed, 0);\n\t\t\t\tscope.update();\n\t\t\t\tbreak;\n\n\t\t}\n\t}\n\n\tfunction handleTouchStartRotate(event) {\n\n\t\t//console.log( 'handleTouchStartRotate' );\n\n\t\trotateStart.set(event.touches[0].pageX, event.touches[0].pageY);\n\t}\n\n\tfunction handleTouchStartDolly(event) {\n\n\t\t//console.log( 'handleTouchStartDolly' );\n\n\t\tvar dx = event.touches[0].pageX - event.touches[1].pageX;\n\t\tvar dy = event.touches[0].pageY - event.touches[1].pageY;\n\n\t\tvar distance = Math.sqrt(dx * dx + dy * dy);\n\n\t\tdollyStart.set(0, distance);\n\t}\n\n\tfunction handleTouchStartPan(event) {\n\n\t\t//console.log( 'handleTouchStartPan' );\n\n\t\tpanStart.set(event.touches[0].pageX, event.touches[0].pageY);\n\t}\n\n\tfunction handleTouchMoveRotate(event) {\n\n\t\t//console.log( 'handleTouchMoveRotate' );\n\n\t\trotateEnd.set(event.touches[0].pageX, event.touches[0].pageY);\n\t\trotateDelta.subVectors(rotateEnd, rotateStart);\n\n\t\tvar element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n\n\t\t// rotating across whole screen goes 360 degrees around\n\t\trotateLeft(2 * Math.PI * rotateDelta.x / element.clientWidth * scope.rotateSpeed);\n\n\t\t// rotating up and down along whole screen attempts to go 360, but limited to 180\n\t\trotateUp(2 * Math.PI * rotateDelta.y / element.clientHeight * scope.rotateSpeed);\n\n\t\trotateStart.copy(rotateEnd);\n\n\t\tscope.update();\n\t}\n\n\tfunction handleTouchMoveDolly(event) {\n\n\t\t//console.log( 'handleTouchMoveDolly' );\n\n\t\tvar dx = event.touches[0].pageX - event.touches[1].pageX;\n\t\tvar dy = event.touches[0].pageY - event.touches[1].pageY;\n\n\t\tvar distance = Math.sqrt(dx * dx + dy * dy);\n\n\t\tdollyEnd.set(0, distance);\n\n\t\tdollyDelta.subVectors(dollyEnd, dollyStart);\n\n\t\tif (dollyDelta.y > 0) {\n\n\t\t\tdollyOut(getZoomScale());\n\t\t} else if (dollyDelta.y < 0) {\n\n\t\t\tdollyIn(getZoomScale());\n\t\t}\n\n\t\tdollyStart.copy(dollyEnd);\n\n\t\tscope.update();\n\t}\n\n\tfunction handleTouchMovePan(event) {\n\n\t\t//console.log( 'handleTouchMovePan' );\n\n\t\tpanEnd.set(event.touches[0].pageX, event.touches[0].pageY);\n\n\t\tpanDelta.subVectors(panEnd, panStart);\n\n\t\tpan(panDelta.x, panDelta.y);\n\n\t\tpanStart.copy(panEnd);\n\n\t\tscope.update();\n\t}\n\n\tfunction handleTouchEnd(event) {}\n\n\t//console.log( 'handleTouchEnd' );\n\n\t//\n\t// event handlers - FSM: listen for events and reset state\n\t//\n\n\tfunction onMouseDown(event) {\n\n\t\tif (scope.enabled === false) return;\n\n\t\tevent.preventDefault();\n\n\t\tswitch (event.button) {\n\n\t\t\tcase scope.mouseButtons.ORBIT:\n\n\t\t\t\tif (scope.enableRotate === false) return;\n\n\t\t\t\thandleMouseDownRotate(event);\n\n\t\t\t\tstate = STATE.ROTATE;\n\n\t\t\t\tbreak;\n\n\t\t\tcase scope.mouseButtons.ZOOM:\n\n\t\t\t\tif (scope.enableZoom === false) return;\n\n\t\t\t\thandleMouseDownDolly(event);\n\n\t\t\t\tstate = STATE.DOLLY;\n\n\t\t\t\tbreak;\n\n\t\t\tcase scope.mouseButtons.PAN:\n\n\t\t\t\tif (scope.enablePan === false) return;\n\n\t\t\t\thandleMouseDownPan(event);\n\n\t\t\t\tstate = STATE.PAN;\n\n\t\t\t\tbreak;\n\n\t\t}\n\n\t\tif (state !== STATE.NONE) {\n\n\t\t\tdocument.addEventListener('mousemove', onMouseMove, false);\n\t\t\tdocument.addEventListener('mouseup', onMouseUp, false);\n\n\t\t\tscope.dispatchEvent(startEvent);\n\t\t}\n\t}\n\n\tfunction onMouseMove(event) {\n\n\t\tif (scope.enabled === false) return;\n\n\t\tevent.preventDefault();\n\n\t\tswitch (state) {\n\n\t\t\tcase STATE.ROTATE:\n\n\t\t\t\tif (scope.enableRotate === false) return;\n\n\t\t\t\thandleMouseMoveRotate(event);\n\n\t\t\t\tbreak;\n\n\t\t\tcase STATE.DOLLY:\n\n\t\t\t\tif (scope.enableZoom === false) return;\n\n\t\t\t\thandleMouseMoveDolly(event);\n\n\t\t\t\tbreak;\n\n\t\t\tcase STATE.PAN:\n\n\t\t\t\tif (scope.enablePan === false) return;\n\n\t\t\t\thandleMouseMovePan(event);\n\n\t\t\t\tbreak;\n\n\t\t}\n\t}\n\n\tfunction onMouseUp(event) {\n\n\t\tif (scope.enabled === false) return;\n\n\t\thandleMouseUp(event);\n\n\t\tdocument.removeEventListener('mousemove', onMouseMove, false);\n\t\tdocument.removeEventListener('mouseup', onMouseUp, false);\n\n\t\tscope.dispatchEvent(endEvent);\n\n\t\tstate = STATE.NONE;\n\t}\n\n\tfunction onMouseWheel(event) {\n\n\t\tif (scope.enabled === false || scope.enableZoom === false || state !== STATE.NONE && state !== STATE.ROTATE) return;\n\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\n\t\thandleMouseWheel(event);\n\n\t\tscope.dispatchEvent(startEvent); // not sure why these are here...\n\t\tscope.dispatchEvent(endEvent);\n\t}\n\n\tfunction onKeyDown(event) {\n\n\t\tif (scope.enabled === false || scope.enableKeys === false || scope.enablePan === false) return;\n\n\t\thandleKeyDown(event);\n\t}\n\n\tfunction onTouchStart(event) {\n\n\t\tif (scope.enabled === false) return;\n\n\t\tswitch (event.touches.length) {\n\n\t\t\tcase 1:\n\t\t\t\t// one-fingered touch: rotate\n\n\t\t\t\tif (scope.enableRotate === false) return;\n\n\t\t\t\thandleTouchStartRotate(event);\n\n\t\t\t\tstate = STATE.TOUCH_ROTATE;\n\n\t\t\t\tbreak;\n\n\t\t\tcase 2:\n\t\t\t\t// two-fingered touch: dolly\n\n\t\t\t\tif (scope.enableZoom === false) return;\n\n\t\t\t\thandleTouchStartDolly(event);\n\n\t\t\t\tstate = STATE.TOUCH_DOLLY;\n\n\t\t\t\tbreak;\n\n\t\t\tcase 3:\n\t\t\t\t// three-fingered touch: pan\n\n\t\t\t\tif (scope.enablePan === false) return;\n\n\t\t\t\thandleTouchStartPan(event);\n\n\t\t\t\tstate = STATE.TOUCH_PAN;\n\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\n\t\t\t\tstate = STATE.NONE;\n\n\t\t}\n\n\t\tif (state !== STATE.NONE) {\n\n\t\t\tscope.dispatchEvent(startEvent);\n\t\t}\n\t}\n\n\tfunction onTouchMove(event) {\n\n\t\tif (scope.enabled === false) return;\n\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\n\t\tswitch (event.touches.length) {\n\n\t\t\tcase 1:\n\t\t\t\t// one-fingered touch: rotate\n\n\t\t\t\tif (scope.enableRotate === false) return;\n\t\t\t\tif (state !== STATE.TOUCH_ROTATE) return; // is this needed?...\n\n\t\t\t\thandleTouchMoveRotate(event);\n\n\t\t\t\tbreak;\n\n\t\t\tcase 2:\n\t\t\t\t// two-fingered touch: dolly\n\n\t\t\t\tif (scope.enableZoom === false) return;\n\t\t\t\tif (state !== STATE.TOUCH_DOLLY) return; // is this needed?...\n\n\t\t\t\thandleTouchMoveDolly(event);\n\n\t\t\t\tbreak;\n\n\t\t\tcase 3:\n\t\t\t\t// three-fingered touch: pan\n\n\t\t\t\tif (scope.enablePan === false) return;\n\t\t\t\tif (state !== STATE.TOUCH_PAN) return; // is this needed?...\n\n\t\t\t\thandleTouchMovePan(event);\n\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\n\t\t\t\tstate = STATE.NONE;\n\n\t\t}\n\t}\n\n\tfunction onTouchEnd(event) {\n\n\t\tif (scope.enabled === false) return;\n\n\t\thandleTouchEnd(event);\n\n\t\tscope.dispatchEvent(endEvent);\n\n\t\tstate = STATE.NONE;\n\t}\n\n\tfunction onContextMenu(event) {\n\n\t\tif (scope.enabled === false) return;\n\n\t\tevent.preventDefault();\n\t}\n\n\t//\n\n\tscope.domElement.addEventListener('contextmenu', onContextMenu, false);\n\n\tscope.domElement.addEventListener('mousedown', onMouseDown, false);\n\tscope.domElement.addEventListener('wheel', onMouseWheel, false);\n\n\tscope.domElement.addEventListener('touchstart', onTouchStart, false);\n\tscope.domElement.addEventListener('touchend', onTouchEnd, false);\n\tscope.domElement.addEventListener('touchmove', onTouchMove, false);\n\n\twindow.addEventListener('keydown', onKeyDown, false);\n\n\t// force an update at start\n\n\tthis.update();\n};\n\nTHREE.OrbitControls.prototype = (0, _create2.default)(THREE.EventDispatcher.prototype);\nTHREE.OrbitControls.prototype.constructor = THREE.OrbitControls;\n\n(0, _defineProperties2.default)(THREE.OrbitControls.prototype, {\n\n\tcenter: {\n\n\t\tget: function get() {\n\n\t\t\tconsole.warn('THREE.OrbitControls: .center has been renamed to .target');\n\t\t\treturn this.target;\n\t\t}\n\n\t},\n\n\t// backward compatibility\n\n\tnoZoom: {\n\n\t\tget: function get() {\n\n\t\t\tconsole.warn('THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.');\n\t\t\treturn !this.enableZoom;\n\t\t},\n\n\t\tset: function set(value) {\n\n\t\t\tconsole.warn('THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.');\n\t\t\tthis.enableZoom = !value;\n\t\t}\n\n\t},\n\n\tnoRotate: {\n\n\t\tget: function get() {\n\n\t\t\tconsole.warn('THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead.');\n\t\t\treturn !this.enableRotate;\n\t\t},\n\n\t\tset: function set(value) {\n\n\t\t\tconsole.warn('THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead.');\n\t\t\tthis.enableRotate = !value;\n\t\t}\n\n\t},\n\n\tnoPan: {\n\n\t\tget: function get() {\n\n\t\t\tconsole.warn('THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead.');\n\t\t\treturn !this.enablePan;\n\t\t},\n\n\t\tset: function set(value) {\n\n\t\t\tconsole.warn('THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead.');\n\t\t\tthis.enablePan = !value;\n\t\t}\n\n\t},\n\n\tnoKeys: {\n\n\t\tget: function get() {\n\n\t\t\tconsole.warn('THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead.');\n\t\t\treturn !this.enableKeys;\n\t\t},\n\n\t\tset: function set(value) {\n\n\t\t\tconsole.warn('THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead.');\n\t\t\tthis.enableKeys = !value;\n\t\t}\n\n\t},\n\n\tstaticMoving: {\n\n\t\tget: function get() {\n\n\t\t\tconsole.warn('THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead.');\n\t\t\treturn !this.enableDamping;\n\t\t},\n\n\t\tset: function set(value) {\n\n\t\t\tconsole.warn('THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead.');\n\t\t\tthis.enableDamping = !value;\n\t\t}\n\n\t},\n\n\tdynamicDampingFactor: {\n\n\t\tget: function get() {\n\n\t\t\tconsole.warn('THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead.');\n\t\t\treturn this.dampingFactor;\n\t\t},\n\n\t\tset: function set(value) {\n\n\t\t\tconsole.warn('THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead.');\n\t\t\tthis.dampingFactor = value;\n\t\t}\n\n\t}\n\n});\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/threejs/controls/OrbitControls.js\n// module id = 156\n// module chunks = 0\n\n//# sourceURL=webpack:///./src/threejs/controls/OrbitControls.js?")},function(module,exports,__webpack_require__){eval('module.exports = { "default": __webpack_require__(158), __esModule: true };\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/_babel-runtime@6.26.0@babel-runtime/core-js/object/define-properties.js\n// module id = 157\n// module chunks = 0\n\n//# sourceURL=webpack:///../node_modules/_babel-runtime@6.26.0@babel-runtime/core-js/object/define-properties.js?')},function(module,exports,__webpack_require__){eval("__webpack_require__(159);\nvar $Object = __webpack_require__(7).Object;\nmodule.exports = function defineProperties(T, D) {\n  return $Object.defineProperties(T, D);\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/_core-js@2.5.1@core-js/library/fn/object/define-properties.js\n// module id = 158\n// module chunks = 0\n\n//# sourceURL=webpack:///../node_modules/_core-js@2.5.1@core-js/library/fn/object/define-properties.js?")},function(module,exports,__webpack_require__){eval("var $export = __webpack_require__(16);\n// 19.1.2.3 / 15.2.3.7 Object.defineProperties(O, Properties)\n$export($export.S + $export.F * !__webpack_require__(2), 'Object', { defineProperties: __webpack_require__(44) });\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/_core-js@2.5.1@core-js/library/modules/es6.object.define-properties.js\n// module id = 159\n// module chunks = 0\n\n//# sourceURL=webpack:///../node_modules/_core-js@2.5.1@core-js/library/modules/es6.object.define-properties.js?")},function(module,exports,__webpack_require__){"use strict";eval("/* WEBPACK VAR INJECTION */(function(process, global) {\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _typeof2 = __webpack_require__(9);\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nvar _getPrototypeOf = __webpack_require__(72);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(70);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(71);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(73);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(74);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _EventDispatcher2 = __webpack_require__(69);\n\nvar _EventDispatcher3 = _interopRequireDefault(_EventDispatcher2);\n\nvar _LoadManager = __webpack_require__(106);\n\nvar _LoadManager2 = _interopRequireDefault(_LoadManager);\n\nvar _SliderDistance = __webpack_require__(161);\n\nvar _SliderDistance2 = _interopRequireDefault(_SliderDistance);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * 跑马灯效果\n * @class\n * @memberof ds.threejs\n * @example\n *\n * //配置参考配置说明\n * var config={....}\n * var _scrollLamp = new ds.threejs.ScrollLamp(config, {touchDom: '#threejsBox canvas'});\n *\n * //如果是一开始未创建完成配置，可以如下进行创建\n * var _scrollLamp = new ds.threejs.ScrollLamp(null, {touchDom: '#threejsBox canvas'});\n * //加载到50%的资源时候开始创建整个场景\n *  _scrollLamp.on('progress', function (e) {\n     *     if (e.progress > 0.5) _scrollLamp.createScene();\n     *  });\n *  //根据config构建跑马灯,不要马上加载\n *  _scrollLamp.create(config,false);\n *  //手动执行开始加载\n *  _scrollLamp.startLoad();\n */\nvar ScrollLamp = function (_EventDispatcher) {\n    (0, _inherits3.default)(ScrollLamp, _EventDispatcher);\n\n    /**\n     *\n     * @param {object} config 创建跑马灯元素\n     * ```js\n     *\n     * config = {\n     *   page1: {\n     *       bg: './assets/3d/bg0.png', //页面的背景图片，建议图片相同大小\n     *       children: [] // 子元素列表\n     *   },\n     *   page2: {\n     *       bg: './assets/3d/bg1.png',\n     *      children: [\n     *           {\n     *               src:'./assets/3d/test.png',\n     *               x:50,y:300, // 子元素定位\n     *               angle:10, // 可以是 a 也可以是angle ，代表子元素选择角度偏移\n     *               s:1 // 子元素缩放大小\n     *           }\n     *       ]\n     *   },\n     *   .\n     *   .\n     *   .\n     *   .\n     *  }\n     * ```\n     * @param {object} opts 配置\n     * @param {object} opts.interval=20  每个页面之间间隔角度\n     * @param {object} opts.load=false  如果有config，是否执行配置后进行自动加载\n     * @param {string} opts.type='h'  touch触发 是横向 还是纵向\n     * @param {string|HTMLElement} opts.touchDom=false 进行touch的交互dom对象\n     *\n     *\n     */\n    function ScrollLamp(config, opts) {\n        (0, _classCallCheck3.default)(this, ScrollLamp);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (ScrollLamp.__proto__ || (0, _getPrototypeOf2.default)(ScrollLamp)).call(this));\n\n        opts = opts || {};\n\n        /**\n         * 这个跑马灯容器\n         * @type {THREE.Group}\n         */\n        _this.view = new THREE.Group();\n\n        // 测试\n        // var geometry = new THREE.PlaneGeometry( 20, 20, 1 );\n        // var material = new THREE.MeshBasicMaterial( {color: 0xffff00, side: THREE.DoubleSide} );\n        // var plane = new THREE.Mesh( geometry, material );\n        // this.view.add(plane);\n\n        /**\n         * 跑马灯页面之间间隔角度\n         * @type {number}\n         */\n        _this.interval = opts.interval != undefined ? opts.interval : 20;\n\n        _this._rotation = 0;\n\n        /**\n         * 拖动距离控制器\n         * @type {ds.gemo.SliderDistance}\n         */\n        _this.slider = new _SliderDistance2.default(_this, 'rotation', {\n            touchDom: opts.touchDom ? opts.touchDom : $('body'),\n            minSpeed: 0.2,\n            maxSpeed: 2,\n            interval: _this.interval * 2,\n            type: opts.type !== undefined ? opts.type : 'h'\n        });\n        _this.slider.lock = true;\n\n        _this.slider.on('update', _this._update, _this);\n\n        /**\n         * 材质索引对象\n         * @type {object}\n         */\n        _this.textureDc = {};\n\n        /**\n         * 页面列表\n         * @type {Array}\n         */\n        _this.pages = [];\n        /**\n         * 页面索引字典\n         * @type {object}\n         */\n        _this.pageDc = {};\n\n        _this.on('fileLoad', _this._textureFileLoadEnd, _this);\n\n        //有初始化配置参数，就自动构建\n        if (config) {\n\n            var _load = opts.load != undefined ? opts.load : true;\n            _this.create(config, _load);\n        } else {\n\n            _this.slider.lock = true;\n        }\n\n        return _this;\n    }\n\n    (0, _createClass3.default)(ScrollLamp, [{\n        key: '_update',\n        value: function _update(e) {\n\n            // console.log('update:',  this.rotation);\n\n            if (!this.pages) return;\n\n            for (var i = 0; i < this.pages.length; i++) {\n\n                var _page = this.pages[i];\n                if (Math.abs(this.rotation - _page.rotation) < 90) {\n\n                    if (!_page.view.parent) this.view.add(_page.view);\n                } else {\n\n                    if (_page.view.parent) _page.view.parent.remove(_page.view);\n                }\n            }\n        }\n\n        /**\n         * 设置获取跑马灯操作是否锁定\n         * @return {boolean}\n         */\n\n    }, {\n        key: 'create',\n\n\n        /**\n         * 创建跑马灯页面\n         * @param {object} config 页面配置文件\n         * @param {boolean} load=true 是否立刻加载资源\n         */\n        value: function create(config, load) {\n\n            this.slider.lock = true;\n\n            this.pages = [];\n            this.pageDc = {};\n\n            //url索引list\n            this._loadTextureURLList = [];\n            //加载材质list\n            this._loadTextureList = [];\n            //添加材质更新 需要进行对象更新材质贴图列表\n            this._upMaterialObjects = {};\n\n            //清空所有子对象\n            // this.view.remove(this.view.children);\n\n            var _index = 0;\n\n            for (var pageName in config) {\n\n                var _cf = config[pageName];\n                //定义一个页面数据对象\n                var _pageData = {};\n                _pageData.name = pageName;\n                _pageData.index = _index;\n                _pageData.view = new THREE.Group();\n                _pageData.children = _cf.children || [];\n                // _pageData.box=new THREE.Group();\n                // _pageData.view.add(_pageData.box);\n                _pageData.view.rotation.y = -this.interval * (Math.PI / 180) * _index;\n                _pageData.rotation = this.interval * _index;\n                this.view.add(_pageData.view);\n                this.pages.push(_pageData);\n                this.pageDc[pageName] = _pageData;\n\n                if (_cf.bg) _pageData.bg = { src: _cf.bg, type: 'bg' };\n\n                this.addTextureList(_cf.bg);\n\n                //处理子元素加载材质\n                var _children = _pageData.children;\n                if (_children) {\n\n                    for (var j = 0; j < _children.length; j++) {\n\n                        var _obj = _children[j];\n                        // console.log('load children:',_obj);\n                        this.addTextureList(_obj.src);\n                    }\n                }\n\n                _index++;\n            }\n\n            this.slider.max = this.interval * (this.pages.length - 1);\n\n            //是否创建了跑马灯场景\n            this._createSceneBool = false;\n            //是否在配置处理后 执行过了开始加载\n            this._startLoadBool = false;\n\n            //配置是否立刻加载资源\n            if (load === undefined || load == true) this.startLoad();\n        }\n\n        /**\n         * 创建跑马灯场景，可以自行控制流程是否在load资源过程中就开始创建\n         */\n\n    }, {\n        key: 'createScene',\n        value: function createScene() {\n\n            if (!this.textureDc) {\n\n                console.error('还未执行加载资源，这时候创建场景不正确');\n                return;\n            }\n\n            if (this._createSceneBool) return;\n            this._createSceneBool = true;\n\n            console.log('createScene');\n\n            var _page = void 0,\n                _bg = void 0;\n            for (var i = 0; i < this.pages.length; i++) {\n                _page = this.pages[i];\n                _bg = _page.bg;\n                _bg.parent = _page;\n                // console.log(_bg);\n                if (_bg) {\n                    _bg.obj = this.createObject(_bg);\n                    _page.view.add(_bg.obj);\n                }\n\n                //处理子元素加载材质\n                var _children = _page.children;\n                if (_children) {\n\n                    for (var j = 0; j < _children.length; j++) {\n\n                        var _obj = _children[j];\n                        _obj.parent = _page;\n                        _obj.obj = this.createObject(_obj);\n                        _page.view.add(_obj.obj);\n                    }\n                }\n            }\n\n            this._update();\n            this.slider.lock = false;\n            /**\n             * 创建创建完成\n             * @event ds.threejs.ScrollLamp#createScene\n             */\n            this.ds('createScene');\n        }\n\n        /**\n         * 创建3d对象\n         * @param {object} data 创建3d对象配置参数\n         * @return {THREE.Object3D}\n         */\n\n    }, {\n        key: 'createObject',\n        value: function createObject(data) {\n\n            var _obj3d = void 0;\n            if (!data.src) {\n\n                //连材质都没有？直接给一个空显示容器对象先~！\n                _obj3d = new THREE.Group();\n                data.obj = _obj3d;\n                return data.obj;\n            }\n\n            var _map = null;\n\n            if (this.textureDc && this.textureDc[data.src] && this.textureDc[data.src].texture) {\n                _map = this.textureDc[data.src].texture;\n                data.texture = _map;\n            }\n\n            // console.log('_map',_map);\n\n            var _geometry = new THREE.PlaneGeometry(1, 1, 1);\n            var _material = new THREE.MeshBasicMaterial({\n                color: 0xffffff,\n                side: THREE.DoubleSide,\n                transparent: true,\n                alphaTest: 0.8,\n                map: _map\n            });\n            _material.needsUpdate = true;\n\n            data.material = _material;\n\n            if (data.blending) _material.blending = data.blending;\n            if (data.opacity !== undefined) _material.opacity = data.opacity;\n\n            //是否镜像\n            var _reverse = data.reverse !== undefined ? data.reverse : false;\n            //设置缩放比例\n            var _scale = data.s !== undefined ? data.s : 1;\n\n            _obj3d = new THREE.Mesh(_geometry, _material);\n\n            //旋转角度\n            //_obj3d.rotation.z = -(Math.PI / 180) * data.rotation || 0;\n            //镜像\n            if (_reverse) _obj3d.rotation.y = Math.PI;\n\n            if (data.type == 'bg') {\n\n                data.obj = _obj3d;\n            } else {\n\n                // console.log('createObject children1:', data,data.type );\n                data.obj = new THREE.Group();\n                data.obj2 = _obj3d;\n\n                var _angle = 0;\n\n                if (data.angle !== undefined) _angle = data.angle;else if (data.a !== undefined) _angle = data.a;\n\n                if (_angle >= this.interval) _angle = this.interval;\n                data.obj.rotation.y = -_angle * (Math.PI / 180);\n                data.obj.add(data.obj2);\n            }\n\n            if (_map) {\n\n                data.width = _map.image.width * _scale;\n                data.height = _map.image.height * _scale;\n                _obj3d.scale.set(data.width, data.height, 1);\n\n                // console.log('data.type:', data.type, data);\n                if (data.type == 'bg') {\n\n                    var _parent = data.parent;\n                    _parent.width = data.width;\n                    _parent.height = data.height;\n                    _obj3d.position.x = -data.width / 2;\n                } else {\n                    // console.log('createObject children2:', data);\n                    var _parent2 = data.parent;\n\n                    var _x = data.x || 0,\n                        _y = data.y || 0;\n                    data.obj2.position.x = _x + data.width / 2 - _parent2.width;\n                    data.obj2.position.y = -_y - data.height / 2 + _parent2.height / 2;\n                }\n            } else {\n                //材质还未加载，添加材质加载处理通知\n                if (!this._upMaterialObjects[data.src]) this._upMaterialObjects[data.src] = [];\n                var _arr = this._upMaterialObjects[data.src];\n                _arr.push(data);\n            }\n\n            //需要有动画 执行动画\n            if (data.movie) data.movie();\n\n            // console.log('createObject:',_obj3d);\n            return data.obj;\n        }\n\n        /**\n         * 一个材质加载完成\n         * @param e 事件对象\n         * e.data 材质信息\n         * ```js\n         * //纹理材质\n         * data.texture\n         * //图片路径\n         * data.src\n         * //加载的id\n         * data.id\n         * ```\n         * @private\n         */\n\n    }, {\n        key: '_textureFileLoadEnd',\n        value: function _textureFileLoadEnd(e) {\n\n            // let _data=e.data;\n            // let _src=_data.src;\n            var _arr = this._upMaterialObjects[e.data.src];\n            var _map = e.data.texture;\n            // console.log('_textureFileLoadEnd upMaterials:',_arr);\n            if (_arr) {\n\n                for (var i = 0; i < _arr.length; i++) {\n\n                    var _data = _arr[i];\n                    // console.log(_data);\n                    var _obj = _data.obj;\n                    var _material = _data.material;\n                    if (_material) {\n                        _data.texture = _map;\n                        _material.map = _map;\n                        if (_material.update) _material.update();\n                        _material.needsUpdate = true;\n                        var _scale = _data.s !== undefined ? _data.s : 1;\n                        _data.width = _map.image.width * _scale;\n                        _data.height = _map.image.height * _scale;\n                        _obj.scale.set(_data.width, _data.height, 1);\n                        if (_data.type == 'bg') {\n\n                            var _parent = _data.parent;\n                            _parent.width = _data.width;\n                            _parent.height = _data.height;\n                            _obj.position.x = -_data.width / 2;\n                        } else {\n\n                            console.log('createObject children3:', data);\n                            var _parent3 = _data.parent;\n                            var _x = _data.x || 0,\n                                _y = _data.y || 0;\n                            _data.obj2.position.x = _x + _data.width / 2 - _parent3.width;\n                            _data.obj2.position.y = -_y - _data.height / 2 + _parent3.height / 2;\n                        }\n                    }\n                }\n            }\n        }\n\n        /**\n         * 开始加载相关资源\n         */\n\n    }, {\n        key: 'startLoad',\n        value: function startLoad() {\n\n            if (this._startLoadBool) return;\n            this._startLoadBool = true;\n\n            console.log('loadTextureList:', this._loadTextureList.length);\n\n            var _self = this;\n\n            this.textureDc = _LoadManager2.default.loadTextures(this._loadTextureList,\n            //全部加载完成\n            function () {\n\n                console.log('complete');\n                /**\n                 * 资源全部加载完成\n                 * @event ds.threejs.ScrollLamp#complete\n                 */\n                _self.ds({ type: 'complete' });\n                //加载完成，创建场景，如果已经创建过不会再创建\n                _self.createScene();\n            },\n            //全部加载进度\n            function (progress) {\n\n                /**\n                 * 资源加载进度\n                 * @event ds.threejs.ScrollLamp#progress\n                 * @property {number} progress - 进度值\n                 */\n                _self.ds({ type: 'progress', progress: progress });\n            },\n            //单个材质加载完成\n            function (data) {\n\n                /**\n                 * 单个纹理材质加载完成\n                 * @event ds.threejs.ScrollLamp#fileLoad\n                 * @property {object} data - 单个纹理材质加载对象\n                 * ```js\n                 * //纹理材质\n                 * data.texture\n                 * //图片路径\n                 * data.src\n                 * //加载的id\n                 * data.id\n                 * ```\n                 */\n                _self.ds({ type: 'fileLoad', data: data });\n            });\n        }\n\n        /**\n         * 添加到加载材质list。在create前就传入，有助控制加载资源的顺序\n         * @param {string} src 加载资源url\n         */\n\n    }, {\n        key: 'addTextureList',\n        value: function addTextureList(src) {\n\n            if (!src) return;\n            if (this._loadTextureURLList.indexOf(src) === -1) {\n\n                var _loadData = {\n                    src: src,\n                    id: src\n                };\n\n                this._loadTextureList.push(_loadData);\n                this._loadTextureURLList.push(src);\n            }\n        }\n    }, {\n        key: 'lock',\n        get: function get() {\n            return this.slider.lock;\n        },\n        set: function set(value) {\n\n            this.slider.lock = value;\n        }\n    }, {\n        key: 'rotation',\n        get: function get() {\n            return this._rotation;\n        },\n        set: function set(value) {\n\n            // console.log('rotation:',value);\n            this._rotation = value;\n\n            this.view.rotation.y = Math.PI / 180 * this._rotation;\n        }\n    }]);\n    return ScrollLamp;\n}(_EventDispatcher3.default);\n\nvar root = typeof window !== 'undefined' ? window : (typeof process === 'undefined' ? 'undefined' : (0, _typeof3.default)(process)) === 'object' && \"function\" === 'function' && (typeof global === 'undefined' ? 'undefined' : (0, _typeof3.default)(global)) === 'object' ? global : undefined;\n\nvar ds = root.ds = root.ds || {};\nds.threejs = ds.threejs || {};\n\nds.threejs.ScrollLamp = ScrollLamp;\n\nexports.default = ScrollLamp;\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(15), __webpack_require__(8)))\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/ds/threejs/ScrollLamp.js\n// module id = 160\n// module chunks = 0\n\n//# sourceURL=webpack:///./src/ds/threejs/ScrollLamp.js?")},function(module,exports,__webpack_require__){"use strict";eval("/* WEBPACK VAR INJECTION */(function(process, global) {\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _typeof2 = __webpack_require__(9);\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nvar _getPrototypeOf = __webpack_require__(72);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(70);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(71);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(73);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(74);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _symbol = __webpack_require__(43);\n\nvar _symbol2 = _interopRequireDefault(_symbol);\n\nvar _EventDispatcher2 = __webpack_require__(69);\n\nvar _EventDispatcher3 = _interopRequireDefault(_EventDispatcher2);\n\nvar _PageSlider = __webpack_require__(162);\n\nvar _PageSlider2 = _interopRequireDefault(_PageSlider);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _upDateFrame = (0, _symbol2.default)(\"_upDateFrame\");\n\n/**\n * 平滑滑动改变距离\n * @class\n * @classdesc\n * @memberof ds.gemo\n * @author: maksim email:maksim.lin@foxmail.com\n */\n\nvar SliderDistance = function (_EventDispatcher) {\n    (0, _inherits3.default)(SliderDistance, _EventDispatcher);\n\n    /**\n     * 构造函数\n     * @param {*} target 目标变化对象\n     * @param {string} key 目标变化对象 滑动影响的参数值\n     * @param {object} opts 参数\n     * @param {number} [opts.type='v'] touch触发 是横向 还是纵向\n     * - 'v' 纵向\n     * - 'h' 横向\n     * @param {number} [opts.interval=2000] 间隔值,滑动变化元素与元素之间距离间隔值\n     * @param {number} [opts.max=10000] 最大距离值\n     * @param {number} [opts.min=0] 最小距离值\n     * @param {number} [opts.distance=opts.min] 默认初始化距离值\n     * @param {number} [opts.minSpeed=0] 最小运动速度\n     * @param {number} [opts.maxSpeed=10] 最大运动速度\n     * @param {number} [opts.speed=2] 运动速度\n     * @param {number} [opts.failure=0] 运动衰竭因子，设置成自运动过程中加速度会慢慢衰竭(speed-failure*speed)。 衰竭值设置在0-1之间 0是不衰竭 大于0才会衰竭。\n     * @param {boolean} [opts.touchDirection=true] 设置touch方向触发值`递增`还是`递减`\n     * @param {boolean} [opts.hasAutoMovie=true] 是否自动运动动画\n     * @param {boolean} [opts.autoMovieing=true] 是否激活自动运动动画\n     * @param {boolean} [opts.loop=true] 是否循环计算\n     * @param {boolean} [opts.reverse=false] 是否反向赋值\n     * @param {boolean} [opts.lock=false] 是否锁定\n     * @param {HTMLElement} [opts.touchDom=$('body')] 是否反向赋值\n     */\n    function SliderDistance(target, key, opts) {\n        (0, _classCallCheck3.default)(this, SliderDistance);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (SliderDistance.__proto__ || (0, _getPrototypeOf2.default)(SliderDistance)).call(this));\n\n        opts = opts || {};\n\n        /**\n         * 目标变化对象\n         */\n        _this.target = target;\n\n        /**\n         * 目标变化对象 滑动影响的参数值\n         */\n        _this.key = key;\n\n        /**\n         * 间隔值,滑动变化元素与元素之间距离间隔值\n         * @type {number}\n         */\n        _this.interval = opts.interval !== undefined ? opts.interval : 2000;\n\n        //记录开始时候的距离值\n        _this._touchStartDistance = 0;\n\n        //记录触摸开始时间\n        _this._touchStartTime = 0;\n\n        /**\n         * 设置touch方向触发值`递增`还是`递减`\n         * @type {boolean}\n         * @default true\n         */\n        _this.touchDirection = opts.touchDirection !== undefined ? opts.touchDirection : true;\n\n        /**\n         * 最大距离\n         * @type {number}\n         * @default 10000\n         */\n        _this.max = opts.max !== undefined ? opts.max : 10000;\n\n        /**\n         * 最小距离\n         * @type {number}\n         * @default 0\n         */\n        _this.min = opts.min !== undefined ? opts.min : 0;\n\n        //初始化距离值\n        _this._distance = opts.distance !== undefined ? opts.distance : _this.min;\n\n        /**\n         * 最大运动速度\n         * @type {number}\n         * @default 80\n         */\n        _this.maxSpeed = opts.maxSpeed !== undefined ? opts.maxSpeed : 10;\n        /**\n         * 最小运动速度\n         * @type {number}\n         * @default 0\n         */\n        _this.minSpeed = opts.minSpeed !== undefined ? opts.minSpeed : 0;\n        /**\n         * 当前运动加速度\n         * @type {number}\n         * @default 2\n         */\n        _this.speed = opts.speed !== undefined ? opts.speed : 2;\n\n        /**\n         * 是否自动运动动画\n         * @type {boolean}\n         * @default true\n         */\n        _this.hasAutoMovie = opts.hasAutoSpeed !== undefined ? opts.hasAutoSpeed : true;\n\n        //是否自动运动动画中\n        _this._autoMovieing = opts.autoMovieing !== undefined ? opts.autoMovieing : false;\n\n        /**\n         * 运动衰竭因数，设置成自运动过程中加速度会慢慢衰竭(speed-failure*speed)。 衰竭值设置在0-1之间 0是不衰竭 大于0才会衰竭。\n         * @type {number}\n         * @default 0\n         */\n        _this.failure = opts.failure !== undefined ? opts.failure : 0;\n\n        /**\n         * touch触发 是横向 还是纵向\n         * - 'v' 纵向\n         * - 'h' 横向\n         * @type {string}\n         * @default 'v'\n         */\n        _this.type = opts.type !== undefined ? opts.type : 'v';\n        /**\n         * 循环计算 在360 galley 这样类型应用中会用到\n         * @type {boolean}\n         * @default true\n         */\n        _this.loop = opts.loop !== undefined ? opts.loop : false;\n\n        /**\n         * 是否反向赋值\n         * @type {boolean}\n         */\n        _this.reverse = opts.reverse !== undefined ? opts.reverse : false;\n\n        //计算拖拽计算距离 一般使用window宽或者高\n        if (opts.touchDistance) _this._touchDistance = opts.touchDistance;else _this._touchDistance = _this.type == 'v' ? window.innerHeight : window.innerWidth;\n\n        //进行拖拽用dom元素\n        _this._touchDom = opts.touchDom !== undefined ? $(opts.touchDom) : $('body');\n\n        //是否在运动中\n        _this._tweening = false;\n\n        _this._lock = opts.lock !== undefined ? opts.lock : false;\n\n        /**\n         * 平滑拖动处理对象\n         * @type {ds.gemo.PageSlider}\n         */\n        _this.slider = new _PageSlider2.default(_this._touchDom);\n\n        // this[_sliderTouchStart] = sliderTouchStart.bind(this);\n        // this[_sliderTouchMovie] = sliderTouchMovie.bind(this);\n        // this[_sliderTouchEnd] = sliderTouchEnd.bind(this);\n\n        _this.slider.on('start', _this._sliderTouchStart, _this);\n        _this.slider.on('move', _this._sliderTouchMovie, _this);\n        _this.slider.on('end', _this._sliderTouchEnd, _this);\n\n        _this[_upDateFrame] = updateFrame.bind(_this);\n        _this[_upDateFrame]();\n\n        return _this;\n    }\n\n    (0, _createClass3.default)(SliderDistance, [{\n        key: '_sliderTouchStart',\n        value: function _sliderTouchStart(e) {\n\n            this._touchStartDistance = this.target[this.key];\n\n            if (this.reverse) this._touchStartDistance = -this._touchStartDistance;\n            this._distance = this._touchStartDistance;\n            // console.log('sliderTouchStart touchStartDistance:',this._touchStartDistance);\n            //运动中不做\n            if (this._tweening) return;\n            //锁住不做更改\n            if (this.lock) return;\n\n            /**\n             * 开始touch\n             * @event ds.gemo.SliderDistance#start\n             *\n             */\n            this.ds('start');\n\n            //设置不自运动\n            this._autoMovieing = false;\n            this._touchStartTime = new Date().getTime();\n        }\n    }, {\n        key: '_sliderTouchMovie',\n        value: function _sliderTouchMovie(e) {\n\n            // console.log('_sliderTouchMovie');\n            //运动中不做\n            if (this._tweening) return;\n            //锁住不做更改\n            if (this.lock) return;\n\n            if (this.type == 'v') {\n                //只计算纵向滚动 不是上下滑动忽略\n                if (!e.upright) return;\n            } else {\n                //只计算横向滚动 不是横向滚动忽略\n                if (!e.level) return;\n            }\n\n            if (this._touchStartDistance === null) this._touchStartDistance = this.target[this.key];\n\n            this._autoMovieing = false;\n\n            //偏移量\n            var _diff = void 0;\n            _diff = this.touchDirection ? e.diff : -e.diff;\n\n            // console.log(_diff);\n\n\n            //计算偏移的百分比\n            var _diffPercent = _diff / this._touchDistance; //滑动方向偏移量\n            //偏移的百分比正数\n            var _percent = Math.abs(_diffPercent);\n\n            //计算距离\n            var _distance = this._touchStartDistance + this.interval * _diffPercent;\n\n            // console.log(_diff,_diffPercent,_distance);\n\n            this._distance = _distance;\n\n            if (this.loop) {\n                if (this._distance < this.min) this._distance = this.max - (this.min - this._distance);\n                if (this._distance > this.max) this._distance = this.min + (this._distance - this.max);\n            } else {\n                if (this._distance <= this.min) this._distance = this.min;\n                if (this._distance > this.max) this._distance = this.max;\n            }\n\n            /**\n             * 拖动中\n             * @event ds.gemo.SliderDistance#move\n             */\n            this.ds('move');\n\n            this.distanceUpdate();\n        }\n    }, {\n        key: '_sliderTouchEnd',\n        value: function _sliderTouchEnd(e) {\n\n            if (this.lock) {\n\n                this._touchStartDistance = null;\n                return;\n            }\n\n            if (this.hasAutoMovie) this.sliderEndAutoMove();\n\n            /**\n             * 拖动完成\n             * @event ds.gemo.SliderDistance#end\n             */\n            this.ds('end');\n        }\n    }, {\n        key: 'distanceUpdate',\n        value: function distanceUpdate() {\n\n            if (!this.loop) {\n                /**\n                 * 到最小距离\n                 * @event ds.gemo.SliderDistance#toMin\n                 * @property {number} value - 当前距离值\n                 */\n                if (this._distance <= this.min) this.ds({ type: 'toMin', value: this._distance });\n                /**\n                 * 到最大距离\n                 * @event ds.gemo.SliderDistance#toMax\n                 * property {number} value - 当前距离值\n                 */\n                if (this._distance >= this.max) this.ds({ type: 'toMax', value: this._distance });\n            }\n\n            // console.log(this.target[this.key]);\n            if (this.target && this.target[this.key] !== undefined) {\n\n                if (this.reverse) this.target[this.key] = -this._distance;else this.target[this.key] = this._distance;\n            }\n\n            /**\n             * 距离更新\n             * @event ds.gemo.SliderDistance#update\n             * @property {number} value - 当前距离值\n             */\n            this.ds({ type: 'update', value: this._distance });\n        }\n    }, {\n        key: 'sliderEndAutoMove',\n        value: function sliderEndAutoMove() {\n\n            var _time = new Date().getTime() - this._touchStartTime;\n            var _dc = this._touchStartDistance - this._distance;\n            //判断方向\n            var _bool = this._touchStartDistance < this._distance ? true : false;\n\n            if (this.loop) {\n\n                if (this._touchStartDistance <= this.min + this.interval && this._distance >= this.max - this.interval) _bool = !_bool;\n                if (this._touchStartDistance >= this.max - this.interval && this._distance <= this.min + this.interval) _bool = !_bool;\n            }\n\n            //判断拖动距离百分比\n            var _pr = Math.abs(_dc / (this.touchDirection * 0.4));\n            //百分比不能超过1\n            if (_pr >= 1) _pr = 1;\n            //计算速度\n            var _speed = this.minSpeed + _pr * (this.maxSpeed - this.minSpeed);\n            //最大速度判断\n            _speed = Math.min(_speed, this.maxSpeed);\n            //最小速度判断\n            _speed = Math.max(_speed, this.minSpeed);\n\n            if (_pr === 0) _speed = 0;\n\n            // console.log('方向',_bool,_dc,_pr,_speed,_time);\n\n            if (_time >= 600) {\n                if (_bool) this.speed = this.minSpeed;else this.speed = -this.minSpeed;\n            } else {\n                if (_bool) this.speed = _speed;else this.speed = -_speed;\n            }\n\n            // console.log('sliderEndAutoMove:',this.speed);\n\n            this._autoMovieing = true;\n            this[_upDateFrame]();\n            this._touchStartDistance = null;\n\n            /**\n             * 开始自动播放\n             * @event ds.gemo.SliderDistance#autoMovie\n             */\n            this.ds('autoMovie');\n        }\n\n        /**\n         * 控制距离运动\n         * 有TweenMax会优先使用TweenMax引擎\n         * @param {number} value 运动的距离值\n         * @param {number} time 运动使用时间\n         * @param {object} tweenData JT或者TweenMax引擎配置参数\n         * @param {function} tweenData.end 运动完成后执行function\n         *\n         */\n\n    }, {\n        key: 'tweenMovie',\n        value: function tweenMovie(value, time, tweenData) {\n\n            if (this._tweening) return;\n            var _obj = { value: this._distance };\n            var _oldLock = this.lock;\n\n            this._autoMovieing = false;\n\n            tweenData = tweenData || {};\n\n            var _end = tweenData.end;\n            tweenData.end = null;\n\n            var _self = this;\n\n            if (window['TweenMax']) {\n\n                this._tweening = true;\n                this.lock = true;\n                tweenData.value = value;\n                tweenData.onUpdate = function () {\n                    _self._distance = _obj.value;\n                    _self.distanceUpdate();\n                };\n\n                tweenData.onComplete = function () {\n                    _self._distance = _obj.value;\n                    _self.distanceUpdate();\n                    _self._tweening = false;\n                    _self.lock = _oldLock;\n                    if (_end) _end();\n                };\n\n                TweenMax.to(_obj, time, tweenData);\n            } else if (window['JT']) {\n\n                this._tweening = true;\n                this.lock = true;\n\n                tweenData.value = value;\n                tweenData.onUpdate = function () {\n                    _Distance = _obj.value;\n                    DistanceUpDate();\n                };\n                tweenData.onEnd = function () {\n                    _self._distance = _obj.value;\n                    _self.distanceUpdate();\n                    _self._tweening = false;\n                    _self.lock = _oldLock;\n                    if (_end) _end();\n                };\n\n                JT.to(_obj, time, tweenData);\n            }\n        }\n    }, {\n        key: 'lock',\n        get: function get() {\n            return this._lock;\n        },\n        set: function set(value) {\n\n            this._lock = value;\n            this._autoMovieing = false;\n\n            this[_upDateFrame]();\n        }\n    }, {\n        key: 'minSpeed',\n        set: function set(value) {\n\n            if (value <= 0) value = 0;\n            this._minSpeed = value;\n        },\n        get: function get() {\n\n            return this._minSpeed;\n        }\n    }, {\n        key: 'failure',\n        set: function set(value) {\n\n            if (value <= 0) value = 0;\n            if (value >= 1) value = 1;\n            this._failure = value;\n        },\n        get: function get() {\n\n            return this._failure;\n        }\n    }]);\n    return SliderDistance;\n}(_EventDispatcher3.default);\n\nfunction updateFrame() {\n    //运动中不做\n    if (this._tweening) return;\n    //锁住 跳过\n    if (this.lock) return;\n    //没有自运动中\n    if (!this._autoMovieing) return;\n\n    if (this.failure > 0) {\n\n        if (Math.abs(this.speed) >= this.failure) this.speed = this.speed - this.failure * this.speed;else this.speed = 0;\n    }\n\n    if (this.speed === 0) {\n\n        this._autoMovieing = false;\n        return;\n    }\n\n    this._distance += this.speed;\n\n    if (!this.loop) {\n\n        if (this._distance <= this.min) {\n\n            this._distance = this.min;\n            this._autoMovieing = false;\n        }\n        if (this._distance >= this.max) {\n\n            this._distance = this.max;\n            this._autoMovieing = false;\n        }\n    } else {\n\n        if (this._distance < this.min) this._distance = this.max - (this.min - this._distance);\n        if (this._distance > this.max) this._distance = this.min + (this._distance - this.max);\n    }\n\n    this.distanceUpdate();\n\n    requestAnimationFrame(this[_upDateFrame]);\n}\n\nvar root = typeof window !== 'undefined' ? window : (typeof process === 'undefined' ? 'undefined' : (0, _typeof3.default)(process)) === 'object' && \"function\" === 'function' && (typeof global === 'undefined' ? 'undefined' : (0, _typeof3.default)(global)) === 'object' ? global : undefined;\n\nvar ds = root.ds = root.ds || {};\nds.gemo = ds.gemo || {};\nds.gemo.SliderDistance = SliderDistance;\n\nexports.default = SliderDistance;\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(15), __webpack_require__(8)))\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/ds/gemo/SliderDistance.js\n// module id = 161\n// module chunks = 0\n\n//# sourceURL=webpack:///./src/ds/gemo/SliderDistance.js?")},function(module,exports,__webpack_require__){"use strict";eval("/* WEBPACK VAR INJECTION */(function(process, global) {\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _typeof2 = __webpack_require__(9);\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nvar _getPrototypeOf = __webpack_require__(72);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(70);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(71);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(73);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(74);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _symbol = __webpack_require__(43);\n\nvar _symbol2 = _interopRequireDefault(_symbol);\n\nvar _EventDispatcher2 = __webpack_require__(69);\n\nvar _EventDispatcher3 = _interopRequireDefault(_EventDispatcher2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _scenesTouchstart = (0, _symbol2.default)(\"_scenesTouchstart\");\nvar _scenesTouchmove = (0, _symbol2.default)(\"_scenesTouchmove\");\nvar _scenesTouchend = (0, _symbol2.default)(\"_scenesTouchend\");\n\n/**\n * 平滑touch滑动\n *\n * @class\n * @classdesc 平滑touch基础实现:可以用在很多地方，页面滑动翻页，360画廊浏览等等。\n * - 惯性滑动与滑动后自运动，根据实际需求自行实现\n * - 快速便捷触摸运动方案 还可使用 [AlloyTouch](https://github.com/AlloyTeam/AlloyTouch)\n * @memberof ds.gemo\n * @author: maksim email:maksim.lin@foxmail.com\n *\n */\n\nvar PageSlider = function (_EventDispatcher) {\n    (0, _inherits3.default)(PageSlider, _EventDispatcher);\n\n    /**\n     *\n     * @param {HTMLElement|string} touchDom touch触发的dom对象\n     * @param {object} opts  配置\n     * @param {number} [opts.limit=10]  touch滑动灵敏度判断\n     * @param {boolean} [opts.lock=false]  是否锁定\n     */\n    function PageSlider(touchDom, opts) {\n        (0, _classCallCheck3.default)(this, PageSlider);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (PageSlider.__proto__ || (0, _getPrototypeOf2.default)(PageSlider)).call(this));\n\n        _this.scenes = $(touchDom);\n\n        //开始Y\n        _this._startY = 0;\n        //结束Y\n        _this._endY = 0;\n        //开始X\n        _this._startX = 0;\n        //结束X\n        _this._endX = 0;\n        //改变X\n        _this._diffX = 0;\n        //改变Y\n        _this._diffY = 0;\n        //判断方向的最小滑动距离\n        _this._limit = 10;\n\n        //是否上下滑动\n        _this._upright = false;\n        //是否左右滑动\n        _this._level = false;\n        //是否正在滑动\n        _this._sliding = false;\n        //是否扑捉到touch\n        _this._capture = false;\n        //记录touch的id\n        _this._touchid = null;\n\n        //开始touch时间\n        _this._startTime = null;\n\n        /**\n         * 是否锁定\n         * @type {boolean}\n         */\n        _this.lock = false;\n\n        opts = opts || {};\n\n        if (opts.limit) _this._limit = opts.limit;\n        if (opts.lock !== undefined) _this.lock = opts.lock;\n\n        _this[_scenesTouchstart] = scenesTouchstart.bind(_this);\n        _this.scenes.on('touchstart', _this[_scenesTouchstart]);\n\n        _this[_scenesTouchmove] = scenesTouchmove.bind(_this);\n        _this.scenes.on('touchmove', _this[_scenesTouchmove]);\n\n        _this[_scenesTouchend] = scenesTouchend.bind(_this);\n        _this.scenes.on('touchend', _this[_scenesTouchend]);\n        _this.scenes.on('touchcancel', _this[_scenesTouchend]);\n\n        return _this;\n    }\n\n    /**\n     * 开启惯性滑动，具体惯性逻辑需要自行实现。这个方法会阻止之后touch，在惯性逻辑完成后需要执行 closeInertialSlider();\n     */\n\n\n    (0, _createClass3.default)(PageSlider, [{\n        key: \"openInertialSlider\",\n        value: function openInertialSlider() {\n            this._sliding = true;\n            this._capture = false;\n        }\n\n        /**\n         * 关闭惯性滑动\n         */\n\n    }, {\n        key: \"closeInertialSlider\",\n        value: function closeInertialSlider() {\n            this._sliding = true;\n            this._capture = false;\n        }\n    }]);\n    return PageSlider;\n}(_EventDispatcher3.default);\n\nfunction scenesTouchstart(e) {\n\n    // console.log('scenesTouchstart');\n    if (this.lock) return;\n\n    var _targetTouches = e.targetTouches || e.originalEvent.targetTouches;\n    var _touch = _targetTouches[0];\n    // console.log(touch.identifier,_touchid);\n\n    if (this._touchid === null) this._touchid = _touch.identifier;\n    if (this._touchid !== _touch.identifier) return;\n\n    // let target = $(e.target);\n\n    if (this._capture) return;\n\n    if (!this._sliding) {\n\n        this._capture = true;\n\n        this._startTime = new Date().getTime();\n\n        this._startY = _touch.pageY;\n        this._startX = _touch.pageX;\n        this._endY = 0;\n        this._endX = 0;\n        this._diffY = 0;\n        this._diffX = 0;\n        this._level = false;\n        this._upright = false;\n\n        /**\n         * 开始touch\n         * @event ds.gemo.PageSlider#start\n         * @property {number} startX - 开始的touch x点\n         * @property {number} startY - 开始的touch y点\n         * @property {number} mouseX - 开始的touch x点\n         * @property {number} mouseY - 开始的touch y点\n         * @property {number} startTime - 开始拖动时间\n         */\n        this.ds({\n            type: 'start',\n            startX: this._startX,\n            startY: this._startY,\n            mouseX: this._startX,\n            mouseY: this._startY,\n            startTime: this._startTime\n        });\n    }\n}\n\nfunction scenesTouchmove(e) {\n\n    // console.log('scenesTouchmove:',e);\n\n\n    if (this.lock) return;\n\n    //console.log(sliding)\n    var _targetTouches = e.targetTouches || e.originalEvent.targetTouches;\n    var _touch = _targetTouches[0];\n\n    if (this._touchid === null) this._touchid = _touch.identifier;\n    if (this._touchid !== _touch.identifier) return;\n\n    if (!this._sliding && this._capture) {\n\n        e.preventDefault();\n\n        this._endX = _touch.pageX;\n        this._endY = _touch.pageY;\n\n        this._diffX = this._endX - this._startX;\n        this._diffY = this._endY - this._startY;\n\n        if (!this._level && !this._upright) {\n\n            if (Math.abs(this._diffX) >= this._limit && Math.abs(this._diffX) > Math.abs(this._diffY)) {\n\n                this._level = true;\n                this._upright = false;\n            } else if (Math.abs(this._diffY) >= this._limit && Math.abs(this._diffX) < Math.abs(this._diffY)) {\n\n                this._level = false;\n                this._upright = true;\n            } else {\n\n                this._level = false;\n                this._upright = false;\n            }\n        }\n\n        /**\n         * 运动中\n         * @event ds.gemo.PageSlider#move\n         * @property {boolean} level - 横向\n         * @property {boolean} upright - 纵向\n         * @property {number} diff - 运动偏移值\n         */\n        //如果是纵向滑动\n        if (this._upright) {\n\n            this._diffY = this._diffY > 0 ? this._diffY - this._limit : this._diffY + this._limit;\n\n            this.ds({\n                type: 'move',\n                level: false,\n                upright: true,\n                diff: this._diffY\n            });\n        }\n        //如果是横向滑动\n        if (this._level) {\n\n            this._diffX = this._diffX > 0 ? this._diffX - this._limit : this._diffX + this._limit;\n\n            this.ds({\n                type: 'move',\n                level: true,\n                upright: false,\n                diff: this._diffX\n            });\n        }\n    }\n\n    /**\n     * touchmove 事件\n     * @event ds.gemo.PageSlider#touchmove\n     * @property {object} oe - 原时间event对象\n     * @property {number} mouseX - touch对象pageX\n     * @property {number} mouseY - touch对象pageY\n     */\n    this.ds({\n        type: 'touchmove',\n        oe: e,\n        mouseX: _touch.pageX,\n        mouseY: _touch.pageY\n    });\n}\n\nfunction scenesTouchend(e) {\n\n    var _targetTouches = e.targetTouches || e.originalEvent.targetTouches;\n    var _touch = _targetTouches[0];\n\n    if (_touch && _touch.identifier && this._touchid !== _touch.identifier) return;\n\n    this._touchid = null;\n\n    var _endTime = new Date().getTime();\n\n    this._capture = false;\n\n    /**\n     * 拖动完成\n     * @event ds.gemo.PageSlider#end\n     * @property {boolean} level - 结束时候拖动方向是否横向\n     * @property {boolean} upright - 结束时候拖动方向是否纵向\n     * @property {number} endTime - 结束拖动时间\n     * @property {number} startTime - 开始拖动时间\n     */\n    this.ds({\n        type: 'end',\n        level: this._level,\n        upright: this._upright,\n        endTime: _endTime,\n        startTime: this._startTime\n    });\n}\n\nvar root = typeof window !== 'undefined' ? window : (typeof process === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(process)) === 'object' && \"function\" === 'function' && (typeof global === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(global)) === 'object' ? global : undefined;\n\nvar ds = root.ds = root.ds || {};\nds.gemo = ds.gemo || {};\nds.gemo.PageSlider = PageSlider;\n\nexports.default = PageSlider;\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(15), __webpack_require__(8)))\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/ds/gemo/PageSlider.js\n// module id = 162\n// module chunks = 0\n\n//# sourceURL=webpack:///./src/ds/gemo/PageSlider.js?")},function(module,exports){eval('module.exports = "<div> <div class=ThreejsPage> back Home </div> <style>.ThreejsPage{position:absolute;right:20px;top:20px;background:#c7254e;color:#fff;line-height:50px;text-align:center;font-size:25px;width:200px;height:50px}</style> </div>";\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/pages/ThreejsPage.html\n// module id = 163\n// module chunks = 0\n\n//# sourceURL=webpack:///./src/app/pages/ThreejsPage.html?')},function(module,exports,__webpack_require__){"use strict";eval("/* WEBPACK VAR INJECTION */(function(process, global) {\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _typeof2 = __webpack_require__(9);\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nvar _getPrototypeOf = __webpack_require__(72);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(70);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(71);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(73);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(74);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _EventDispatcher2 = __webpack_require__(69);\n\nvar _EventDispatcher3 = _interopRequireDefault(_EventDispatcher2);\n\nvar _GalleryAnnularLoopManager = __webpack_require__(165);\n\nvar _GalleryAnnularLoopManager2 = _interopRequireDefault(_GalleryAnnularLoopManager);\n\nvar _touchMin = __webpack_require__(107);\n\nvar _touchMin2 = _interopRequireDefault(_touchMin);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * 环形作品画廊\n * @memberof ds.createjs\n * @requires module:ds/core/EventDispatcher.js\n * @requires module:ds/gemo/GalleryAnnularLoopManager.js\n * @requires module:libs/touch/touch.min.js\n */\nvar GalleryLooper = function (_EventDispatcher) {\n    (0, _inherits3.default)(GalleryLooper, _EventDispatcher);\n\n    /**\n     * 构造函数\n     * @param {createjs.Container} display 显示容器，同时也作为运动显示动画皮肤使用\n     * 显示容器的皮肤资源结构制作参考\n     * ```js\n     *                                     ----------\n     *                         ------     |          |     ------\n     *    [  beforeOut ]      | mc0  |    |    mc1   |    | mc2  |       [  afterOut ]\n     *                         ------      ----------      ------\n     * ```\n     * @param {array} list=undefined 显示对象列表\n     * @param {number} showNum=3 显示个数\n     * @param {object} opts={}  配置参数\n     * @param {boolean} opts.filters=false 是否支持滤镜效果附加\n     * @param {HTMLElement} opts.dom 滑动触摸的dom元素，默认是$('body')[0]\n     * @param {boolean} opts.vertical=false 滑动触摸反馈是 垂直 或者 横向。\n     * @param {boolean} opts.autoInit=true 是否马上自动构建\n     * @param {number} opts.time=0.5 运动时间\n     * @param {boolean} opts.isSkin=false 是否只是作为参考皮肤，实际显示对象元素重新创建\n     */\n    function GalleryLooper(display, list, showNum, opts) {\n        (0, _classCallCheck3.default)(this, GalleryLooper);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (GalleryLooper.__proto__ || (0, _getPrototypeOf2.default)(GalleryLooper)).call(this));\n\n        var _self = _this;\n        opts = opts || {};\n        var _showNum = showNum || 3;\n        _this._showNum = _showNum;\n\n        var _box = display;\n\n        var _isSkin = opts.isSkin !== undefined ? opts.isSkin : false;\n        if (!_isSkin) {\n            _this._box = _box;\n        } else {\n            _this._box = new createjs.Container();\n            var _parent = _box.parent;\n            if (_box.parent) _box.parent.removeChild(_box);\n            _parent.addChild(_this._box);\n            _this._box.x = _box.x;\n            _this._box.y = _box.y;\n            _this._box.scaleX = _box.scaleX;\n            _this._box.scaleY = _box.scaleY;\n        }\n\n        _this._filters = opts.filters !== undefined ? opts.filters : true;\n\n        _this._list = list || [];\n\n        //触摸事件的dom元素\n        var _touchDom = opts.dom !== undefined ? $(opts.dom)[0] : $('body')[0];\n        _this._time = opts.time !== undefined ? opts.time : 0.5;\n\n        /**\n         * 是否锁定\n         * @type {boolean}\n         */\n        _this.lock = false;\n\n        //是否运动中\n        _this._movieing = false;\n\n        //左消失\n        var _beforeOut = _box.beforeOut;\n        _this._beforeOut = _beforeOut;\n        //右消失\n        var _afterOut = _box.afterOut;\n        _this._afterOut = _afterOut;\n\n        if (!_afterOut || !_beforeOut) {\n\n            console.warn('消失参考容器不能为空');\n            return (0, _possibleConstructorReturn3.default)(_this);\n        }\n\n        //参考排列\n        var _referenceArr = [];\n        _this._referenceArr = _referenceArr;\n\n        for (var i = 0; i < _showNum; i++) {\n\n            var _rf = _box['mc' + i];\n\n            if (!_rf) {\n\n                console.warn('显示对象参考皮肤错误 mc:', i);\n                return (0, _possibleConstructorReturn3.default)(_this);\n            }\n            _rf.parent.removeChild(_rf);\n            _rf.visible = false;\n\n            _referenceArr.push(_rf);\n        }\n\n        _this._vertical = opts.vertical !== undefined ? opts.vertical : false;\n        //触摸\n        touch.on(_touchDom, 'swipeleft', function () {\n\n            if (!_self._vertical) _self.next();\n        });\n        touch.on(_touchDom, 'swiperight', function () {\n\n            if (!_self._vertical) _self.previous();\n        });\n        touch.on(_touchDom, 'swipedown', function () {\n\n            if (_self._vertical) _self.previous();\n        });\n        touch.on(_touchDom, 'swipeup', function () {\n\n            if (_self._vertical) _self.next();\n        });\n\n        _this._galleryAnnularLoopManager = new _GalleryAnnularLoopManager2.default(null, _showNum);\n\n        _this._initBool = false;\n        _this._autoInit = opts.autoInit !== undefined ? opts.autoInit : true;\n        if (_this._autoInit) _this._init();\n\n        return _this;\n    }\n\n    /**\n     * 初始化\n     */\n\n\n    (0, _createClass3.default)(GalleryLooper, [{\n        key: '_init',\n        value: function _init() {\n\n            if (this._initBool) return;\n            this._initBool = true;\n\n            var _self = this;\n\n            // console.log('_init');\n            //清空显示容器\n            this._box.removeAllChildren();\n\n            //监听事件\n            this._galleryAnnularLoopManager.on('update', this._updata, this);\n            //初始化数据\n            this._galleryAnnularLoopManager.initData(this._list);\n        }\n\n        /**\n         * 初始化数据\n         * @param {array} list 初始化显示对象列表\n         */\n\n    }, {\n        key: 'initList',\n        value: function initList(list) {\n\n            this._list = list;\n            this._box.removeAllChildren();\n            this._galleryAnnularLoopManager.initData(this._list);\n        }\n\n        /**\n         * 设置选择显示对象\n         * @param {number|*} value\n         */\n\n    }, {\n        key: 'select',\n        value: function select(value) {\n            if (this.lock) return;\n            if (this._movieing) return;\n            console.log('select:', value);\n            this._galleryAnnularLoopManager.select(value);\n        }\n    }, {\n        key: '_updata',\n        value: function _updata(e) {\n\n            if (!e) return;\n            if (this._movieing) return;\n            this._movieing = true;\n            var i = void 0,\n                _mc = void 0,\n                _rf = void 0,\n                _nows = void 0,\n                _olds = void 0;\n            var _box = this._box;\n            var _self = this;\n            var _spaceNum = this._galleryAnnularLoopManager.spaceNum;\n\n            // console.log('_updata:',_spaceNum, e);\n\n            if (e.isInit) {\n\n                _box.removeAllChildren();\n                _nows = e.now;\n                for (i = 0; i < _nows.length; i++) {\n                    _mc = _nows[i];\n                    if (_mc) {\n                        _rf = this._referenceArr[i];\n                        if (_rf.parent) _rf.parent.removeChild(_rf);\n                        _mc.scaleX = _rf.scaleX;\n                        _mc.scaleY = _rf.scaleY;\n                        _mc.x = _rf.x;\n                        _mc.y = _rf.y;\n\n                        //是否更新滤镜\n                        if (this._filters) this._upFilters(_mc, _rf);\n                        _box.addChild(_mc);\n                        if (i < _spaceNum) _mc._swapIndex = i;else if (i == _spaceNum) _mc._swapIndex = _spaceNum + 2;else _mc._swapIndex = _spaceNum + (_spaceNum - i);\n                        // console.log(_mc._swapIndex);\n                    }\n                }\n                //显示层级排列\n                _box.sortChildren(this._sortSwapIndexFunction);\n                this._movieing = false;\n            } else {\n\n                _nows = e.now;\n                _olds = e.old;\n                var _time = this._time;\n                var _outMc = e.direction ? this._beforeOut : this._afterOut;\n                var _inMc = e.direction ? this._afterOut : this._beforeOut;\n\n                //对原显示对象做运动\n                for (i = 0; i < _olds.length; i++) {\n                    _mc = _olds[i];\n\n                    _mc._swapIndex = -_spaceNum * 5;\n                    if (_nows.indexOf(_mc) === -1 && _mc) {\n                        JT.to(_mc, _time, {\n                            x: _outMc.x,\n                            y: _outMc.y,\n                            alpha: _outMc.alpha,\n                            scaleX: _outMc.scaleX,\n                            scaleY: _outMc.scaleY,\n                            onEnd: function onEnd(temp) {\n                                if (temp.parent) temp.parent.removeChild(temp);\n                            },\n                            onEndParams: [_mc]\n                        });\n                    }\n                }\n\n                for (i = 0; i < _nows.length; i++) {\n                    _mc = _nows[i];\n                    _rf = this._referenceArr[i];\n                    if (_rf.parent) _rf.parent.removeChild(_rf);\n                    //是否更新滤镜\n                    if (this._filters) this._upFilters(_mc, _rf);\n\n                    if (_olds.indexOf(_mc) === -1) {\n\n                        JT.set(_mc, {\n                            x: _inMc.x,\n                            y: _inMc.y,\n                            alpha: _inMc.alpha,\n                            scaleX: _inMc.scaleX,\n                            scaleY: _inMc.scaleY\n                        });\n                        _box.addChild(_mc);\n                    }\n\n                    JT.to(_mc, _time, {\n                        x: _rf.x,\n                        y: _rf.y,\n                        alpha: _rf.alpha,\n                        scaleX: _rf.scaleX,\n                        scaleY: _rf.scaleY,\n                        onEnd: function onEnd(value) {\n                            _self._movieEnd(value);\n                        },\n                        onEndParams: [i]\n                    });\n\n                    if (i < _spaceNum) {\n                        _mc._swapIndex = i;\n                        _box.addChildAt(_mc, i);\n                    } else if (i == _spaceNum) {\n                        _mc._swapIndex = _spaceNum + 2;\n                        _box.addChildAt(_mc, _box.children.length - 1);\n                    } else {\n                        _mc._swapIndex = _spaceNum + (_spaceNum - i);\n                        _box.addChildAt(_mc, _mc._swapIndex);\n                    }\n\n                    console.log(_mc._swapIndex);\n                }\n\n                //显示层级排列\n                _box.sortChildren(this._sortSwapIndexFunction);\n            }\n\n            this.ds(e);\n        }\n\n        //根据层级进行排列算法\n\n    }, {\n        key: '_sortSwapIndexFunction',\n        value: function _sortSwapIndexFunction(obj1, obj2, options) {\n            if (obj1._swapIndex > obj2._swapIndex) {\n                return 1;\n            }\n            if (obj1._swapIndex < obj2._swapIndex) {\n                return -1;\n            }\n            return 0;\n        }\n\n        //动画播放完成\n\n    }, {\n        key: '_movieEnd',\n        value: function _movieEnd(value) {\n            //动画是否播放完成\n            if (value === 1) {\n                this._movieing = false;\n                this.ds('movieEnd');\n            }\n        }\n    }, {\n        key: '_upFilters',\n        value: function _upFilters(mc, rf) {\n            if (rf.filters && rf.filters.length >= 1) {\n                mc.filters = rf.filters;\n                if (mc.cacheCanvas) {\n                    mc.updateCache();\n                } else {\n\n                    var _rect = rf.getBounds();\n                    _rect.width = _rect.width || rf.cacheCanvas.width;\n                    _rect.height = _rect.height || rf.cacheCanvas.height;\n                    mc.cache(_rect.x, _rect.y, _rect.width, _rect.height);\n                }\n            } else {\n                mc.filters = [];\n                mc.uncache();\n            }\n        }\n\n        /**\n         * 下一个\n         */\n\n    }, {\n        key: 'next',\n        value: function next() {\n            if (this.lock) return;\n            if (this._movieing) return;\n            this._galleryAnnularLoopManager.next();\n        }\n\n        /**\n         * 上一个\n         */\n\n    }, {\n        key: 'previous',\n        value: function previous() {\n            if (this.lock) return;\n            if (this._movieing) return;\n            this._galleryAnnularLoopManager.previous();\n        }\n\n        /**\n         * 显示数据列表\n         * @return {array}\n         */\n\n    }, {\n        key: 'list',\n        get: function get() {\n            return this._list;\n        }\n\n        /**\n         * 当前显示的对象\n         * @return {number}\n         */\n\n    }, {\n        key: 'selectObj',\n        get: function get() {\n            return this._galleryAnnularLoopManager.selectObj;\n        }\n\n        /**\n         * 当前数据索引\n         * @return {number}\n         */\n\n    }, {\n        key: 'index',\n        get: function get() {\n            return this._galleryAnnularLoopManager.index;\n        }\n\n        /**\n         * 逻辑管理器\n         * @return {ds.gemo.GalleryAnnularLoopManager}\n         */\n\n    }, {\n        key: 'manager',\n        get: function get() {\n            return this._galleryAnnularLoopManager;\n        }\n\n        /**\n         * 是否运动中\n         * @return {boolean}\n         */\n\n    }, {\n        key: 'movieing',\n        get: function get() {\n            return this._movieing;\n        }\n\n        /**\n         * 显示多个内容\n         * @return {number}\n         */\n\n    }, {\n        key: 'showNum',\n        get: function get() {\n            return this._showNum;\n        }\n    }]);\n    return GalleryLooper;\n}(_EventDispatcher3.default);\n\nvar root = typeof window !== 'undefined' ? window : (typeof process === 'undefined' ? 'undefined' : (0, _typeof3.default)(process)) === 'object' && \"function\" === 'function' && (typeof global === 'undefined' ? 'undefined' : (0, _typeof3.default)(global)) === 'object' ? global : undefined;\n\nvar ds = root.ds = root.ds || {};\nds.createjs = ds.createjs || {};\nds.createjs.GalleryLooper = GalleryLooper;\n\nexports.default = GalleryLooper;\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(15), __webpack_require__(8)))\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/ds/createjs/GalleryLooper.js\n// module id = 164\n// module chunks = 0\n\n//# sourceURL=webpack:///./src/ds/createjs/GalleryLooper.js?")},function(module,exports,__webpack_require__){"use strict";eval("/* WEBPACK VAR INJECTION */(function(process, global) {\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _typeof2 = __webpack_require__(9);\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nvar _getPrototypeOf = __webpack_require__(72);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(70);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(71);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(73);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(74);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _EventDispatcher2 = __webpack_require__(69);\n\nvar _EventDispatcher3 = _interopRequireDefault(_EventDispatcher2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * 环型画廊逻辑管理类。 呈现内容是在中间,所以显示个数必须是奇数;\n * @class\n * @memberof ds.gemo\n * @requires module:ds/core/EventDispatcher.js\n */\nvar GalleryAnnularLoopManager = function (_EventDispatcher) {\n    (0, _inherits3.default)(GalleryAnnularLoopManager, _EventDispatcher);\n\n    /**\n     * 构建函数\n     * @param {array} data  设置显示的内容数据列表，如果以开始无数据可以传null\n     * @param {number} showNum 设置显示个数  至少3个 必须是奇数\n     */\n    function GalleryAnnularLoopManager(data, showNum) {\n        (0, _classCallCheck3.default)(this, GalleryAnnularLoopManager);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (GalleryAnnularLoopManager.__proto__ || (0, _getPrototypeOf2.default)(GalleryAnnularLoopManager)).call(this));\n\n        _this._data = [];\n\n        _this._selectObj = null;\n\n        _this._direction = false;\n\n        //小与3个至少3个，至少3个才能循环。并且是奇数\n        var _showNum = showNum;\n        if (_showNum <= 3) _showNum = 3;\n        if (_showNum % 2 === 0) _showNum += 1;\n        _this._showNum = _showNum;\n\n        // console.log('_showNum:',_showNum);\n\n        //前后间隔值\n        _this._spaceNum = _showNum / 2 >> 0;\n\n        //显示的对象index\n        _this._index = -1;\n\n        // 上一个显示对象index\n        _this._oldIndex = 0;\n\n        //当前显示元素数据list\n        _this._currentLists = null;\n        //之前显示元素数list\n        _this._beforeLists = null;\n\n        //初始化\n        if (data) _this.initData(data);\n\n        return _this;\n    }\n\n    /**\n     * 初始化数据\n     * @param {array} data\n     */\n\n\n    (0, _createClass3.default)(GalleryAnnularLoopManager, [{\n        key: 'initData',\n        value: function initData(data) {\n\n            this._data = data;\n            this._currentIndexs = [];\n            this._beforeIndexs = [];\n            this._index = -1;\n            this.select(0);\n        }\n\n        /**\n         * 选择图片\n         * @param {number|*} value 索引号 或者 呈现数据对象\n         */\n\n    }, {\n        key: 'select',\n        value: function select(value) {\n\n            var _data = this._data;\n            if (!_data) return;\n\n            if (typeof value != 'number') {\n\n                var _num = _data.indexOf(value);\n\n                if (_num < 0) {\n                    console.warn('GalleryAnnularLoopManager 没有这个对象:', value);\n                    return;\n                }\n\n                value = _num;\n            }\n\n            var _index = this._index;\n            //选择以后不做变化\n            if (_index == value) return;\n            if (value <= 0) value = 0;\n            if (value >= _data.length) value = _data.length - 1;\n\n            //记录旧的编号\n            this._oldIndex = _index;\n\n            //记录旧显示列表\n            this._beforeLists = this._currentLists;\n            //当前现在编号\n            this._index = value;\n            _index = this._index;\n            //当前选择对象\n            this._selectObj = _data[_index];\n            //记录当前显示对象组\n            this._currentLists = [];\n            this._beforeIndexs = this._currentIndexs;\n            this._currentIndexs = [];\n            var _obj = void 0,\n                _nobj = void 0,\n                _pobj = void 0,\n                _nnum = void 0,\n                _pnum = void 0;\n\n            // console.log('this._spaceNum',this._spaceNum);\n            //填充前后\n            for (var i = 0; i < this._spaceNum + 1; i++) {\n                if (i === 0) {\n                    _obj = _data[_index];\n                    this._currentLists.push(_obj);\n                    this._currentIndexs.push(_index);\n                } else {\n                    _nnum = this._getLegalNumber(_index + i);\n                    _pnum = this._getLegalNumber(_index - i);\n\n                    _nobj = _data[_nnum];\n                    _pobj = _data[_pnum];\n\n                    this._currentIndexs.push(_nnum);\n                    this._currentIndexs.splice(0, 0, _pnum);\n\n                    this._currentLists.push(_nobj);\n                    this._currentLists.splice(0, 0, _pobj);\n                }\n            }\n            // console.log('beforeIndexs>',this._beforeIndexs);\n            // console.log('_currentIndexs>',this._currentIndexs);\n\n            //计算方向\n            if (_index === _data.length - 1 && this._oldIndex === 0) {\n                this._direction = false;\n            } else if (_index === 0 && this._oldIndex == _data.length - 1) {\n                this._direction = true;\n            } else {\n                if (_index > this._oldIndex) this._direction = true;else this._direction = false;\n            }\n            // log('this._beforeLists:',this._beforeLists);\n            // log('this._currentLists:',this._currentLists);\n            //数据更新事件\n            /**\n             * 翻页数据更新\n             * @event  ds.gemo.GalleryAnnularLoopManager#update\n             * @property {array} old - 旧数据数组,之前呈现数据\n             * @property {array} now - 新数据数组,当前呈现数据\n             * @property {array} oldIndexs - 旧数据索引数组\n             * @property {array} nowIndexs - 新数据索引数组\n             * @property {number} index - 当前索引\n             * @property {*} select - 当前对象\n             * @property {boolean} isInit - 是否刚初始化\n             * @property {boolean} direction - 切换方向\n             */\n            this.ds({\n                type: 'update', //更新数据\n                old: this._beforeLists, //旧数据组\n                now: this._currentLists, //新数据组\n                oldIndexs: this._beforeIndexs, //旧编号数据组\n                nowIndexs: this._currentIndexs, //新编号数据组\n                index: _index, //当前选择数字\n                select: this._selectObj, //当前选择对象\n                isInit: this._oldIndex == -1 ? true : false, //是否初始化数据\n                direction: this._direction //方向\n            });\n            //初始化数据时候发送事件\n            if (this._oldIndex == -1) {\n                /**\n                 * 初始化翻页内容\n                 * @event  ds.gemo.GalleryAnnularLoopManager#upTotal\n                 * @property {array} old - 旧数据数组,之前呈现数据\n                 * @property {array} now - 新数据数组,当前呈现数据\n                 * @property {number} index - 当前索引\n                 * @property {*} select - 当前对象\n                 * @property {boolean} direction - 切换方向\n                 */\n                this.ds({\n                    type: 'upTotal',\n                    old: this._beforeLists,\n                    now: this._currentLists,\n                    index: _index,\n                    select: this._selectObj,\n                    direction: this._direction\n                });\n            }\n        }\n\n        /**\n         * 之前数据索引列表\n         * @return {array}\n         */\n\n    }, {\n        key: '_getLegalNumber',\n\n\n        /**\n         * 计算环型循环滚动 数字合理性\n         * @param {number} value 需要计算的数字\n         * @return {number}\n         * @private\n         */\n        value: function _getLegalNumber(value) {\n            var _data = this._data;\n            var _num = void 0;\n            if (value >= 0 && value <= _data.length - 1) {\n                return value;\n            } else if (value < 0) {\n                _num = _data.length + value;\n                return _num;\n            } else {\n                _num = value - _data.length;\n                return _num;\n            }\n        }\n        /**\n         * 上一个\n         */\n\n    }, {\n        key: 'previous',\n        value: function previous() {\n\n            if (!this._data) return;\n            var _num = this._index - 1;\n            if (_num < 0) _num = this._data.length - 1;\n            this.select(_num);\n        }\n\n        /**\n         * 下一个\n         */\n\n    }, {\n        key: 'next',\n        value: function next() {\n\n            if (!this._data) return;\n            var _num = this._index + 1;\n            if (_num >= this._data.length) _num = 0;\n            this.select(_num);\n        }\n\n        /**\n         * 运动方向\n         * @return {*}\n         */\n\n    }, {\n        key: 'beforeIndexs',\n        get: function get() {\n            return this._beforeLists;\n        }\n\n        /**\n         * 之前数据索引列表\n         * @return {array}\n         */\n\n    }, {\n        key: 'currentIndexs',\n        get: function get() {\n            return this._currentIndexs;\n        }\n\n        /**\n         * 之前数据列表\n         * @return {array}\n         */\n\n    }, {\n        key: 'beforeLists',\n        get: function get() {\n            return this._beforeLists;\n        }\n        /**\n         * 当前数据列表\n         * @return {array}\n         */\n\n    }, {\n        key: 'currentLists',\n        get: function get() {\n            return this._currentLists;\n        }\n\n        /**\n         * 呈现数据对象\n         * @return {array}\n         */\n\n    }, {\n        key: 'data',\n        get: function get() {\n            return this._data;\n        }\n    }, {\n        key: 'direction',\n        get: function get() {\n            return this.direction;\n        }\n\n        /**\n         * 当前显示的对象\n         * @return {*}\n         */\n\n    }, {\n        key: 'selectObj',\n        get: function get() {\n            return this._selectObj;\n        }\n\n        /**\n         * 当前数据索引\n         * @return {number}\n         */\n\n    }, {\n        key: 'index',\n        get: function get() {\n            return this._index;\n        }\n\n        /**\n         * 间隔值\n         * @return {number}\n         */\n\n    }, {\n        key: 'spaceNum',\n        get: function get() {\n            return this._spaceNum;\n        }\n    }]);\n    return GalleryAnnularLoopManager;\n}(_EventDispatcher3.default);\n\nvar root = typeof window !== 'undefined' ? window : (typeof process === 'undefined' ? 'undefined' : (0, _typeof3.default)(process)) === 'object' && \"function\" === 'function' && (typeof global === 'undefined' ? 'undefined' : (0, _typeof3.default)(global)) === 'object' ? global : undefined;\n\nvar ds = root.ds = root.ds || {};\nds.gemo = ds.gemo || {};\nds.gemo.GalleryAnnularLoopManager = GalleryAnnularLoopManager;\n\nexports.default = GalleryAnnularLoopManager;\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(15), __webpack_require__(8)))\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/ds/gemo/GalleryAnnularLoopManager.js\n// module id = 165\n// module chunks = 0\n\n//# sourceURL=webpack:///./src/ds/gemo/GalleryAnnularLoopManager.js?")}]));